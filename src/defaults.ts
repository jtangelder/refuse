/**
 * Fender Mustang WebHID API - Preset Defaults
 * Amp and effect default parameter sets
 */

import { DspType, AmpParam } from "./constants";

/**
 * Returns default parameters for a given amp model
 */
// prettier-ignore
export function getAmpDefaults(modelId: number): Uint8Array {
  const d = new Uint8Array(64);
  d.set([0x1c, 0x03, 0x05, 0x00, 0x00, 0x00, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], 0);
  d[16] = (modelId >> 8) & 0xff;
  d[17] = modelId & 0xff;

  let params: number[] = new Array(20).fill(0x80); // Fallback

  switch (modelId) {
    case 0x6700: params = [0xaa, 0x99, 0x80, 0x80, 0xbe, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x01, 0x00, 0x01, 0x01]; break; // F57_DELUXE
    case 0x6400: params = [0xaa, 0xa2, 0x80, 0x80, 0x80, 0x7a, 0xa2, 0x91, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x02, 0x00, 0x02, 0x02]; break; // F59_BASSMAN
    case 0x7c00: params = [0xaa, 0xb3, 0x00, 0xff, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x0c, 0x00, 0x0c, 0x0c]; break; // F57_CHAMP
    case 0x5300: params = [0xaa, 0x71, 0x00, 0xff, 0x91, 0xcf, 0x38, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x03, 0x03]; break; // F65_DELUXE
    case 0x6a00: params = [0xaa, 0x55, 0x00, 0xff, 0x99, 0xcc, 0x4c, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x04, 0x00, 0x04, 0x04]; break; // F65_PRINCETON
    case 0x7500: params = [0xaa, 0x55, 0x80, 0x63, 0xb3, 0xbb, 0xaa, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x05, 0x00, 0x05, 0x05]; break; // F65_TWIN
    case 0x7200: params = [0xaa, 0xbb, 0x82, 0x55, 0x99, 0xa2, 0x99, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x02, 0x06, 0x00, 0x06, 0x06]; break; // SUPER_SONIC
    case 0x6100: params = [0xaa, 0xa2, 0x80, 0x63, 0x99, 0x80, 0xb0, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x07, 0x00, 0x07, 0x07]; break; // BRIT_60S
    case 0x7900: params = [0xaa, 0xff, 0x80, 0x7d, 0xaa, 0x5b, 0xc4, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x01, 0x0b, 0x00, 0x0b, 0x0b]; break; // BRIT_70S
    case 0x5e00: params = [0xaa, 0xff, 0x80, 0x7d, 0xaa, 0x5b, 0xc4, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x01, 0x09, 0x00, 0x09, 0x09]; break; // BRIT_80S
    case 0x5d00: params = [0xaa, 0x8e, 0x80, 0x66, 0xa4, 0x19, 0xc7, 0x71, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x03, 0x0a, 0x00, 0x0a, 0x0a]; break; // US_90S
    case 0x6d00: params = [0xaa, 0xa4, 0x80, 0x55, 0x99, 0x4c, 0x91, 0x8e, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x02, 0x08, 0x00, 0x08, 0x08]; break; // METAL_2000
    case 0xf100: params = [0xff, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0d, 0x0d]; break; // STUDIO_PREAMP
  }
  d.set(params, 32);
  return d;
}

/**
 * Returns default parameters for a given effect model
 */
// prettier-ignore
export function getEffectDefaults(type: DspType, modelId: number): Uint8Array {
  const d = new Uint8Array(64);
  d.set([0x1c, 0x03, type, 0x00, 0x00, 0x00, 0x01, 0x01], 0);
  d[16] = (modelId >> 8) & 0xff;
  d[17] = modelId & 0xff;
  d[20] = 0x08;
  d[21] = 0x01; // Common Flags

  let knobs: number[] = [0x80, 0x80, 0x80, 0x80, 0x80, 0x00];

  switch (modelId) {
    case 0x3c00: knobs = [0x80, 0x80, 0x80, 0x80, 0x80]; break; // Overdrive
    case 0x4900: knobs = [0xff, 0x80, 0x00, 0xff]; break; // Wah
    case 0x4a00: knobs = [0xff, 0x80, 0x00, 0xff]; break; // Touch Wah
    case 0x8800: knobs = [0x01]; d[19] = 0x08; d[20] = 0x08; break; // Simple Comp
    case 0x0700: knobs = [0x8d, 0x0f, 0x4f, 0x7f, 0x7f]; break; // Compressor
    case 0x1200: knobs = [0xff, 0x0e, 0x19, 0x19, 0x80]; break; // Sine Chorus
    case 0x1300: knobs = [0x5d, 0x0e, 0x19, 0x19, 0x80]; break; // Tri Chorus
    case 0x2d00: knobs = [0xf4, 0xff, 0x27, 0xad, 0x82]; d[20] = 0x01; break; // Vibratone
    case 0x4000: knobs = [0xdb, 0xad, 0x63, 0xf4, 0xf1]; d[20] = 0x01; break; // Vintage Trem
    case 0x4100: knobs = [0xdb, 0x99, 0x7d]; d[20] = 0x01; break; // Sine Trem
    case 0x2200: knobs = [0xff, 0x80, 0x80, 0x00, 0x80]; d[20] = 0x08; break; // Ring Mod
    case 0x1f00: knobs = [0xc7, 0x3e, 0x80]; d[20] = 0x08; break; // Pitch Shift
    case 0x1600: knobs = [0xff, 0x80, 0x80, 0x80, 0x80]; break; // Mono Delay
    case 0x2b00: knobs = [0x7d, 0x1c, 0x00, 0x63, 0x80]; break; // Tape Delay
    case 0x2a00: knobs = [0x7d, 0x88, 0x1c, 0x63, 0xff, 0x80]; break; // Stereo Tape
    case 0x2400: knobs = [0x6e, 0x5d, 0x6e, 0x80, 0x91]; break; // Small Hall
    case 0x3a00: knobs = [0x4f, 0x3e, 0x80, 0x05, 0xb0]; break; // Large Hall
    case 0x4b00: knobs = [0x38, 0x80, 0x91, 0x80, 0xb6]; break; // Large Plate
    case 0x0b00: knobs = [0x80, 0x8b, 0x49, 0xff, 0x80]; break; // 65 Spring
  }
  d.set(knobs, 32);
  return d;
}
