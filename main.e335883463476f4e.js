"use strict";(self.webpackChunkrefuse=self.webpackChunkrefuse||[]).push([[792],{978(){let Qe=null,Ir=!1,xa=1;const Je=Symbol("SIGNAL");function V(e){const t=Qe;return Qe=e,t}const bi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ea(e){if(Ir)throw new Error("");if(null===Qe)return;Qe.consumerOnSignalRead(e);const t=Qe.producersTail;if(void 0!==t&&t.producer===e)return;let n;const r=Qe.recomputing;if(r&&(n=void 0!==t?t.nextProducer:Qe.producers,void 0!==n&&n.producer===e))return Qe.producersTail=n,void(n.lastReadVersion=e.version);const i=e.consumersTail;if(void 0!==i&&i.consumer===Qe&&(!r||function VT(e,t){const n=t.producersTail;if(void 0!==n){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(void 0!==r)}return!1}(i,Qe)))return;const o=Si(Qe),s={producer:e,consumer:Qe,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Qe.producersTail=s,void 0!==t?t.nextProducer=s:Qe.producers=s,o&&U0(e,s)}function Lo(e){if((!Si(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==xa)){if(!e.producerMustRecompute(e)&&!Ca(e))return void ba(e);e.producerRecomputeValue(e),ba(e)}}function H0(e){if(void 0===e.consumers)return;const t=Ir;Ir=!0;try{for(let n=e.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||PT(r)}}finally{Ir=t}}function $0(){return!1!==Qe?.consumerAllowSignalWrites}function PT(e){e.dirty=!0,H0(e),e.consumerMarkedDirty?.(e)}function ba(e){e.dirty=!1,e.lastCleanEpoch=xa}function Ci(e){return e&&function FT(e){e.producersTail=void 0,e.recomputing=!0}(e),V(e)}function Vo(e,t){V(t),e&&function LT(e){e.recomputing=!1;const t=e.producersTail;let n=void 0!==t?t.nextProducer:e.producers;if(void 0!==n){if(Si(e))do{n=qu(n)}while(void 0!==n);void 0!==t?t.nextProducer=void 0:e.producers=void 0}}(e)}function Ca(e){for(let t=e.producers;void 0!==t;t=t.nextProducer){const n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Lo(n),r!==n.version))return!0}return!1}function Bo(e){if(Si(e)){let t=e.producers;for(;void 0!==t;)t=qu(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function U0(e,t){const n=e.consumersTail,r=Si(e);if(void 0!==n?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;void 0!==i;i=i.nextProducer)U0(i.producer,i)}function qu(e){const t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,void 0!==r?r.prevConsumer=i:t.consumersTail=i,void 0!==i)i.nextConsumer=r;else if(t.consumers=r,!Si(t)){let o=t.producers;for(;void 0!==o;)o=qu(o)}return n}function Si(e){return e.consumerIsAlwaysLive||void 0!==e.consumers}function Ku(e,t){return Object.is(e,t)}const Tr=Symbol("UNSET"),wi=Symbol("COMPUTING"),Xn=Symbol("ERRORED"),jT={...bi,value:Tr,dirty:!0,error:null,equal:Ku,kind:"computed",producerMustRecompute:e=>e.value===Tr||e.value===wi,producerRecomputeValue(e){if(e.value===wi)throw new Error("");const t=e.value;e.value=wi;const n=Ci(e);let r,i=!1;try{r=e.computation(),V(null),i=t!==Tr&&t!==Xn&&r!==Xn&&e.equal(t,r)}catch(o){r=Xn,e.error=o}finally{Vo(e,n)}i?e.value=t:(e.value=r,e.version++)}};let z0=function HT(){throw new Error};function G0(e){z0(e)}function UT(e,t){const n=Object.create(W0);n.value=e,void 0!==t&&(n.equal=t);const r=()=>function zT(e){return Ea(e),e.value}(n);return r[Je]=n,[r,s=>Yu(n,s),s=>function q0(e,t){$0()||G0(e),Yu(e,t(e.value))}(n,s)]}function Yu(e,t){$0()||G0(e),e.equal(e.value,t)||(e.value=t,function GT(e){e.version++,function OT(){xa++}(),H0(e)}(e))}const W0={...bi,equal:Ku,value:void 0,kind:"signal"},WT={...bi,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function Be(e){return"function"==typeof e}function K0(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Qu=K0(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function wa(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ze{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Be(r))try{r()}catch(o){t=o instanceof Qu?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Z0(o)}catch(s){t=t??[],s instanceof Qu?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Qu(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Z0(t);else{if(t instanceof Ze){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&wa(n,t)}remove(t){const{_finalizers:n}=this;n&&wa(n,t),t instanceof Ze&&t._removeParent(this)}}Ze.EMPTY=(()=>{const e=new Ze;return e.closed=!0,e})();const Y0=Ze.EMPTY;function Q0(e){return e instanceof Ze||e&&"closed"in e&&Be(e.remove)&&Be(e.add)&&Be(e.unsubscribe)}function Z0(e){Be(e)?e():e.unsubscribe()}const Mr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ia={setTimeout(e,t,...n){const{delegate:r}=Ia;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Ia;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function X0(e){Ia.setTimeout(()=>{const{onUnhandledError:t}=Mr;if(!t)throw e;t(e)})}function Zu(){}const YT=Xu("C",void 0,void 0);function Xu(e,t,n){return{kind:e,value:t,error:n}}let kr=null;function Ta(e){if(Mr.useDeprecatedSynchronousErrorHandling){const t=!kr;if(t&&(kr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=kr;if(kr=null,n)throw r}}else e()}class Ju extends Ze{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Q0(t)&&t.add(this)):this.destination=nM}static create(t,n,r){return new td(t,n,r)}next(t){this.isStopped?nd(function ZT(e){return Xu("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?nd(function QT(e){return Xu("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?nd(YT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const JT=Function.prototype.bind;function ed(e,t){return JT.call(e,t)}class eM{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ma(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ma(r)}else Ma(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ma(n)}}}class td extends Ju{constructor(t,n,r){let i;if(super(),Be(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Mr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ed(t.next,o),error:t.error&&ed(t.error,o),complete:t.complete&&ed(t.complete,o)}):i=t}this.destination=new eM(i)}}function Ma(e){Mr.useDeprecatedSynchronousErrorHandling?function XT(e){Mr.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=e)}(e):X0(e)}function nd(e,t){const{onStoppedNotification:n}=Mr;n&&Ia.setTimeout(()=>n(e,t))}const nM={closed:!0,next:Zu,error:function tM(e){throw e},complete:Zu},rd="function"==typeof Symbol&&Symbol.observable||"@@observable";function id(e){return e}let et=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function iM(e){return e&&e instanceof Ju||function rM(e){return e&&Be(e.next)&&Be(e.error)&&Be(e.complete)}(e)&&Q0(e)}(n)?n:new td(n,r,i);return Ta(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=em(r))((i,o)=>{const s=new td({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[rd](){return this}pipe(...n){return function J0(e){return 0===e.length?id:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=em(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function em(e){var t;return null!==(t=e??Mr.Promise)&&void 0!==t?t:Promise}const oM=K0(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let od,pe=(()=>{class e extends et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new tm(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oM}next(n){Ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Y0:(this.currentObservers=null,o.push(n),new Ze(()=>{this.currentObservers=null,wa(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new et;return n.source=this,n}}return e.create=(t,n)=>new tm(t,n),e})();class tm extends pe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Y0}}class nm extends pe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function sd(){return od}function Jn(e){const t=od;return od=e,t}const sM=Symbol("NotFound");function ad(e){return e===sM||"\u0275NotFound"===e?.name}Error;class y extends Error{code;constructor(t,n){super(function mn(e,t){return`${function aM(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}(t,n)),this.code=t}}const Oe=globalThis;function H(e){for(let t in e)if(e[t]===H)return t;throw Error("")}function cM(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Gt(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Gt).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function ld(e,t){return e?t?`${e} ${t}`:e:t||""}const lM=H({__forward_ref__:H});function ye(e){return e.__forward_ref__=ye,e.toString=function(){return Gt(this())},e}function X(e){return ka(e)?e():e}function ka(e){return"function"==typeof e&&e.hasOwnProperty(lM)&&e.__forward_ref__===ye}function B(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function er(e){return{providers:e.providers||[],imports:e.imports||[]}}function Aa(e){return function gM(e,t){return e.hasOwnProperty(t)&&e[t]||null}(e,Ra)}function Na(e){return e&&e.hasOwnProperty(ud)?e[ud]:null}const Ra=H({\u0275prov:H}),ud=H({\u0275inj:H});class S{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fd(e){return e&&!!e.\u0275providers}const om=H({\u0275cmp:H}),xM=H({\u0275dir:H}),EM=H({\u0275pipe:H}),Rr=H({\u0275fac:H}),jo=H({__NG_ELEMENT_ID__:H}),am=H({__NG_ENV_ID__:H});function ae(e){return Pa(e),e[om]||null}function Dt(e){return Pa(e),e[xM]||null}function nn(e){return Pa(e),e[EM]||null}function Pa(e,t){if(null==e)throw new y(-919,!1)}function Z(e){return"string"==typeof e?e:null==e?"":String(e)}const pd=H({ngErrorCode:H}),cm=H({ngErrorMessage:H}),$o=H({ngTokenPath:H});function gd(e,t){return lm("",-200,t)}function md(e,t){throw new y(-201,!1)}function lm(e,t,n){const r=new y(t,e);return r[pd]=t,r[cm]=e,n&&(r[$o]=n),r}let _d;function um(){return _d}function kt(e){const t=_d;return _d=e,t}function dm(e,t,n){const r=Aa(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==t?t:void md()}const Or={};class TM{injector;constructor(t){this.injector=t}retrieve(t,n){const r=Uo(n)||0;try{return this.injector.get(t,8&r?null:Or,r)}catch(i){if(ad(i))return i;throw i}}}function MM(e,t=0){const n=sd();if(void 0===n)throw new y(-203,!1);if(null===n)return dm(e,void 0,t);{const r=function kM(e){return{optional:!!(8&e),host:!!(1&e),self:!!(2&e),skipSelf:!!(4&e)}}(t),i=n.retrieve(e,r);if(ad(i)){if(r.optional)return null;throw i}return i}}function te(e,t=0){return(um()||MM)(X(e),t)}function x(e,t){return te(e,Uo(t))}function Uo(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vd(e){const t=[];for(let n=0;n<e.length;n++){const r=X(e[n]);if(Array.isArray(r)){if(0===r.length)throw new y(900,!1);let i,o=0;for(let s=0;s<r.length;s++){const a=r[s],c=AM(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(te(i,o))}else t.push(te(r))}return t}function AM(e){return e.__NG_DI_FLAG__}function Pr(e,t){return e.hasOwnProperty(Rr)?e[Rr]:null}function Mi(e,t){e.forEach(n=>Array.isArray(n)?Mi(n,t):t(n))}function hm(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Va(e,t,n){let r=Go(e,t);return r>=0?e[1|r]=n:(r=~r,function gm(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Dd(e,t){const n=Go(e,t);if(n>=0)return e[1|n]}function Go(e,t){return function RM(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const yn={},Ee=[],ki=new S(""),mm=new S("",-1),xd=new S("");class Ba{get(t,n=Or){if(n===Or){const i=lm("",-201);throw i.name="\u0275NotFound",i}return n}}function PM(...e){return{\u0275providers:Ed(0,e),\u0275fromNgModule:!0}}function Ed(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Mi(t,s=>{const a=s;ja(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&ym(i,o),n}function ym(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];bd(i,o=>{t(o,r)})}}function ja(e,t,n,r){if(!(e=X(e)))return!1;let i=null,o=Na(e);const s=!o&&ae(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=Na(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)ja(l,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Mi(o.imports,u=>{ja(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&ym(l,t)}if(!a){const l=Pr(i)||(()=>new i);t({provide:i,useFactory:l,deps:Ee},i),t({provide:xd,useValue:i,multi:!0},i),t({provide:ki,useValue:()=>te(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=e;bd(c,u=>{t(u,l)})}}}return i!==e&&void 0!==e.providers}function bd(e,t){for(let n of e)fd(n)&&(n=n.\u0275providers),Array.isArray(n)?bd(n,t):t(n)}const FM=H({provide:String,useValue:H});function Cd(e){return null!==e&&"object"==typeof e&&FM in e}function Rn(e){return"function"==typeof e}const Sd=new S(""),Ha={},Em={};let wd;function $a(){return void 0===wd&&(wd=new Ba),wd}class Vt{}class Fr extends Vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Td(t,s=>this.processProvider(s)),this.records.set(mm,Ai(void 0,this)),i.has("environment")&&this.records.set(Vt,Ai(void 0,this));const o=this.records.get(Sd);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xd,Ee,{self:!0}))}retrieve(t,n){const r=Uo(n)||0;try{return this.get(t,Or,r)}catch(i){if(ad(i))return i;throw i}}destroy(){qo(this),this._destroyed=!0;const t=V(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),V(t)}}onDestroy(t){return qo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){qo(this);const n=Jn(this),r=kt(void 0);try{return t()}finally{Jn(n),kt(r)}}get(t,n=Or,r){if(qo(this),t.hasOwnProperty(am))return t[am](this);const i=Uo(r),s=Jn(this),a=kt(void 0);try{if(!(4&i)){let l=this.records.get(t);if(void 0===l){const u=function HM(e){return"function"==typeof e||"object"==typeof e&&"InjectionToken"===e.ngMetadataName}(t)&&Aa(t);l=u&&this.injectableDefInScope(u)?Ai(Id(t),Ha):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l,i)}return(2&i?$a():this.parent).get(t,n=8&i&&n===Or?null:n)}catch(c){const l=function wM(e){return e[pd]}(c);throw-200===l||-201===l?new y(l,null):c}finally{kt(a),Jn(s)}}resolveInjectorInitializers(){const t=V(null),n=Jn(this),r=kt(void 0);try{const o=this.get(ki,Ee,{self:!0});for(const s of o)s()}finally{Jn(n),kt(r),V(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Gt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){let n=Rn(t=X(t))?t:X(t&&t.provide);const r=function VM(e){return Cd(e)?Ai(void 0,e.useValue):Ai(bm(e),Ha)}(t);if(!Rn(t)&&!0===t.multi){let i=this.records.get(n);i||(i=Ai(void 0,Ha,!0),i.factory=()=>vd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){const i=V(null);try{if(n.value===Em)throw gd(Gt(t));return n.value===Ha&&(n.value=Em,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function jM(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{V(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=X(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Id(e){const t=Aa(e),n=null!==t?t.factory:Pr(e);if(null!==n)return n;if(e instanceof S)throw new y(204,!1);if(e instanceof Function)return function LM(e){if(e.length>0)throw new y(204,!1);const n=function mM(e){return(e?.[Ra]??null)||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new y(204,!1)}function bm(e,t,n){let r;if(Rn(e)){const i=X(e);return Pr(i)||Id(i)}if(Cd(e))r=()=>X(e.useValue);else if(function Dm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...vd(e.deps||[]));else if(function vm(e){return!(!e||!e.useExisting)}(e))r=(i,o)=>te(X(e.useExisting),void 0!==o&&8&o?8:void 0);else{const i=X(e&&(e.useClass||e.provide));if(!function BM(e){return!!e.deps}(e))return Pr(i)||Id(i);r=()=>new i(...vd(e.deps))}return r}function qo(e){if(e.destroyed)throw new y(205,!1)}function Ai(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Td(e,t){for(const n of e)Array.isArray(n)?Td(n,t):n&&fd(n)?Td(n.\u0275providers,t):t(n)}function Cm(e,t){let n;e instanceof Fr?(qo(e),n=e):n=new TM(e);const i=Jn(n),o=kt(void 0);try{return t()}finally{Jn(i),kt(o)}}const j=11,F=27;function Ae(e){return Array.isArray(e)&&"object"==typeof e[1]}function xt(e){return Array.isArray(e)&&!0===e[1]}function wm(e){return!!(4&e.flags)}function vn(e){return e.componentOffset>-1}function Fi(e){return!(1&~e.flags)}function on(e){return!!e.template}function or(e){return!!(512&e[2])}function Fn(e){return!(256&~e[2])}function nt(e){for(;Array.isArray(e);)e=e[0];return e}function Li(e,t){return nt(t[e])}function Te(e,t){return nt(t[e.index])}function Vi(e,t){return e.data[t]}function jr(e,t){return e[t]}function Et(e,t){const n=t[e];return Ae(n)?n:n[0]}function Rd(e){return!(128&~e[2])}function ht(e,t){return null==t?null:e[t]}function Nm(e){e[17]=0}function Rm(e){1024&e[2]||(e[2]|=1024,Rd(e)&&Bi(e))}function qa(e){return!!(9216&e[2]||e[24]?.dirty)}function Od(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),qa(e)&&Bi(e)}function Bi(e){e[10].changeDetectionScheduler?.notify(0);let t=Ln(e);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,Rd(t));)t=Ln(t)}function Wa(e,t){if(Fn(e))throw new y(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function Ln(e){const t=e[3];return xt(t)?t[3]:t}const K={lFrame:Xm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ld=!1;function Vm(){K.lFrame.elementDepthCount--}function Vd(){return K.bindingsEnabled}function jm(e){return K.skipHydrationRootTNode===e}function Hm(){K.skipHydrationRootTNode=null}function D(){return K.lFrame.lView}function U(){return K.lFrame.tView}function be(e){return K.lFrame.contextLView=e,e[8]}function Ce(e){return K.lFrame.contextLView=null,e}function Y(){let e=$m();for(;null!==e&&64===e.type;)e=e.parent;return e}function $m(){return K.lFrame.currentTNode}function Vn(e,t){const n=K.lFrame;n.currentTNode=e,n.isParent=t}function Um(){return K.lFrame.isParent}function Wm(){return Ld}function Ka(e){const t=Ld;return Ld=e,t}function bt(){const e=K.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function pt(){return K.lFrame.bindingIndex++}function JM(e,t){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=e,Bd(t)}function Bd(e){K.lFrame.currentDirectiveIndex=e}function Ya(e){K.lFrame.currentQueryIndex=e}function tk(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[5]:null}function Qm(e,t,n){if(4&n){let i=t,o=e;for(;!(i=i.parent,null!==i||1&n||(i=tk(o),null===i||(o=o[14],10&i.type))););if(null===i)return!1;t=i,e=o}const r=K.lFrame=Zm();return r.currentTNode=t,r.lView=e,!0}function $d(e){const t=Zm(),n=e[1];K.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Zm(){const e=K.lFrame,t=null===e?null:e.child;return null===t?Xm(e):t}function Xm(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Jm(){const e=K.lFrame;return K.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const e_=Jm;function Ud(){const e=Jm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function at(){return K.lFrame.selectedIndex}function Hr(e){K.lFrame.selectedIndex=e}function sn(){const e=K.lFrame;return Vi(e.tView,e.selectedIndex)}let t_=!0;function Qa(){return t_}function Yo(e){t_=e}function n_(e,t=null,n=null,r){const i=function r_(e,t=null,n=null,r,i=new Set){const o=[n||Ee,PM(e)];return r=r||("object"==typeof e?void 0:Gt(e)),new Fr(o,t||$a(),r||null,i)}(e,t,n,r);return i.resolveInjectorInitializers(),i}class gt{static THROW_IF_NOT_FOUND=Or;static NULL=new Ba;static create(t,n){if(Array.isArray(t))return n_({name:""},n,t,"");{const r=t.name??"";return n_({name:r},t.parent,t.providers,r)}}static \u0275prov=B({token:gt,providedIn:"any",factory:()=>te(mm)});static __NG_ELEMENT_ID__=-1}const Ct=new S("");let jn=(()=>class e{static __NG_ELEMENT_ID__=ck;static __NG_ENV_ID__=n=>n})();class i_ extends jn{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Fn(this._lView)}onDestroy(t){const n=this._lView;return Wa(n,t),()=>function Pd(e,t){if(null===e[21])return;const n=e[21].indexOf(t);-1!==n&&e[21].splice(n,1)}(n,t)}}function ck(){return new i_(D())}const lk=!1;let $r=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new nm(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new et(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:e,providedIn:"root",factory:()=>new e})}return e})();const ee=class uk extends pe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,function Md(){return void 0!==um()||null!=sd()}()&&(this.destroyRef=x(jn,{optional:!0})??void 0,this.pendingTasks=x($r,{optional:!0})??void 0)}emit(t){const n=V(null);try{super.next(t)}finally{V(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ze&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function Za(...e){}function o_(e){let t,n;function r(){e=Za;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function s_(e){return queueMicrotask(()=>e()),()=>{e=Za}}const zd="isAngularZone",Xa=zd+"_ID";let dk=0;class le{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ee(!1);onMicrotaskEmpty=new ee(!1);onStable=new ee(!1);onError=new ee(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=lk}=t;if(typeof Zone>"u")throw new y(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function pk(e){const t=()=>{!function hk(e){function t(){o_(()=>{e.callbackScheduled=!1,qd(e),e.isCheckStableRunning=!0,Gd(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),qd(e))}(e)},n=dk++;e._inner=e._inner.fork({name:"angular",properties:{[zd]:!0,[Xa]:n,[Xa+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(function mk(e){return l_(e,"__ignore_ng_zone__")}(c))return r.invokeTask(o,s,a,c);try{return a_(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),c_(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return a_(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function _k(e){return l_(e,"__scheduler_tick__")}(c)&&t(),c_(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,qd(e),Gd(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(zd)}static assertInAngularZone(){if(!le.isInAngularZone())throw new y(909,!1)}static assertNotInAngularZone(){if(le.isInAngularZone())throw new y(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,fk,Za,Za);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const fk={};function Gd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function qd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function a_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function c_(e){e._nesting--,Gd(e)}class gk{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ee;onMicrotaskEmpty=new ee;onStable=new ee;onError=new ee;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}function l_(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Qo{_console=console;handleError(t){this._console.error("ERROR",t)}}const sr=new S("",{factory:()=>{const e=x(le),t=x(Vt);let n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(Qo),n.handleError(r))})}}}),u_={provide:ki,useValue:()=>{x(Qo,{optional:!0})},multi:!0};function an(e,t){const[n,r,i]=UT(e,t?.equal),o=n;return o.set=r,o.update=i,o.asReadonly=Wd.bind(o),o}function Wd(){const e=this[Je];if(void 0===e.readonlyFn){const t=()=>this();t[Je]=e,e.readonlyFn=t}return e.readonlyFn}let Kd=(()=>class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=vk})();function vk(){return new Kd(D(),Y())}class Hi{}const Yd=new S("",{factory:()=>!0}),Dk=new S("");let f_=(()=>{class e{static \u0275prov=B({token:e,providedIn:"root",factory:()=>new xk})}return e})();class xk{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){const r=this.queues.get(t.zone);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){const n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(const[n,r]of this.queues)t||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(const r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}function Fe(e){return function qT(e){const t=V(null);try{return e()}finally{V(t)}}(e)}let g_=null;function Zo(){return g_}class Tk{}const m_="browser";function I_(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function Q(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){I_(o,r,i,s,a,"next",c)}function a(c){I_(o,r,i,s,a,"throw",c)}s(void 0)})}}function cn(e){return t=>{if(function aA(e){return Be(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function jt(e,t,n,r,i){return new cA(e,t,n,r,i)}class cA extends Ju{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ts(e,t){return cn((n,r)=>{let i=0;n.subscribe(jt(r,o=>{r.next(e.call(t,o,i++))}))})}function Hn(e){return{toString:e}.toString()}function k_(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}class xA{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}const $n=(()=>{const e=()=>A_;return e.ngInherit=!0,e})();function A_(e){return e.type.prototype.ngOnChanges&&(e.setInput=bA),EA}function EA(){const e=R_(this),t=e?.current;if(t){const n=e.previous;if(n===yn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function bA(e,t,n,r,i){const o=this.declaredInputs[r],s=R_(e)||function CA(e,t){return e[N_]=t}(e,{previous:yn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new xA(l&&l.currentValue,n,c===yn),k_(e,t,i,n)}const N_="__ngSimpleChanges__";function R_(e){return e[N_]||null}const Ur=[],de=function(e,t=null,n){for(let r=0;r<Ur.length;r++)(0,Ur[r])(e,t,n)};var T=function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e}(T||{});function O_(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function rc(e,t,n){P_(e,t,3,n)}function ic(e,t,n,r){(3&e[2])===n&&P_(e,t,n,r)}function nf(e,t){let n=e[2];(3&n)===t&&(n&=16383,n+=1,e[2]=n)}function P_(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[17]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[17]+=65536),(a<o||-1==o)&&(MA(e,n,t,c),e[17]=(4294901760&e[17])+c+2),c++}function F_(e,t){de(T.LifecycleHookStart,e,t);const n=V(null);try{t.call(e)}finally{V(n),de(T.LifecycleHookEnd,e,t)}}function MA(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>14<e[17]>>16&&(3&e[2])===t&&(e[2]+=16384,F_(a,o)):F_(a,o)}class rs{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}}function sf(e){return 3===e||4===e||6===e}function V_(e){return 64===e.charCodeAt(0)}function Wi(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||B_(e,n,i,0,-1===n||2===n?t[++r]:null)}}return e}function B_(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n)return void(null!==i&&(e[o+1]=i));o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i)}function af(e){return-1!==e}function is(e){return 32767&e}function os(e,t){let n=function RA(e){return e>>16}(e),r=t;for(;n>0;)r=r[14],n--;return r}let cf=!0;function oc(e){const t=cf;return cf=e,t}let OA=0;const xn={};function sc(e,t){const n=$_(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,lf(r.data,e),lf(t,null),lf(r.blueprint,null));const i=ac(e,t),o=e.injectorIndex;if(af(i)){const s=is(i),a=os(i,t),c=a[1].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function lf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $_(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ac(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Y_(i),null===r)return-1;if(n++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function uf(e,t,n){!function PA(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(jo)&&(r=n[jo]),null==r&&(r=n[jo]=OA++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function U_(e,t,n){if(8&n||void 0!==e)return e;md()}function z_(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const i=e[9],o=kt(void 0);try{return i?i.get(t,r,8&n):dm(t,r,8&n)}finally{kt(o)}}return U_(r,0,n)}function G_(e,t,n,r=0,i){if(null!==e){if(2048&t[2]&&!(2&r)){const s=function jA(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[2]&&!or(s);){const a=q_(o,s,n,2|r,xn);if(a!==xn)return a;let c=o.parent;if(!c){const l=s[20];if(l){const u=l.get(n,xn,r);if(u!==xn)return u}c=Y_(s),s=s[14]}o=c}return i}(e,t,n,r,xn);if(s!==xn)return s}const o=q_(e,t,n,r,xn);if(o!==xn)return o}return z_(t,n,r,i)}function q_(e,t,n,r,i){const o=function VA(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(jo)?e[jo]:void 0;return"number"==typeof t?t>=0?255&t:BA:t}(n);if("function"==typeof o){if(!Qm(t,e,r))return 1&r?U_(i,0,r):z_(t,n,r,i);try{let s;if(s=o(r),null!=s||8&r)return s;md()}finally{e_()}}else if("number"==typeof o){let s=null,a=$_(e,t),c=-1,l=1&r?t[15][5]:null;for((-1===a||4&r)&&(c=-1===a?ac(e,t):t[a+8],-1!==c&&K_(r,!1)?(s=t[1],a=is(c),t=os(c,t)):a=-1);-1!==a;){const u=t[1];if(W_(o,a,u.data)){const d=LA(a,t,n,s,r,l);if(d!==xn)return d}c=t[a+8],-1!==c&&K_(r,t[1].data[a+8]===l)&&W_(o,a,t)?(s=u,a=is(c),t=os(c,t)):a=-1}}return i}function LA(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],u=function cc(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,u=o>>20,h=i?a+u:e.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){const f=s[c];if(f&&on(f)&&f.type===n)return c}return null}(a,s,n,null==r?vn(a)&&cf:r!=s&&!!(3&a.type),1&i&&o===a);return null!==u?ss(t,s,u,a,i):xn}function ss(e,t,n,r,i){let o=e[n];const s=t.data;if(o instanceof rs){const a=o;if(a.resolving)throw function ne(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Z(e)}(s[n]),gd();const c=oc(a.canSeeViewProviders);a.resolving=!0;const d=a.injectImpl?kt(a.injectImpl):null;Qm(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function TA(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=A_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,s[n],t)}finally{null!==d&&kt(d),oc(c),a.resolving=!1,e_()}}return o}function W_(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function K_(e,t){return!(2&e||1&e&&t)}class Le{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return G_(this._tNode,this._lView,t,Uo(r),n)}}function BA(){return new Le(Y(),D())}function rt(e){return Hn(()=>{const t=e.prototype.constructor,n=t[Rr]||df(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Rr]||df(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function df(e){return ka(e)?()=>{const t=df(X(e));return t&&t()}:Pr(e)}function Y_(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[5]:null}function KA(){return Ki(Y(),D())}function Ki(e,t){return new St(Te(e,t))}let St=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=KA})();function as(e){return!(128&~e.flags)}Symbol;var uc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(uc||{});const dc=new Map;let JA=0;function gf(e){dc.delete(e[19])}const _f="__ngContext__";function Nt(e,t){Ae(t)?(e[_f]=t[19],function tN(e){dc.set(e[19],e)}(t)):e[_f]=t}function dy(e){return hy(e[12])}function fy(e){return hy(e[4])}function hy(e){for(;null!==e&&!xt(e);)e=e[4];return e}let yf;const Gr=new S("",{factory:()=>EN}),EN="ng",Dy=new S(""),vf=new S("",{providedIn:"platform",factory:()=>"unknown"}),xy=new S(""),Ey=new S("",{factory:()=>x(Ct).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),MN=new S("",{factory:()=>!1});function _c(e){return!(32&~e.flags)}function Qy(e,t){const n=e.contentQueries;if(null!==n){const r=V(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=e.data[s];Ya(n[i]),a.contentQueries(2,t[s],s)}}}finally{V(r)}}}function Of(e,t,n){Ya(0);const r=V(null);try{t(e,n)}finally{V(r)}}function Pf(e,t,n){if(wm(t)){const r=V(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{V(r)}}}var Yt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e}(Yt||{});class iv{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss)`}}const IR=/^>|^->|<!--|-->|--!>|<!-$/g,TR=/(<|>)/g;function zf(e,t){return e.createComment(function hv(e){return e.replace(IR,t=>t.replace(TR,"\u200b$1\u200b"))}(t))}function Ic(e,t,n){return e.createElement(t,n)}function qr(e,t,n,r,i){e.insertBefore(t,n,r,i)}function gv(e,t,n){e.appendChild(t,n)}function mv(e,t,n,r,i){null!==r?qr(e,t,n,r,i):gv(e,t,n)}function gs(e,t,n,r){e.removeChild(null,t,n,r)}function yv(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&function NA(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];V_(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}}(e,t,r),null!==i&&function AR(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,i),null!==o&&function kR(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function XR(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const Sv="ng-template";function JR(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==XR(t[i+1].toLowerCase(),n,0))return!0}else if(Gf(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&"string"==typeof(o=t[i]);)if(o.toLowerCase()===n)return!0}return!1}function Gf(e){return 4===e.type&&e.value!==Sv}function eO(e,t,n){return t===(4!==e.type||n?e.value:Sv)}function tO(e,t,n){let r=4;const i=e.attrs,o=null!==i?function iO(e){for(let t=0;t<e.length;t++)if(sf(e[t]))return t;return e.length}(i):0;let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!eO(e,c,n)||""===c&&1===t.length){if(ln(r))return!1;s=!0}}else if(8&r){if(null===i||!JR(e,i,c,n)){if(ln(r))return!1;s=!0}}else{const l=t[++a],u=nO(c,i,Gf(e),n);if(-1===u){if(ln(r))return!1;s=!0;continue}if(""!==l){let d;if(d=u>o?"":i[u+1].toLowerCase(),2&r&&l!==d){if(ln(r))return!1;s=!0}}}}else{if(!s&&!ln(r)&&!ln(c))return!1;if(s&&ln(c))continue;s=!1,r=c|1&r}}return ln(r)||s}function ln(e){return!(1&e)}function nO(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function oO(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function wv(e,t,n=!1){for(let r=0;r<t.length;r++)if(tO(e,t[r],n))return!0;return!1}function Iv(e,t){return e?":not("+t.trim()+")":t}function aO(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ln(s)&&(t+=Iv(o,i),i=""),r=s,o=o||!ln(r);n++}return""!==i&&(t+=Iv(o,i)),t}const ge={};function qf(e,t,n,r,i,o,s,a,c,l,u){const d=F+r,h=d+i,f=function uO(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ge);return n}(d,h),p="function"==typeof l?l():l;return f[1]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function Mc(e,t,n,r,i,o,s,a,c,l,u){const d=t.blueprint.slice();return d[0]=i,d[2]=1228|r,(null!==l||e&&2048&e[2])&&(d[2]|=2048),Nm(d),d[3]=d[14]=e,d[8]=n,d[10]=s||e&&e[10],d[j]=a||e&&e[j],d[9]=c||e&&e[9]||null,d[5]=o,d[19]=function eN(){return JA++}(),d[6]=u,d[20]=l,d[15]=2==t.type?e[15]:d,d}function Wf(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function _s(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Kf(e,t){return e[12]?e[13][4]=t:e[12]=t,e[13]=t,t}function k(e=1){Mv(U(),D(),at()+e,!1)}function Mv(e,t,n,r){if(!r)if(3&~t[2]){const o=e.preOrderHooks;null!==o&&ic(t,o,0,n)}else{const o=e.preOrderCheckHooks;null!==o&&rc(t,o,n)}Hr(n)}var kc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(kc||{});function Wr(e,t,n,r){const i=V(null);try{const[o,s,a]=e.inputs[n];let c=null;0!==(s&kc.SignalBased)&&(c=t[o][Je]),null!==c&&void 0!==c.transformFn?r=c.transformFn(r):null!==a&&(r=a.call(t,r)),null!==e.setInput?e.setInput(t,c,r,n,o):k_(t,c,o,r)}finally{V(i)}}var dr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(dr||{});function Qf(e,t){return undefined(e,t)}const Kr=new Set;var Zf=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Zf||{});const ys=new S(""),Rv=new Set;function ct(e){Rv.has(e)||(Rv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let Ov=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:e,providedIn:"root",factory:()=>new e})}return e})();const Pv=[0,1,2,3];let _O=(()=>{class e{ngZone=x(le);scheduler=x(Hi);errorHandler=x(Qo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(ys,{optional:!0})}execute(){const n=this.sequences.size>0;n&&de(T.AfterRenderHooksStart),this.executing=!0;for(const r of Pv)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[r])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,i.hooks[r])(i.pipelinedValue),i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&de(T.AfterRenderHooksEnd)}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),Bi(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Zf.AFTER_NEXT_RENDER,n):n()}static \u0275prov=B({token:e,providedIn:"root",factory:()=>new e})}return e})();class Fv{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(n=>n!==this))}}function Nc(e,t){const n=t?.injector??x(gt);return ct("NgAfterNextRender"),function Lv(e,t,n,r){const i=t.get(Ov);i.impl??=t.get(_O);const o=t.get(ys,null,{optional:!0}),s=!0!==n?.manualCleanup?t.get(jn):null,a=t.get(Kd,null,{optional:!0}),c=new Fv(i.impl,function vO(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}(e,n,t,!0)}const Rc=new S("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:x(Vt)})});function Vv(e,t,n){const r=e.get(Rc);if(Array.isArray(t))for(const i of t)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function Bv(e,t,n,r){const i=e?.[26]?.enter;null!==t&&i&&i.has(n.index)&&function Xf(e,t){for(const[n,r]of t)Vv(e,r.animateFns)}(r,i)}function eo(e,t,n,r,i,o,s,a){if(null!=i){let c,l=!1;xt(i)?c=i:Ae(i)&&(l=!0,i=i[0]);const u=nt(i);0===e&&null!==r?(Bv(a,r,o,n),null==s?gv(t,r,u):qr(t,r,u,s||null,!0)):1===e&&null!==r?(Bv(a,r,o,n),qr(t,r,u,s||null,!0)):2===e?$v(a,o,n,d=>{gs(t,u,l,d)}):3===e&&$v(a,o,n,()=>{t.destroyNode(u)}),null!=c&&function TO(e,t,n,r,i,o,s){const a=r[7];a!==nt(r)&&eo(t,e,n,o,a,i,s);for(let l=10;l<r.length;l++){const u=r[l];Fc(u[1],u,e,t,o,a)}}(t,e,n,c,o,r,s)}}function Hv(e,t){t[10].changeDetectionScheduler?.notify(9),Fc(e,t,t[j],2,null,null)}function Jf(e,t){const n=e[9],r=n.indexOf(t);n.splice(r,1)}function vs(e,t){if(Fn(t))return;const n=t[j];n.destroyNode&&Fc(e,t,n,3,null,null),function bO(e){let t=e[12];if(!t)return eh(e[1],e);for(;t;){let n=null;if(Ae(t))n=t[12];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Ae(t)&&eh(t[1],t),t=t[3];null===t&&(t=e),Ae(t)&&eh(t[1],t),n=t&&t[4]}t=n}}(t)}function eh(e,t){if(Fn(t))return;const n=V(null);try{t[2]&=-129,t[2]|=256,t[24]&&Bo(t[24]),function wO(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof rs)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];de(T.LifecycleHookStart,a,c);try{c.call(a)}finally{de(T.LifecycleHookEnd,a,c)}}else{de(T.LifecycleHookStart,i,o);try{o.call(i)}finally{de(T.LifecycleHookEnd,i,o)}}}}}(e,t),function SO(e,t){const n=e.cleanup,r=t[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[7]=null);const i=t[21];if(null!==i){t[21]=null;for(let s=0;s<i.length;s++)(0,i[s])()}const o=t[23];if(null!==o){t[23]=null;for(const s of o)s.destroy()}}(e,t),1===t[1].type&&t[j].destroy();const r=t[16];if(null!==r&&xt(t[3])){r!==t[3]&&Jf(r,t);const i=t[18];null!==i&&i.detachView(e)}gf(t)}finally{V(n)}}function $v(e,t,n,r){const i=e?.[26];if(null==i||null==i.leave||!i.leave.has(t.index))return r(!1);e&&Kr.add(e[19]),Vv(n,()=>{if(i.leave&&i.leave.has(t.index)){const s=i.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){const l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),function CO(e,t){const n=e[26]?.running;n?n.then(()=>{e[26].running=void 0,Kr.delete(e[19]),t(!0)}):t(!1)}(e,r)}else e&&Kr.delete(e[19]),r(!1)},i)}function th(e,t,n){return function Uv(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[0];if(vn(r)){const{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Yt.None||i===Yt.Emulated)return null}return Te(r,n)}(e,t.parent,n)}let qv=function Gv(e,t,n){return 40&e.type?Te(e,n):null};function rh(e,t,n,r){const i=th(e,r,t),o=t[j],a=function zv(e,t,n){return qv(e,t,n)}(r.parent||t[5],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)mv(o,i,n[c],a,!1);else mv(o,i,n,a,!1)}function Yr(e,t){if(null!==t){const n=t.type;if(3&n)return Te(t,e);if(4&n)return Pc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Yr(e,r);{const i=e[t.index];return xt(i)?Pc(-1,i):nt(i)}}if(128&n)return Yr(e,t.next);if(32&n)return Qf(t,e)()||nt(e[t.index]);{const r=Kv(e,t);return null!==r?Array.isArray(r)?r[0]:Yr(Ln(e[15]),r):Yr(e,t.next)}}return null}function Kv(e,t){return null!==t?e[15][5].projection[t.projection]:null}function Pc(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return Yr(r,i)}return t[7]}function ih(e,t,n,r,i,o,s){for(;null!=n;){const a=r[9];if(128===n.type){n=n.next;continue}const c=r[n.index],l=n.type;if(s&&0===t&&(c&&Nt(nt(c),r),n.flags|=2),!_c(n))if(8&l)ih(e,t,n.child,r,i,o,!1),eo(t,e,a,i,c,n,o,r);else if(32&l){const u=Qf(n,r);let d;for(;d=u();)eo(t,e,a,i,d,n,o,r);eo(t,e,a,i,c,n,o,r)}else 16&l?Yv(e,t,r,n,i,o):eo(t,e,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Fc(e,t,n,r,i,o){ih(n,r,e.firstChild,t,i,o,!1)}function Yv(e,t,n,r,i,o){const s=n[15],c=s[5].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)eo(t,e,n[9],i,c[l],r,o,n);else{let l=c;const u=s[3];as(r)&&(l.flags|=128),ih(e,t,l,u,i,o,!0)}}function Qv(e,t,n,r,i){const o=at(),s=2&r;try{Hr(-1),s&&t.length>F&&Mv(e,t,F,!1),de(s?T.TemplateUpdateStart:T.TemplateCreateStart,i,n),n(r,i)}finally{Hr(o),de(s?T.TemplateUpdateEnd:T.TemplateCreateEnd,i,n)}}function Lc(e,t,n){(function OO(e,t,n){const r=n.directiveStart,i=n.directiveEnd;vn(n)&&function dO(e,t,n){const r=Te(t,e),i=function Tv(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=qf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(n),o=e[10].rendererFactory,s=Kf(e,Mc(e,i,null,Wf(n),r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||sc(n,t);const o=n.initialInputs;for(let s=r;s<i;s++){const a=e.data[s],c=ss(t,e,s,n);Nt(c,t),null!==o&&VO(0,s-r,c,a,0,o),on(a)&&(Et(n.index,t)[8]=ss(t,e,s,n))}})(e,t,n),!(64&~n.flags)&&function PO(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function ek(){return K.lFrame.currentDirectiveIndex}();try{Hr(o);for(let a=r;a<i;a++){const c=e.data[a],l=t[a];Bd(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&FO(c,l)}}finally{Hr(-1),Bd(s)}}(e,t,n)}function to(e,t,n=Te){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}let Zv=()=>null;function Vc(e,t,n,r,i,o){$c(e,t[1],t,n,r)?vn(e)&&function Xv(e,t){const n=Et(t,e);16&n[2]||(n[2]|=64)}(t,e.index):(3&e.type&&(n=function RO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),oh(e,t,n,r,i,o))}function oh(e,t,n,r,i,o){if(3&e.type){const s=Te(e,t);r=null!=o?o(r,e.value||"",n):r,i.setProperty(s,n,r)}}function FO(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function sh(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let i=0;i<n.length;i++){const o=n[i];wv(t,o.selectors,!1)&&(r??=[],on(o)?r.unshift(o):r.push(o))}return r}function VO(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;a+=2)Wr(r,n,s[a],s[a+1])}function jc(e,t,n,r,i){const o=F+n,s=t[1],a=i(s,t,e,r,n);t[o]=a,Vn(e,!0);const c=2===e.type;return c?(yv(t[j],a,e),(0===function KM(){return K.lFrame.elementDepthCount}()||Fi(e))&&Nt(a,t),function YM(){K.lFrame.elementDepthCount++}()):Nt(a,t),Qa()&&(!c||!_c(e))&&rh(s,t,a,e),e}function Hc(e){let t=e;return Um()?function zm(){K.lFrame.isParent=!1}():(t=t.parent,Vn(t,!1)),t}function $c(e,t,n,r,i){const o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r];let a=!1;if(s)for(let c=0;c<s.length;c+=2){const l=s[c];Wr(t.data[l],n[l],s[c+1],i),a=!0}if(o)for(const c of o)Wr(t.data[c],n[c],r,i),a=!0;return a}function jO(e,t){const n=Et(t,e),r=n[1];!function HO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[0];null!==i&&null===n[6]&&(n[6]=null),de(T.ComponentStart);try{Uc(r,n,n[8])}finally{de(T.ComponentEnd,n[8])}}function Uc(e,t,n){$d(t);try{const r=e.viewQuery;null!==r&&Of(1,r,n);const i=e.template;null!==i&&Qv(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[18]?.finishViewCreation(e),e.staticContentQueries&&Qy(e,t),e.staticViewQueries&&Of(2,e.viewQuery,n);const o=e.components;null!==o&&function $O(e,t){for(let n=0;n<t.length;n++)jO(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Ud()}}function no(e,t,n,r){const i=V(null);try{const o=t.tView,c=Mc(e,o,n,4096&e[2]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[16]=e[t.index];const u=e[18];return null!==u&&(c[18]=u.createEmbeddedView(o)),Uc(o,c,n),c}finally{V(i)}}function Qr(e,t){return!t||null===t.firstChild||as(e)}function Ds(e,t,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const o=t[n.index];null!==o&&r.push(nt(o)),xt(o)&&UO(o,r);const s=n.type;if(8&s)Ds(e,t,n.child,r);else if(32&s){const a=Qf(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Kv(t,n);if(Array.isArray(a))r.push(...a);else{const c=Ln(t[15]);Ds(c[1],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function UO(e,t){for(let n=10;n<e.length;n++){const r=e[n],i=r[1].firstChild;null!==i&&Ds(r[1],r,i,t)}e[7]!==e[0]&&t.push(e[7])}function tD(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let nD=[];const WO={...bi,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Bi(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},YO={...bi,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Ln(e.lView);for(;t&&!rD(t[1]);)t=Ln(t);t&&Rm(t)},consumerOnSignalRead(){this.lView[24]=this}};function rD(e){return 2!==e.type}function iD(e){if(null===e[23])return;let t=!0;for(;t;){let n=!1;for(const r of e[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[2])}}function zc(e,t=0){const r=e[10].rendererFactory;r.begin?.();try{!function ZO(e,t){const n=Wm();try{Ka(!0),ch(e,t);let r=0;for(;qa(e);){if(100===r)throw new y(103,!1);r++,ch(e,1)}}finally{Ka(n)}}(e,t)}finally{r.end?.()}}function oD(e,t,n,r){if(Fn(t))return;const i=t[2];$d(t);let a=!0,c=null,l=null;rD(e)?(l=function zO(e){return e[24]??function GO(e){const t=nD.pop()??Object.create(WO);return t.lView=e,t}(e)}(t),c=Ci(l)):null===function Gu(){return Qe}()?(a=!1,l=function KO(e){const t=e[24]??Object.create(YO);return t.lView=e,t}(t),c=Ci(l)):t[24]&&(Bo(t[24]),t[24]=null);try{Nm(t),function Km(e){return K.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Qv(e,t,n,2,r);const u=!(3&~i);if(u){const f=e.preOrderCheckHooks;null!==f&&rc(t,f,null)}else{const f=e.preOrderHooks;null!==f&&ic(t,f,0,null),nf(t,0)}if(function XO(e){for(let t=dy(e);null!==t;t=fy(t)){if(!(2&t[2]))continue;const n=t[9];for(let r=0;r<n.length;r++)Rm(n[r])}}(t),iD(t),sD(t,0),null!==e.contentQueries&&Qy(e,t),u){const f=e.contentCheckHooks;null!==f&&rc(t,f)}else{const f=e.contentHooks;null!==f&&ic(t,f,1),nf(t,1)}!function eP(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Hr(~i);else{const o=i,s=n[++r],a=n[++r];JM(s,o);const c=t[o];de(T.HostBindingsUpdateStart,c);try{a(2,c)}finally{de(T.HostBindingsUpdateEnd,c)}}}}finally{Hr(-1)}}(e,t);const d=e.components;null!==d&&cD(t,d,0);const h=e.viewQuery;if(null!==h&&Of(2,h,r),u){const f=e.viewCheckHooks;null!==f&&rc(t,f)}else{const f=e.viewHooks;null!==f&&ic(t,f,2),nf(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const f of t[22])f();t[22]=null}tD(t),t[2]&=-73}catch(u){throw Bi(t),u}finally{null!==l&&(Vo(l,c),a&&function qO(e){e.lView[24]!==e&&(e.lView=null,nD.push(e))}(l)),Ud()}}function sD(e,t){for(let n=dy(e);null!==n;n=fy(n))for(let r=10;r<n.length;r++)aD(n[r],t)}function JO(e,t,n){de(T.ComponentStart);const r=Et(t,e);try{aD(r,n)}finally{de(T.ComponentEnd,r[8])}}function aD(e,t){Rd(e)&&ch(e,t)}function ch(e,t){const r=e[1],i=e[2],o=e[24];let s=!!(0===t&&16&i);if(s||=!!(64&i&&0===t),s||=!!(1024&i),s||=!(!o?.dirty||!Ca(o)),s||=!1,o&&(o.dirty=!1),e[2]&=-9217,s)oD(r,e,r.template,e[8]);else if(8192&i){const a=V(null);try{iD(e),sD(e,1);const c=r.components;null!==c&&cD(e,c,1),tD(e)}finally{V(a)}}}function cD(e,t,n){for(let r=0;r<t.length;r++)JO(e,t[r],n)}function ro(e,t){const n=Wm()?64:1088;for(e[10].changeDetectionScheduler?.notify(t);e;){e[2]|=n;const r=Ln(e);if(or(e)&&!r)return e;e=r}return null}function lD(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function uD(e,t){const n=10+t;if(n<e.length)return e[n]}function io(e,t,n,r=!0){const i=t[1];if(function tP(e,t,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],hm(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[16];null!==s&&n!==s&&dD(s,t);const a=t[18];null!==a&&a.insertView(e),Od(t),t[2]|=128}(i,t,e,n),r){const s=Pc(n,e),a=t[j],c=a.parentNode(e[7]);null!==c&&function EO(e,t,n,r,i,o){r[0]=i,r[5]=t,Fc(e,r,n,1,i,o)}(i,e[5],a,t,c,s)}const o=t[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function lh(e,t){const n=xs(e,t);return void 0!==n&&vs(n[1],n),n}function xs(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[16];null!==i&&i!==e&&Jf(i,r),t>0&&(e[n-1][4]=r[4]);const o=Fa(e,10+t);!function jv(e,t){Hv(e,t),t[0]=null,t[5]=null}(r[1],r);const s=o[18];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function dD(e,t){const n=e[9],r=t[3];(Ae(r)||t[15]!==r[3][15])&&(e[2]|=2),null===n?e[9]=[t]:n.push(t)}class Es{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[1];return Ds(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return Fn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(xt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(xs(t,r),Fa(n,r))}this._attachedToViewContainer=!1}vs(this._lView[1],this._lView)}onDestroy(t){Wa(this._lView,t)}markForCheck(){ro(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){Od(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,zc(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=or(this._lView),n=this._lView[16];null!==n&&!t&&Jf(n,this._lView),Hv(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new y(902,!1);this._appRef=t;const n=or(this._lView),r=this._lView[16];null!==r&&!n&&dD(r,this._lView),Od(this._lView)}}let un=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=nP;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){const o=no(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Es(o)}})();function nP(){return Gc(Y(),D())}function Gc(e,t){return 4&e.type?new un(t,e,Ki(e,t)):null}function Zr(e,t,n,r,i){let o=e.data[t];if(null===o)o=function hh(e,t,n,r,i){const o=$m(),s=Um(),c=e.data[t]=function dP(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function Bm(){return null!==K.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return function uP(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,c,o,s),c}(e,t,n,r,i),function XM(){return K.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ko(){const e=K.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Vn(o,!0),o}function kD(e,t){let n=0,r=e.firstChild;if(r){const i=e.data.r;for(;n<i;){const o=r.nextSibling;gs(t,r,!1),r=o,n++}}}let WP=class{},FD=class{};class KP{resolveComponentFactory(t){throw new y(917,!1)}}let Jc=class{static NULL=new KP};class fr{}let hr=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function YP(){const e=D(),n=Et(Y().index,e);return(Ae(n)?n:e)[j]}()})(),QP=(()=>{class e{static \u0275prov=B({token:e,providedIn:"root",factory:()=>null})}return e})();const xh={};class ao{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const i=this.injector.get(t,xh,r);return i!==xh||n===xh?i:this.parentInjector.get(t,n,r)}}function tl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=ld(i,a):2==o&&(r=ld(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function C(e,t=0){const n=D();return null===n?te(e,t):G_(Y(),n,X(e),t)}function VD(e,t,n,r,i){const o=null===r?null:{"":-1},s=i(e,n);if(null!==s){let a=s,c=null,l=null;for(const u of s)if(null!==u.resolveHostDirectives){[a,c,l]=u.resolveHostDirectives(s);break}!function r1(e,t,n,r,i,o,s){const a=r.length;let c=null;for(let h=0;h<a;h++){const f=r[h];null===c&&on(f)&&(c=f,n1(e,n,h)),uf(sc(n,t),e,f.type)}(function l1(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t})(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){const f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=_s(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){const f=r[h];if(n.mergedAttrs=Wi(n.mergedAttrs,f.hostAttrs),o1(e,n,t,d,f),c1(d,f,i),null!==s&&s.has(f)){const[g,m]=s.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,m+n.directiveStart])}else(null===o||!o.has(f))&&n.directiveToIndex.set(f.type,d);null!==f.contentQueries&&(n.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(n.flags|=64);const p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}!function i1(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const i=e.data[r];if(null!==n&&n.has(i)){const o=n.get(i);jD(0,t,o,r),jD(1,t,o,r),$D(t,r,!0)}else BD(0,t,i,r),BD(1,t,i,r),$D(t,r,!1)}}(e,n,o)}(e,t,n,a,o,c,l)}null!==o&&null!==r&&function t1(e,t,n){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new y(-301,!1);r.push(t[i],o)}}(n,r,o)}function n1(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function BD(e,t,n,r){const i=0===e?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){let s;s=0===e?t.inputs??={}:t.outputs??={},s[o]??=[],s[o].push(r),HD(t,o)}}function jD(e,t,n,r){const i=0===e?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){const s=i[o];let a;a=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),HD(t,s)}}function HD(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function $D(e,t,n){const{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(null===r||!n&&null===i||n&&null===o||Gf(e))return e.initialInputs??=[],void e.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(!n&&i.hasOwnProperty(c)){const l=i[c];for(const u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){const l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}e.initialInputs??=[],e.initialInputs.push(s)}function o1(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Pr(i.type)),s=new rs(o,on(i),C,null);e.blueprint[r]=s,n[r]=s,function s1(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function a1(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,_s(e,n,i.hostVars,ge),i)}function c1(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;on(t)&&(n[""]=e)}}function Eh(e,t,n,r,i,o,s,a){const c=t[1],l=c.consts,d=Zr(c,e,n,r,ht(l,s));return o&&VD(c,t,d,ht(l,a),i),d.mergedAttrs=Wi(d.mergedAttrs,d.attrs),null!==d.attrs&&tl(d,d.attrs,!1),null!==d.mergedAttrs&&tl(d,d.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,d),d}function bh(e,t){O_(e,t),wm(t)&&e.queries.elementEnd(t)}function nl(e){return!!function Ch(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function bn(e,t,n){return e[t]=n}function Se(e,t,n){return n!==ge&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function zn(e,t,n){return function r(i){ro(vn(e)?Et(e.index,t):t,5);const s=t[8];let a=GD(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=GD(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function GD(e,t,n,r){const i=V(null);try{return de(T.OutputStart,t,n),!1!==n(r)}catch(o){return function ah(e,t){const n=e[9];if(!n)return;let r;try{r=n.get(sr,null)}catch{r=null}r?.(t)}(e,o),!1}finally{de(T.OutputEnd,t,n),V(i)}}function il(e,t,n,r,i,o,s,a){const c=Fi(e);let l=!1,u=null;if(!r&&c&&(u=function p1(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[7],c=i[o+2];return a&&a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,n,o,e.index)),null!==u)(u.__ngLastListenerFn__||u).__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0;else{const d=Te(e,n),h=r?r(d):d,f=i.listen(h,o,a);(function h1(e){return e.startsWith("animation")||e.startsWith("transition")})(o)||qD(r?g=>r(nt(g[e.index])):e.index,t,n,o,a,f,!1)}return l}function qD(e,t,n,r,i,o,s){const a=t.firstCreatePass?function Fm(e){return e.cleanup??=[]}(t):null,c=function Pm(e){return e[7]??=[]}(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function co(e,t,n,r,i,o){const a=t[1],d=t[n][a.data[n].outputs[r]].subscribe(o);qD(e.index,a,t,i,o,d,!0)}const Gn=Symbol("BINDING");class YD extends Jc{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ae(t);return new ol(n,this.ngModule)}}class ol extends FD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function E1(e){return Object.keys(e).map(t=>{const[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:0!==(r&kc.SignalBased)};return i&&(o.transform=i),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function b1(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function cO(e){return e.map(aO).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){de(T.DynamicComponentStart);const a=V(null);try{const c=this.componentDef,l=function T1(e,t,n,r){const i=e?["ng-version","21.0.8"]:function lO(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!ln(i))break;i=o}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let o=null,s=null,a=0;if(n)for(const u of n)a+=u[Gn].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){const d=r[u];if("function"!=typeof d)for(const h of d.bindings){a+=h[Gn].requiredVars;const f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}const c=[t];if(r)for(const u of r){const h=Dt("function"==typeof u?u:u.type);c.push(h)}return qf(0,null,function M1(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(o,s),1,a,c,null,null,null,[i],null)}(r,c,s,o),u=function C1(e,t,n){let r=t instanceof Vt?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new ao(n,r):n}(c,i||this.ngModule,t),d=function S1(e){const t=e.get(fr,null);if(null===t)throw new y(407,!1);return{rendererFactory:t,sanitizer:e.get(QP,null),changeDetectionScheduler:e.get(Hi,null),ngReflect:!1}}(u),h=d.rendererFactory.createRenderer(null,c),f=r?function kO(e,t,n,r){const o=r.get(MN,!1)||n===Yt.ShadowDom||n===Yt.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,o);return function AO(e){Zv(e)}(s),s}(h,r,c.encapsulation,u):function w1(e,t){const n=function I1(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return Ic(t,n,"svg"===n?"svg":"math"===n?"math":null)}(c,h),p=s?.some(QD)||o?.some(v=>"function"!=typeof v&&v.bindings.some(QD)),g=Mc(null,l,null,512|Wf(c),null,null,d,h,u,null,null);g[F]=f,$d(g);let m=null;try{const v=Eh(F,g,2,"#host",()=>l.directiveRegistry,!0,0);yv(h,f,v),Nt(f,g),Lc(l,g,v),Pf(l,v,g),bh(l,v),void 0!==n&&function A1(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o&&o.length?Array.from(o):null)}}(v,this.ngContentSelectors,n),m=Et(v.index,g),g[8]=m[8],Uc(l,g,null)}catch(v){throw null!==m&&gf(m),gf(g),v}finally{de(T.DynamicComponentEnd),Ud()}return new k1(this.componentType,g,!!p)}finally{V(a)}}}function QD(e){const t=e[Gn].kind;return"input"===t||"twoWay"===t}class k1 extends WP{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Vi(n[1],F),this.location=Ki(this._tNode,n),this.instance=Et(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new Es(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;$c(r,i[1],i,t,n),this.previousInputValues.set(t,n),ro(Et(r.index,i),1)}get injector(){return new Le(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let dn=(()=>class e{static __NG_ELEMENT_ID__=N1})();function N1(){return function JD(e,t){let n;const r=t[e.index];return xt(r)?n=r:(n=lD(r,t,null,e),t[e.index]=n,Kf(t,n)),ex(n,t,e,r),new ZD(n,e,t)}(Y(),D())}const R1=dn,ZD=class extends R1{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ki(this._hostTNode,this._hostLView)}get injector(){return new Le(this._hostTNode,this._hostLView)}get parentInjector(){const t=ac(this._hostTNode,this._hostLView);if(af(t)){const n=os(t,this._hostLView),r=is(t);return new Le(n[1].data[r+8],n)}return new Le(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=XD(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,Qr(this._hostTNode,null)),a}createComponent(t,n,r,i,o,s,a){const c=t&&!function ns(e){return"function"==typeof e}(t);let l;if(c)l=n;else{const m=n||{};l=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}const u=c?t:new ol(ae(t)),d=r||this.parentInjector;if(!o&&null==u.ngModule){const v=(c?d:this.parentInjector).get(Vt,null);v&&(o=v)}ae(u.componentType??{});const g=u.create(d,i,null,o,s,a);return this.insertImpl(g.hostView,l,Qr(this._hostTNode,null)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function WM(e){return xt(e[3])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=i[3],l=new ZD(c,c[5],c[3]);l.detach(l.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;return io(s,i,o,r),t.attachToViewContainerRef(),hm(Sh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=XD(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=xs(this._lContainer,n);r&&(Fa(Sh(this._lContainer),n),vs(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=xs(this._lContainer,n);return r&&null!=Fa(Sh(this._lContainer),n)?new Es(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function XD(e){return e[8]}function Sh(e){return e[8]||(e[8]=[])}let ex=function nx(e,t,n,r){if(e[7])return;let i;i=8&n.type?nt(r):function O1(e,t){const n=e[j],r=n.createComment(""),i=Te(t,e),o=n.parentNode(i);return qr(n,o,r,n.nextSibling(i),!1),r}(t,n),e[7]=i};let ti=class{};class gx extends ti{injector;componentFactoryResolver=new YD(this);instance=null;constructor(t){super();const n=new Fr([...t.providers,{provide:ti,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver}],t.parent||$a(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}let X1=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Ed(0,n.type),i=r.length>0?function mx(e,t,n=null){return new gx({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(te(Vt))})}return e})();function Cn(e){return Hn(()=>{const t=yx(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===uc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(X1).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Yt.Emulated,styles:e.styles||Ee,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&ct("NgStandalone"),vx(n);const r=e.dependencies;return n.directiveDefs=sl(r,_x),n.pipeDefs=sl(r,nn),n.id=function nF(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function _x(e){return ae(e)||Dt(e)}function ni(e){return Hn(()=>({type:e.type,bootstrap:e.bootstrap||Ee,declarations:e.declarations||Ee,imports:e.imports||Ee,exports:e.exports||Ee,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function J1(e,t){if(null==e)return yn;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=kc.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function eF(e){if(null==e)return yn;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function L(e){return Hn(()=>{const t=yx(e);return vx(t),t})}function Rt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function yx(e){const t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||yn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||Ee,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:J1(e.inputs,t),outputs:eF(e.outputs),debugInfo:null}}function vx(e){e.features?.forEach(t=>t(e))}function sl(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const i of n){const o=t(i);null!==o&&r.push(o)}return r}:null}function fe(e){let t=function sF(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(on(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new y(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=jh(e.inputs),s.declaredInputs=jh(e.declaredInputs),s.outputs=jh(e.outputs);const a=i.hostBindings;a&&dF(e,a);const c=i.viewQuery,l=i.contentQueries;if(c&&lF(e,c),l&&uF(e,l),aF(e,i),cM(e.outputs,i.outputs),on(i)&&i.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===fe&&(n=!1)}}t=Object.getPrototypeOf(t)}!function cF(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Wi(i.hostAttrs,n=Wi(n,i.hostAttrs))}}(r)}function aF(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function jh(e){return e===yn?{}:e===Ee?[]:e}function lF(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function uF(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function dF(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function Cx(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Wi(e.mergedAttrs,e.attrs);const u=e.tView=qf(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Vn(e,!1);const c=wx(n,t,e,r);Qa()&&rh(n,t,c,e),Nt(c,t);const l=lD(c,t,c,e);t[r+F]=l,Kf(t,l)}function ri(e,t,n,r,i,o,s,a,c,l,u){const d=n+F;let h;if(t.firstCreatePass){if(h=Zr(t,d,4,s||null,a||null),null!=l){const f=ht(t.consts,l);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return Cx(h,e,t,n,r,i,o,c),null!=l&&to(e,h,u),h}function mt(e,t,n,r,i,o,s,a){const c=D(),l=U();return function fF(e,t,n,r,i,o,s,a,c,l,u){const d=n+F;let h;t.firstCreatePass?(h=Zr(t,d,4,s||null,a||null),Vd()&&VD(t,e,h,ht(t.consts,l),sh),O_(t,h)):h=t.data[d],Cx(h,e,t,n,r,i,o,c),Fi(h)&&Lc(t,e,h),null!=l&&to(e,h,u)}(c,l,e,t,n,r,i,ht(l.consts,o),void 0,s,a),mt}let wx=function Ix(e,t,n,r){return Yo(!0),t[j].createComment("")};const rE=new S("");function pl(e){return!!e&&"function"==typeof e.then}function oE(e){return!!e&&"function"==typeof e.subscribe}const sE=new S("");let aE=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(sE,{optional:!0})??[];injector=x(gt);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=Cm(this.injector,i);if(pl(o))n.push(o);else if(oE(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const EL=new S("");let qn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(sr);afterRenderManager=x(Ov);zonelessEnabled=x(Yd);rootEffectScheduler=x(f_);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new pe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x($r);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ts(n=>!n))}constructor(){x(ys,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(Vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=gt.NULL){return this._injector.get(le).run(()=>{de(T.BootstrapComponentStart);const s=n instanceof FD;if(!this._injector.get(aE).done)throw new y(405,"");let c;c=s?n:this._injector.get(Jc).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const l=function CL(e){return e.isBoundToModule}(c)?void 0:this._injector.get(ti),d=c.create(i,[],r||c.selector,l),h=d.location.nativeElement,f=d.injector.get(rE,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),gl(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),de(T.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){de(T.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(Zf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw de(T.ChangeDetectionEnd),new y(101,!1);const n=V(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,V(n),this.afterTick.next(),de(T.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(fr,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;){de(T.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{de(T.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews)(r||qa(i))&&(zc(i,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>qa(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;gl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(EL,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>gl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new y(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Sn(e,t,n,r){const i=D();return Se(i,pt(),t)&&(U(),function LO(e,t,n,r,i,o){const s=Te(e,t);!function Bc(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?Z(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[j],s,o,e.value,n,r,i)}(sn(),i,e,t,n,r)),Sn}typeof document<"u"&&document;Object.keys({disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"});class YV{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){const s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}}function lp(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function up(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function AE(e,t,n,r,i){if(up(e,t,r,n(r,i)))e.updateValue(r,i);else{const o=e.create(r,i);e.attach(r,o)}}function NE(e,t,n,r){const i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}class RE{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}}function dp(e,t,n,r,i,o,s,a){ct("NgControlFlow");const c=D(),l=U();return ri(c,l,e,t,n,r,i,ht(l.consts,o),256,s,a),fp}function fp(e,t,n,r,i,o,s,a){ct("NgControlFlow");const c=D(),l=U();return ri(c,l,e,t,n,r,i,ht(l.consts,o),512,s,a),fp}function hp(e,t){ct("NgControlFlow");const n=D(),r=pt(),i=n[r]!==ge?n[r]:-1,o=-1!==i?wl(n,F+i):void 0;if(Se(n,r,e)){const a=V(null);try{if(void 0!==o&&lh(o,0),-1!==e){const c=F+e,l=wl(n,c),u=pp(n[1],c),d=null;io(l,no(n,u,t,{dehydratedView:d}),0,Qr(u,d))}}finally{V(a)}}else if(void 0!==o){const a=uD(o,0);void 0!==a&&(a[8]=t)}}class ZV{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-10}}class eB{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}function wn(e,t,n,r,i,o,s,a,c,l,u,d,h){ct("NgControlFlow");const f=D(),p=U(),g=void 0!==c,m=D(),v=a?s.bind(m[15][8]):s,_=new eB(g,v);m[F+e]=_,ri(f,p,e+1,t,n,r,i,ht(p.consts,o),256),g&&ri(f,p,e+2,c,l,u,d,ht(p.consts,h),512)}class tB extends YV{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-10}at(t){return this.getLView(t)[8].$implicit}attach(t,n){const r=n[6];this.needsIndexUpdate||=t!==this.length,io(this.lContainer,n,t,Qr(this.templateTNode,r)),function nB(e,t){if(e.length<=10)return;const r=e[10+t],i=r?r[26]:void 0;r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0&&(function DO(e,t){const n=e.get(Rc);if(t.detachedLeaveAnimationFns){for(const r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}(r[9],i),Kr.delete(r[19]),i.detachedLeaveAnimationFns=void 0)}(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function rB(e,t){if(e.length<=10)return;const r=e[10+t],i=r?r[26]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}(this.lContainer,t),function iB(e,t){return xs(e,t)}(this.lContainer,t)}create(t,n){return no(this.hostLView,this.templateTNode,new ZV(this.lContainer,n,t),{dehydratedView:null})}destroy(t){vs(t[1],t)}updateValue(t,n){this.getLView(t)[8].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[8].$index=t}getLView(t){return function oB(e,t){return uD(e,t)}(this.lContainer,t)}}function In(e){const t=V(null),n=at();try{const r=D(),i=r[1],o=r[n],s=n+1,a=wl(r,s);if(void 0===o.liveCollection){const l=pp(i,s);o.liveCollection=new tB(a,r,l)}else o.liveCollection.reset();const c=o.liveCollection;if(function QV(e,t,n,r){let i,o,s=0,a=e.length-1;if(Array.isArray(t)){V(r);let l=t.length-1;for(V(null);s<=a&&s<=l;){const u=e.at(s),d=t[s],h=lp(s,u,s,d,n);if(0!==h){h<0&&e.updateValue(s,d),s++;continue}const f=e.at(a),p=t[l],g=lp(a,f,l,p,n);if(0!==g){g<0&&e.updateValue(a,p),a--,l--;continue}const m=n(s,u),v=n(a,f),_=n(s,d);if(Object.is(_,v)){const M=n(l,p);Object.is(M,m)?(e.swap(s,a),e.updateValue(a,p),l--,a--):e.move(a,s),e.updateValue(s,d),s++;continue}if(i??=new RE,o??=NE(e,s,a,n),up(e,i,s,_))e.updateValue(s,d),s++,a++;else if(o.has(_))i.set(m,e.detach(s)),a--;else{const M=e.create(s,t[s]);e.attach(s,M),s++,a++}}for(;s<=l;)AE(e,i,n,s,t[s]),s++}else if(null!=t){V(r);const l=t[Symbol.iterator]();V(null);let u=l.next();for(;!u.done&&s<=a;){const d=e.at(s),h=u.value,f=lp(s,d,s,h,n);if(0!==f)f<0&&e.updateValue(s,h),s++,u=l.next();else{i??=new RE,o??=NE(e,s,a,n);const p=n(s,h);if(up(e,i,s,p))e.updateValue(s,h),s++,a++,u=l.next();else if(o.has(p)){const g=n(s,d);i.set(g,e.detach(s)),a--}else e.attach(s,e.create(s,h)),s++,a++,u=l.next()}}for(;!u.done;)AE(e,i,n,e.length,u.value),u=l.next()}for(;s<=a;)e.destroy(e.detach(a--));i?.forEach(l=>{e.destroy(l)})}(c,e,o.trackByFn,t),c.updateIndexes(),o.hasEmptyBlock){const l=pt(),u=0===c.length;if(Se(r,l,u)){const d=n+2,h=wl(r,d);if(u){const f=pp(i,d),p=null;io(h,no(r,f,void 0,{dehydratedView:p}),0,Qr(f,p))}else i.firstUpdatePass&&function Qc(e){const t=e[6]??[],r=e[3][j],i=[];for(const o of t)void 0!==o.data.di?i.push(o):kD(o,r);e[6]=i}(h),lh(h,0)}}}finally{V(t)}}function wl(e,t){return e[t]}function pp(e,t){return Vi(e,t)}function J(e,t,n){const r=D();return Se(r,pt(),t)&&(U(),Vc(sn(),r,e,t,r[j],n)),J}function gp(e,t,n,r,i){$c(t,e,n,i?"class":"style",r)}function w(e,t,n,r){const i=D(),o=i[1],s=e+F,a=o.firstCreatePass?Eh(s,i,2,t,sh,Vd(),n,r):o.data[s];if(jc(a,i,e,t,_p),Fi(a)){const c=i[1];Lc(c,i,a),Pf(c,a,i)}return null!=r&&to(i,a),w}function I(){const e=U(),n=Hc(Y());return e.firstCreatePass&&bh(e,n),jm(n)&&Hm(),Vm(),null!=n.classesWithoutHost&&function kA(e){return!!(8&e.flags)}(n)&&gp(e,n,D(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function AA(e){return!!(16&e.flags)}(n)&&gp(e,n,D(),n.stylesWithoutHost,!1),I}function vo(e,t,n,r){return w(e,t,n,r),I(),vo}function it(e,t,n,r){const i=D(),o=i[1],s=e+F,a=o.firstCreatePass?function UD(e,t,n,r,i,o){const s=t.consts,c=Zr(t,e,n,r,ht(s,i));if(c.mergedAttrs=Wi(c.mergedAttrs,c.attrs),null!=o){const l=ht(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return null!==c.attrs&&tl(c,c.attrs,!1),null!==c.mergedAttrs&&tl(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,2,t,n,r):o.data[s];return jc(a,i,e,t,_p),null!=r&&to(i,a),it}function ot(){return jm(Hc(Y()))&&Hm(),Vm(),ot}function mp(e,t,n,r){return it(e,t,n,r),ot(),mp}let _p=(e,t,n,r,i)=>(Yo(!0),Ic(t[j],r,function ak(){return K.lFrame.currentNamespace}()));function Il(e,t,n){const r=D(),i=r[1],o=e+F,s=i.firstCreatePass?Eh(o,r,8,"ng-container",sh,Vd(),t,n):i.data[o];if(jc(s,r,e,"ng-container",vp),Fi(s)){const a=r[1];Lc(a,r,s),Pf(a,s,r)}return null!=n&&to(r,s),Il}function Bs(){const e=U(),n=Hc(Y());return e.firstCreatePass&&bh(e,n),Bs}let vp=(e,t,n,r,i)=>(Yo(!0),zf(t[j],""));function wt(){return D()}function Dp(e,t,n){const r=D();return Se(r,pt(),t)&&(U(),oh(sn(),r,e,t,r[j],n)),Dp}const js=void 0;var lB=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],js,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],js,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202fa","h:mm:ss\u202fa","h:mm:ss\u202fa z","h:mm:ss\u202fa zzzz"],["{1}, {0}",js,js,js],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cB(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Do={};function It(e){const t=function uB(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=BE(t);if(n)return n;const r=t.split("-")[0];if(n=BE(r),n)return n;if("en"===r)return lB;throw new y(701,!1)}function BE(e){return e in Do||(Do[e]=Oe.ng&&Oe.ng.common&&Oe.ng.common.locales&&Oe.ng.common.locales[e]),Do[e]}var Me=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Me||{});const Tl="en-US";let jE=Tl;function ie(e,t,n){const r=D(),i=U(),o=Y();return function bp(e,t,n,r,i,o,s){let a=!0,c=null;if((3&r.type||s)&&(c??=zn(r,t,o),il(r,e,t,s,n,i,o,c)&&(a=!1)),a){const l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){const h=u[d],f=u[d+1];c??=zn(r,t,o),co(r,t,h,f,i,c)}if(l&&l.length)for(const d of l)c??=zn(r,t,o),co(r,t,d,i,i,c)}}(i,r,r[j],o,e,t,n),ie}function Nl(e,t,n){const r=D(),i=U(),o=Y();return(3&o.type||n)&&il(o,i,r,n,r[j],e,t,zn(o,r,t)),Nl}function oe(e=1){return function nk(e){return(K.lFrame.contextLView=function Om(e,t){for(;e>0;)t=t[14],e--;return t}(e,K.lFrame.contextLView))[8]}(e)}function di(e){return jr(function Gm(){return K.lFrame.contextLView}(),F+e)}function Rl(e,t){return e<<17|t<<2}function fi(e){return e>>17&32767}function Cp(e){return 2|e}function xo(e){return(131068&e)>>2}function Sp(e,t){return-131069&e|t<<2}function wp(e){return 1|e}function lb(e,t,n,r){const i=e[n+1],o=null===t;let s=r?fi(i):xo(i),a=!1;for(;0!==s&&(!1===a||o);){const l=e[s+1];l2(e[s],t)&&(a=!0,e[s+1]=r?wp(l):Cp(l)),s=r?fi(l):xo(l)}a&&(e[n+1]=r?Cp(i):wp(i))}function l2(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Go(e,t)>=0}function Ol(e,t,n){return mb(e,t,n,!1),Ol}function Tn(e,t){return mb(e,t,null,!0),Tn}function mb(e,t,n,r){const i=D(),o=U(),s=function Bn(e){const t=K.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function vb(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[at()],s=function yb(e,t){return t>=e.expandoStartIndex}(e,n);(function bb(e,t){return!!(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function D2(e,t,n,r){const i=function jd(e){const t=K.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=qs(n=Ip(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Ip(i,e,t,n,r),null===o){let c=function x2(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==xo(r))return e[fi(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=Ip(null,e,t,c[1],r),c=qs(c,t.attrs,r),function E2(e,t,n,r){e[fi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function b2(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=qs(r,e[o].hostAttrs,n);return qs(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function a2(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=fi(s),c=xo(s);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Go(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const h=fi(e[a+1]);e[r+1]=Rl(h,a),0!==h&&(e[h+1]=Sp(e[h+1],r)),e[a+1]=function o2(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Rl(a,0),0!==a&&(e[a+1]=Sp(e[a+1],r)),a=r;else e[r+1]=Rl(c,0),0===a?a=r:e[c+1]=Sp(e[c+1],r),c=r;l&&(e[r+1]=Cp(e[r+1])),lb(e,u,r,!0),lb(e,u,r,!1),function c2(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Go(o,t)>=0&&(n[r+1]=wp(n[r+1]))}(t,u,e,r,o),s=Rl(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==ge&&Se(i,s,t)&&function xb(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function s2(e){return!(1&~e)}(l)?Eb(c,t,n,i,xo(l),s):void 0;Pl(u)||(Pl(o)||function i2(e){return!(2&~e)}(l)&&(o=Eb(c,null,n,i,a,s)),function MO(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:dr.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=dr.Important),e.setStyle(n,r,i,o))}}(r,s,Li(at(),n),i,o))}(o,o.data[at()],i,i[j],e,i[s+1]=function I2(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Gt(function ur(e){return e instanceof iv?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,s)}function Ip(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=qs(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function qs(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Va(e,s,!!n||t[++o]))}return void 0===e?null:e}function Eb(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=n[i+1];h===ge&&(h=d?Ee:void 0);let f=d?Dd(h,r):u===r?h:void 0;if(l&&!Pl(f)&&(f=Dd(c,r)),Pl(f)&&(a=f,s))return a;const p=e[i+1];i=s?fi(p):xo(p)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=Dd(c,r))}return a}function Pl(e){return void 0!==e}function N(e,t=""){const n=D(),r=U(),i=e+F,o=r.firstCreatePass?Zr(r,i,1,t,null):r.data[i],s=Cb(r,n,o,t,e);n[i]=s,Qa()&&rh(r,n,s,o),Vn(o,!1)}let Cb=(e,t,n,r,i)=>(Yo(!0),function Uf(e,t){return e.createText(t)}(t[j],r));function Ge(e){return _r("",e),Ge}function _r(e,t,n){const r=D(),i=function wb(e,t,n,r=""){return Se(e,pt(),n)?t+Z(n)+r:ge}(r,e,t,n);return i!==ge&&function Wn(e,t,n){const r=Li(t,e);!function pv(e,t,n){e.setValue(t,n)}(e[j],r,n)}(r,at(),i),_r}function qb(e,t,n){const r=U();r.firstCreatePass&&Wb(t,r.data,r.blueprint,on(e),n)}function Wb(e,t,n,r,i){if(e=X(e),Array.isArray(e))for(let o=0;o<e.length;o++)Wb(e[o],t,n,r,i);else{const o=U(),s=D(),a=Y();let c=Rn(e)?e:X(e.provide);const l=bm(e),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Rn(e)||!e.multi){const f=new rs(l,i,C,null),p=Mp(c,t,i?u:u+h,d);-1===p?(uf(sc(a,s),o,c),Tp(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=Mp(c,t,u+h,d),p=Mp(c,t,u,u+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){uf(sc(a,s),o,c);const v=function G2(e,t,n,r,i){const s=new rs(e,n,C,null);return s.multi=[],s.index=t,s.componentProviders=0,Kb(s,i,r&&!n),s}(i?z2:U2,n.length,i,r,l);!i&&m&&(n[p].providerFactory=v),Tp(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else Tp(o,e,f>-1?f:p,Kb(n[i?p:f],l,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Tp(e,t,n,r){const i=Rn(t),o=function xm(e){return!!e.useClass}(t);if(i||o){const c=(o?X(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Kb(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Mp(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function U2(e,t,n,r,i){return kp(this.multi,[])}function z2(e,t,n,r,i){const o=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=ss(r,r[1],this.providerFactory.index,i);s=c.slice(0,a),kp(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],kp(o,s);return s}function kp(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function he(e,t){return n=>{n.providersResolver=(r,i)=>qb(r,i?i(e):e,!1),t&&(n.viewProvidersResolver=(r,i)=>qb(r,i?i(t):t,!0))}}function Ap(e,t){const n=bt()+e,r=D();return r[n]===ge?bn(r,n,t()):function Ns(e,t){return e[t]}(r,n)}function Zb(e,t,n,r,i,o,s){const a=t+n;return function Jr(e,t,n,r){const i=Se(e,t,n);return Se(e,t+1,r)||i}(e,a,i,o)?bn(e,a+2,s?r.call(s,i,o):r(i,o)):function Ws(e,t){const n=e[t];return n===ge?void 0:n}(e,a+2)}function bo(e,t){return Gc(e,t)}let Vj=(()=>{class e{applicationErrorHandler=x(sr);appRef=x(qn);taskService=x($r);ngZone=x(le);zonelessEnabled=x(Yd);tracing=x(ys,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Dk,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?s_:o_;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,s_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const vr=new S("",{factory:()=>x(vr,{optional:!0,skipSelf:!0})||function Bj(){return typeof $localize<"u"&&$localize.locale||Tl}()}),$l=new S(""),nH=new S("");function Qs(e){return!e.moduleRef}let wo=null;let Zs=(()=>class e{static __NG_ELEMENT_ID__=cH})();function cH(e){return function lH(e,t,n){if(vn(e)&&!n){const r=Et(e.index,t);return new Es(r,r)}return 175&e.type?new Es(t[15],t):null}(Y(),D(),!(16&~e))}class BC{constructor(){}supports(t){return nl(t)}create(t){return new dH(t)}}const uH=(e,t)=>t;class dH{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||uH}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<HC(r,i,o)?n:r,a=HC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!nl(t))throw new y(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function d1(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new fH(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new jC),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fH{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}}class hH{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class jC{map=new Map;put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new hH,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HC(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function UC(){return new Hp([new BC])}let Hp=(()=>{class e{factories;static \u0275prov=B({token:e,providedIn:"root",factory:UC});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{const r=x(e,{optional:!0,skipSelf:!0});return e.create(n,r||UC())}}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new y(901,!1)}}return e})();function yH(e){const{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;de(T.BootstrapApplicationStart);try{const o=i?.injector??function aH(e=[]){if(wo)return wo;const t=function FC(e=[],t){return gt.create({name:t,providers:[{provide:Sd,useValue:"platform"},{provide:$l,useValue:new Set([()=>wo=null])},...e]})}(e);return wo=t,function bL(){!function $T(e){z0=e}(()=>{throw new y(600,"")})}(),function LC(e){const t=e.get(Dy,null);Cm(e,()=>{t?.forEach(n=>n())})}(t),t}(r),s=[[{provide:Hi,useExisting:Vj},{provide:le,useClass:gk},{provide:Yd,useValue:!0}],u_,...n||[]];return function NC(e){const t=Qs(e)?e.r3Injector:e.moduleRef.injector,n=t.get(le);return n.run(()=>{Qs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(sr);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Qs(e)){const o=()=>t.destroy(),s=e.platformInjector.get($l);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>e.moduleRef.destroy(),s=e.platformInjector.get($l);s.add(o),e.moduleRef.onDestroy(()=>{gl(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return function iH(e,t,n){try{const r=n();return pl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}(r,n,()=>{const o=t.get($r),s=o.add(),a=t.get(aE);return a.runInitializers(),a.donePromise.then(()=>{if(function pB(e){"string"==typeof e&&(jE=e.toLowerCase().replace(/_/g,"-"))}(t.get(vr,Tl)||Tl),!t.get(nH,!0))return Qs(e)?t.get(qn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Qs(e)){const u=t.get(qn);return void 0!==e.rootComponent&&u.bootstrap(e.rootComponent),u}return e.moduleRef}).finally(()=>{o.remove(s)})})})}({r3Injector:new gx({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{de(T.BootstrapApplicationEnd)}}function fn(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function jH(e,t=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}class oS{_doc;constructor(t){this._doc=t}manager}let zp=(()=>{class e extends oS{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(te(Ct))};static \u0275prov=B({token:e,factory:e.\u0275fac})}return e})();const Gp=new S("");let sS=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});const i=n.filter(s=>!(s instanceof zp));this._plugins=i.slice().reverse();const o=n.find(s=>s instanceof zp);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new y(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(te(Gp),te(le))};static \u0275prov=B({token:e,factory:e.\u0275fac})}return e})();const qp="ng-app-id";function aS(e){for(const t of e)t.remove()}function cS(e,t){const n=t.createElement("style");return n.textContent=e,n}function Wp(e,t){const n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}let lS=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,function WH(e,t,n,r){const i=e.head?.querySelectorAll(`style[${qp}="${t}"],link[${qp}="${t}"]`);if(i)for(const o of i)o.removeAttribute(qp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const i of n)this.addUsage(i,this.inline,cS);r?.forEach(i=>this.addUsage(i,this.external,Wp))}removeStyles(n,r){for(const i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){const o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){const i=r.get(n);i&&(i.usage--,i.usage<=0&&(aS(i.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])aS(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(n,cS(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(n,Wp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(te(Ct),te(Gr),te(Ey,8),te(vf))};static \u0275prov=B({token:e,factory:e.\u0275fac})}return e})();const Kp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yp=/%COMP%/g,JH=new S("",{factory:()=>!0});function dS(e,t){return t.map(n=>n.replace(Yp,e))}let Qp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new Zp(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof pS?i.applyToHost(n):i instanceof Xp&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case Yt.Emulated:o=new pS(c,l,r,this.appId,u,s,a,d);break;case Yt.ShadowDom:return new hS(c,n,r,s,a,this.nonce,d,l);case Yt.ExperimentalIsolatedShadowDom:return new hS(c,n,r,s,a,this.nonce,d);default:o=new Xp(c,l,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(te(sS),te(lS),te(Gr),te(JH),te(Ct),te(le),te(Ey),te(ys,8))};static \u0275prov=B({token:e,factory:e.\u0275fac})}return e})();class Zp{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Kp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(fS(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(fS(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new y(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Kp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Kp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(dr.DashCase|dr.Important)?t.style.setProperty(n,r,i&dr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&dr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if("string"==typeof t&&!(t=Zo().getGlobalEventTarget(this.doc,t)))throw new y(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&n.preventDefault()}}}function fS(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class hS extends Zp{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,i,o,s,a,c){super(t,i,o,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=dS(r.id,l);for(const d of l){const h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}const u=r.getExternalStyles?.();if(u)for(const d of u){const h=Wp(d,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class Xp extends Zp{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?dS(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===Kr.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class pS extends Xp{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=function e$(e){return"_ngcontent-%COMP%".replace(Yp,e)}(l),this.hostAttr=function t$(e){return"_nghost-%COMP%".replace(Yp,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class Jp extends Tk{supportsDOMEvents=!0;static makeCurrent(){!function Ik(e){g_??=e}(new Jp)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function r$(){return Js=Js||document.head.querySelector("base"),Js?Js.getAttribute("href"):null}();return null==n?null:function i$(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Js=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Mk(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Js=null,s$=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac})}return e})();const gS=["alt","control","meta","shift"],a$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},c$={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function mS(e){return{appProviders:[...m$,...e?.providers??[]],platformProviders:p$}}const p$=[{provide:vf,useValue:m_},{provide:Dy,useValue:function d$(){Jp.makeCurrent()},multi:!0},{provide:Ct,useFactory:function h$(){return function xN(e){yf=e}(document),document}}],m$=[{provide:Sd,useValue:"root"},{provide:Qo,useFactory:function f$(){return new Qo}},{provide:Gp,useClass:zp,multi:!0},{provide:Gp,useClass:(()=>{class e extends oS{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i,o){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zo().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),gS.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=a$[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gS.forEach(s=>{s!==i&&(0,c$[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||e)(te(Ct))};static \u0275prov=B({token:e,factory:e.\u0275fac})}return e})(),multi:!0},Qp,lS,sS,{provide:fr,useExisting:Qp},{provide:class kk{},useClass:s$},[]];var q=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(q||{});const Kn="*";function _S(e){return{type:q.Style,styles:e,offset:null}}class ea{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,n=0){this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class yS{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let n=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function vS(e){return new y(3e3,!1)}function I$(e){return new y(3002,!1)}function Dr(e){switch(e.length){case 0:return new ea;case 1:return e[0];default:return new yS(e)}}function DS(e,t,n=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=e.normalizePropertyName(p,i),g){case"!":g=n.get(f);break;case Kn:g=r.get(f);break;default:g=e.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),u||o.push(d),a=d,s=l}),i.length)throw function V$(){return new y(3502,!1)}();return o}function tg(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&ng(n,"start",e)));break;case"done":e.onDone(()=>r(n&&ng(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&ng(n,"destroy",e)))}}function ng(e,t,n){const o=rg(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),s=e._data;return null!=s&&(o._data=s),o}function rg(e,t,n,r,i="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ht(e,t,n){let r=e.get(t);return r||e.set(t,r=n),r}function xS(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const Q$=typeof document>"u"?null:document.documentElement;function ig(e){const t=e.parentNode||e.host||null;return t===Q$?null:t}let pi=null,ES=!1;function bS(e,t){for(;t;){if(t===e)return!0;t=ig(t)}return!1}function CS(e,t,n){if(n)return Array.from(e.querySelectorAll(t));const r=e.querySelector(t);return r?[r]:[]}const wS="ng-enter",og="ng-leave",Kl="ng-trigger",Yl=".ng-trigger",IS="ng-animating",sg=".ng-animating";function Yn(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ag(parseFloat(t[1]),t[2])}function ag(e,t){return"s"===t?1e3*e:e}function Ql(e,t,n){return e.hasOwnProperty("duration")?e:function rU(e,t,n){let r,i=0,o="";if("string"==typeof e){const s=e.match(nU);if(null===s)return t.push(vS()),{duration:0,delay:0,easing:""};r=ag(parseFloat(s[1]),s[2]);const a=s[3];null!=a&&(i=ag(parseFloat(a),s[4]));const c=s[5];c&&(o=c)}else r=e;if(!n){let s=!1,a=t.length;r<0&&(t.push(function y$(){return new y(3100,!1)}()),s=!0),i<0&&(t.push(function v$(){return new y(3101,!1)}()),s=!0),s&&t.splice(a,0,vS())}return{duration:r,delay:i,easing:o}}(e,t,n)}const nU=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Mn(e,t,n){t.forEach((r,i)=>{const o=lg(i);n&&!n.has(i)&&n.set(i,e.style[o]),e.style[o]=r})}function gi(e,t){t.forEach((n,r)=>{const i=lg(r);e.style[i]=""})}function ta(e){return Array.isArray(e)?1==e.length?e[0]:function _$(e,t=null){return{type:q.Sequence,steps:e,options:t}}(e):e}const cg=new RegExp("{{\\s*(.+?)\\s*}}","g");function TS(e){let t=[];if("string"==typeof e){let n;for(;n=cg.exec(e);)t.push(n[1]);cg.lastIndex=0}return t}function na(e,t,n){const r=`${e}`,i=r.replace(cg,(o,s)=>{let a=t[s];return null==a&&(n.push(function x$(){return new y(3003,!1)}()),a=""),a.toString()});return i==r?e:i}const sU=/-+([a-z0-9])/g;function lg(e){return e.replace(sU,(...t)=>t[1].toUpperCase())}function $t(e,t,n){switch(t.type){case q.Trigger:return e.visitTrigger(t,n);case q.State:return e.visitState(t,n);case q.Transition:return e.visitTransition(t,n);case q.Sequence:return e.visitSequence(t,n);case q.Group:return e.visitGroup(t,n);case q.Animate:return e.visitAnimate(t,n);case q.Keyframes:return e.visitKeyframes(t,n);case q.Style:return e.visitStyle(t,n);case q.Reference:return e.visitReference(t,n);case q.AnimateChild:return e.visitAnimateChild(t,n);case q.AnimateRef:return e.visitAnimateRef(t,n);case q.Query:return e.visitQuery(t,n);case q.Stagger:return e.visitStagger(t,n);default:throw function E$(){return new y(3004,!1)}()}}function ug(e,t){return window.getComputedStyle(e)[t]}let dg=(()=>{class e{validateStyleProperty(n){return function X$(e){pi||(pi=function J$(){return typeof document<"u"?document.body:null}()||{},ES=!!pi.style&&"WebkitAppearance"in pi.style);let t=!0;return pi.style&&!function Z$(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in pi.style,!t&&ES&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in pi.style)),t}(n)}containsElement(n,r){return bS(n,r)}getParentElement(n){return ig(n)}query(n,r,i){return CS(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,o,s,a=[],c){return new ea(i,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac})}return e})();class fg{static NOOP=new dg}class hg{}const uU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class MS extends hg{normalizePropertyName(t,n){return lg(t)}normalizeStyleValue(t,n,r,i){let o="";const s=r.toString().trim();if(uU.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function b$(){return new y(3005,!1)}())}return s+o}}const Xl=new Set(["true","1"]),Jl=new Set(["false","0"]);function kS(e,t){const n=Xl.has(e)||Jl.has(e),r=Xl.has(t)||Jl.has(t);return(i,o)=>{let s="*"==e||e==i,a="*"==t||t==o;return!s&&n&&"boolean"==typeof i&&(s=i?Xl.has(e):Jl.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?Xl.has(t):Jl.has(t)),s&&a}}const pU=new RegExp("s*:selfs*,?","g");function gg(e,t,n,r){return new gU(e).build(t,n,r)}class gU{_driver;constructor(t){this._driver=t}build(t,n,r){const i=new yU(n);return this._resetContextStyleTimingState(i),$t(this,ta(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let r=n.queryCount=0,i=n.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&n.errors.push(function C$(){return new y(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==q.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==q.Transition){const c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(function S$(){return new y(3007,!1)}())}),{type:q.Trigger,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,n){const r=this.visitStyle(t.styles,n),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{TS(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(function w$(){return new y(3008,!1)}(0,o.values()))}return{type:q.State,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const r=$t(this,ta(t.animation),n),i=function dU(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function fU(e,t,n){if(":"==e[0]){const c=function hU(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return t.push(function F$(){return new y(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof c)return void t.push(c);e=c}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function P$(){return new y(3015,!1)}()),t;const i=r[1],o=r[2],s=r[3];t.push(kS(i,s)),"<"==o[0]&&("*"!=i||"*"!=s)&&t.push(kS(s,i))}(r,n,t)):n.push(e),n}(t.expr,n.errors);return{type:q.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:mi(t.options)}}visitSequence(t,n){return{type:q.Sequence,steps:t.steps.map(r=>$t(this,r,n)),options:mi(t.options)}}visitGroup(t,n){const r=n.currentTime;let i=0;const o=t.steps.map(s=>{n.currentTime=r;const a=$t(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:q.Group,steps:o,options:mi(t.options)}}visitAnimate(t,n){const r=function DU(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return mg(Ql(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=mg(0,0,"");return o.dynamic=!0,o.strValue=n,o}const i=Ql(n,t);return mg(i.duration,i.delay,i.easing)}(t.timings,n.errors);n.currentAnimateTimings=r;let i,o=t.styles?t.styles:_S({});if(o.type==q.Keyframes)i=this.visitKeyframes(o,n);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};r.easing&&(l.easing=r.easing),s=_S(l)}n.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:q.Animate,timings:r,style:i,options:null}}visitStyle(t,n){const r=this._makeStyleAst(t,n);return this._validateStyleAst(r,n),r}_makeStyleAst(t,n){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===Kn?r.push(a):n.errors.push(I$()):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:q.Style,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,n){const r=n.currentAnimateTimings;let i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(function T$(){return new y(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&function oU(e,t,n){const r=t.params||{},i=TS(e);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(function D$(){return new y(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(t,n){const r={type:q.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function M$(){return new y(3011,!1)}()),r;let o=0;const s=[];let a=!1,c=!1,l=0;const u=t.steps.map(v=>{const _=this._makeStyleAst(v,n);let M=null!=_.offset?_.offset:function vU(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(_.styles),W=0;return null!=M&&(o++,W=_.offset=M),c=c||W<0||W>1,a=a||W<l,l=W,s.push(W),_});c&&n.errors.push(function k$(){return new y(3012,!1)}()),a&&n.errors.push(function A$(){return new y(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?n.errors.push(function N$(){return new y(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=n.currentTime,g=n.currentAnimateTimings,m=g.duration;return u.forEach((v,_)=>{const M=h>0?_==f?1:h*_:s[_],W=M*m;n.currentTime=p+g.delay+W,g.duration=W,this._validateStyleAst(v,n),v.offset=M,r.styles.push(v)}),r}visitReference(t,n){return{type:q.Reference,animation:$t(this,ta(t.animation),n),options:mi(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:q.AnimateChild,options:mi(t.options)}}visitAnimateRef(t,n){return{type:q.AnimateRef,animation:this.visitReference(t.animation,n),options:mi(t.options)}}visitQuery(t,n){const r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;const[o,s]=function mU(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(pU,"")),e=e.replace(/@\*/g,Yl).replace(/@\w+/g,n=>Yl+"-"+n.slice(1)).replace(/:animating/g,sg),[e,t]}(t.selector);n.currentQuerySelector=r.length?r+" "+o:o,Ht(n.collectedStyles,n.currentQuerySelector,new Map);const a=$t(this,ta(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:q.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:mi(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function R$(){return new y(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ql(t.timings,n.errors,!0);return{type:q.Stagger,animation:$t(this,ta(t.animation),n),timings:r,options:null}}}class yU{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}}function mi(e){return e?(e={...e}).params&&(e.params=function _U(e){return e?{...e}:null}(e.params)):e={},e}function mg(e,t,n){return{duration:e,delay:t,easing:n}}function _g(e,t,n,r,i,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class eu{_map=new Map;get(t){return this._map.get(t)||[]}append(t,n){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const bU=new RegExp(":enter","g"),SU=new RegExp(":leave","g");function yg(e,t,n,r,i,o=new Map,s=new Map,a,c,l=[]){return(new wU).buildKeyframes(e,t,n,r,i,o,s,a,c,l)}class wU{buildKeyframes(t,n,r,i,o,s,a,c,l,u=[]){l=l||new eu;const d=new vg(t,n,l,i,o,u,[]);d.options=c;const h=c.delay?Yn(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),$t(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===n){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[_g(n,[],[],[],0,h,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(t.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=t}visitAnimateRef(t,n){const r=n.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,r),this.visitReference(t.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,r){for(const i of t){const o=i?.delay;if(o){const s="number"==typeof o?o:Yn(na(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(t,n,r){let o=n.currentTimeline.currentTime;const s=null!=r.duration?Yn(r.duration):null,a=null!=r.delay?Yn(r.delay):null;return 0!==s&&t.forEach(c=>{const l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,n){n.updateOptions(t.options,!0),$t(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const r=n.subContextCount;let i=n;const o=t.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){i.previousNode.type==q.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=tu);const s=Yn(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>$t(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const r=[];let i=n.currentTimeline.currentTime;const o=t.options&&t.options.delay?Yn(t.options.delay):0;t.steps.forEach(s=>{const a=n.createSubContext(t.options);o&&a.delayNextStep(o),$t(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const r=t.strValue;return Ql(n.params?na(r,n.params,n.errors):r,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const r=n.currentAnimateTimings=this._visitTiming(t.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;o.type==q.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=t}visitQuery(t,n){const r=n.currentTimeline.currentTime,i=t.options||{},o=i.delay?Yn(i.delay):0;o&&(n.previousNode.type===q.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=tu);let s=r;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;const d=n.createSubContext(t.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),$t(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const r=n.parentContext,i=n.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1);let c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=n.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;$t(this,t.animation,n),n.previousNode=t,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const tu={};class vg{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=tu;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,n,r,i,o,s,a,c){this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new nu(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Yn(r.duration)),null!=r.delay&&(i.delay=Yn(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=na(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const r=t.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return t}createSubContext(t=null,n,r){const i=n||this.element,o=new vg(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=tu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,r){const i={duration:n??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new IU(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(bU,"."+this._enterClassName)).replace(SU,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&0==a.length&&s.push(function O$(){return new y(3014,!1)}()),a}}class nu{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,n,r,i){this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new nu(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Kn),this._currentKeyframe.set(n,Kn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,r,i){n&&this._previousKeyframe.set("easing",n);const o=i&&i.params||{},s=function TU(e,t){const n=new Map;let r;return e.forEach(i=>{if("*"===i){r??=t.keys();for(let o of r)n.set(o,Kn)}else for(let[o,s]of i)n.set(o,s)}),n}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=na(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Kn),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{"!"===u?t.add(d):u===Kn&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});const o=[...t.values()],s=[...n.values()];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return _g(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class IU extends nu{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,n,r,i,o,s,a=!1){super(t,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=r+n,a=n/s,c=new Map(t[0]);c.set("offset",0),o.push(c);const l=new Map(t[0]);l.set("offset",RS(a)),o.push(l);const u=t.length-1;for(let d=1;d<=u;d++){let h=new Map(t[d]);const f=h.get("offset");h.set("offset",RS((n+f*r)/s)),o.push(h)}r=s,n=0,i="",t=o}return _g(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function RS(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}function OS(e,t,n,r,i,o,s,a,c,l,u,d,h){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const Dg={};class PS{_triggerName;ast;_stateStyles;constructor(t,n,r){this._triggerName=t,this.ast=n,this._stateStyles=r}match(t,n,r,i){return function MU(e,t,n,r,i){return e.some(o=>o(t,n,r,i))}(this.ast.matchers,t,n,r,i)}buildStyles(t,n,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(n,r):new Map}build(t,n,r,i,o,s,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||Dg,p=this.buildStyles(r,a&&a.params||Dg,d),g=c&&c.params||Dg,m=this.buildStyles(i,g,d),v=new Set,_=new Map,M=new Map,W="void"===i,z={params:FS(g,h),delay:this.ast.options?.delay},ke=u?[]:yg(t,n,this.ast.animation,o,s,p,m,z,l,d);let xe=0;return ke.forEach(Ue=>{xe=Math.max(Ue.duration+Ue.delay,xe)}),d.length?OS(n,this._triggerName,r,i,W,p,m,[],[],_,M,xe,d):(ke.forEach(Ue=>{const Sr=Ue.element,Po=Ht(_,Sr,new Set);Ue.preStyleProps.forEach(xi=>Po.add(xi));const kT=Ht(M,Sr,new Set);Ue.postStyleProps.forEach(xi=>kT.add(xi)),Sr!==n&&v.add(Sr)}),OS(n,this._triggerName,r,i,W,p,m,ke,[...v.values()],_,M,xe))}}function FS(e,t){const n={...t};return Object.entries(e).forEach(([r,i])=>{null!=i&&(n[r]=i)}),n}class kU{styles;defaultParams;normalizer;constructor(t,n,r){this.styles=t,this.defaultParams=n,this.normalizer=r}buildStyles(t,n){const r=new Map,i=FS(t,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=na(s,i,n));const c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}}class NU{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,n,r){this.name=t,this.ast=n,this._normalizer=r,n.states.forEach(i=>{this.states.set(i.name,new kU(i.style,i.options&&i.options.params||{},r))}),LS(this.states,"true","1"),LS(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new PS(t,i,this.states))}),this.fallbackTransition=function RU(e,t){return new PS(e,{type:q.Transition,animation:{type:q.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,r,i){return this.transitionFactories.find(s=>s.match(t,n,r,i))||null}matchStyles(t,n,r){return this.fallbackTransition.buildStyles(t,n,r)}}function LS(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const OU=new eu;class PU{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r}register(t,n){const r=[],o=gg(this._driver,n,r,[]);if(r.length)throw function B$(){return new y(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,n,r){const i=t.element,o=DS(this._normalizer,t.keyframes,n,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,n,r={}){const i=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=yg(this._driver,n,o,wS,og,new Map,new Map,r,OU,i),s.forEach(u=>{const d=Ht(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function j$(){return new y(3300,!1)}()),s=[]),i.length)throw function H$(){return new y(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Kn))})});const l=Dr(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function $$(){return new y(3301,!1)}();return n}listen(t,n,r,i){const o=rg(n,"","","");return tg(this._getPlayer(t),r,o,i),()=>{}}command(t,n,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,n,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const VS="ng-animate-queued",xg="ng-animate-disabled",jU=[],BS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hn="__ng_removed";class Eg{namespaceId;value;options;get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;const r=t&&t.hasOwnProperty("value");if(this.value=function GU(e){return e??null}(r?t.value:t),r){const{value:o,...s}=t;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const n=t.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const ra="void",bg=new Eg(ra);class $U{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,n,r){this.id=t,this.hostElement=n,this._engine=r,this._hostClassName="ng-tns-"+t,Zt(n,this._hostClassName)}listen(t,n,r,i){if(!this._triggers.has(n))throw function U$(){return new y(3302,!1)}();if(null==r||0==r.length)throw function z$(){return new y(3303,!1)}();if(!function qU(e){return"start"==e||"done"==e}(r))throw function G$(){return new y(3400,!1)}();const o=Ht(this._elementListeners,t,[]),s={name:n,phase:r,callback:i};o.push(s);const a=Ht(this._engine.statesByElement,t,new Map);return a.has(n)||(Zt(t,Kl),Zt(t,Kl+"-"+n),a.set(n,bg)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function q$(){return new y(3401,!1)}();return n}trigger(t,n,r,i=!0){const o=this._getTrigger(n),s=new Cg(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(Zt(t,Kl),Zt(t,Kl+"-"+n),this._engine.statesByElement.set(t,a=new Map));let c=a.get(n);const l=new Eg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=bg),l.value!==ra&&c.value===l.value){if(!function YU(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(c.params,l.params)){const g=[],m=o.matchStyles(c.value,c.params,g),v=o.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{gi(t,m),Mn(t,v)})}return}const h=Ht(this._engine.playersByElement,t,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=o.matchTransition(c.value,l.value,t,l.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:p}),p||(Zt(t,VS),s.onStart(()=>{Io(t,VS)})),s.onDone(()=>{let g=this.players.indexOf(s);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(t);if(m){let v=m.indexOf(s);v>=0&&m.splice(v,1)}}),this.players.push(s),h.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const r=this._engine.driver.query(t,Yl,!0);r.forEach(i=>{if(i[hn])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,n,r,i){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(t,l,ra,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,s),r&&Dr(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){const i=new Set;n.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,l=r.get(s)||bg,u=new Eg(ra),d=new Cg(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,n){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,n);else{const o=t[hn];(!o||o===BS)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,n))}}insertNode(t,n){Zt(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=rg(o,r.triggerName,r.fromState.value,r.toState.value);c._data=t,tg(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class UU{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,n)=>{};_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,r){this.bodyNode=t,this.driver=n,this._normalizer=r}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,n){const r=new $U(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(n,t),t}register(t,n){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,n)),r}registerTrigger(t,n,r){let i=this._namespaceLookup[t];i&&i.register(n,r)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}return n}trigger(t,n,r,i){if(ru(n)){const o=this._fetchNamespace(t);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(t,n,r,i){if(!ru(n))return;const o=n[hn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Zt(t,xg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Io(t,xg))}removeNode(t,n,r){if(ru(n)){const i=t?this._fetchNamespace(t):null;i?i.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r);const o=this.namespacesByHostElement.get(n);o&&o.id!==t&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,r,i,o){this.collectedLeaveElements.push(n),n[hn]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,n,r,i,o){return ru(n)?this._fetchNamespace(t).listen(n,r,i,o):()=>{}}_buildInstruction(t,n,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,n,o)}destroyInnerAnimations(t){let n=this.driver.query(t,Yl,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,sg,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Dr(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[hn];if(n&&n.setForRemoval){if(t[hn]=BS,n.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(xg)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Zt(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Dr(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function W$(){return new y(3402,!1)}()}_flushAnimations(t,n){const r=new eu,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(A=>{u.add(A);const P=this.driver.query(A,".ng-animate-queued",!0);for(let G=0;G<P.length;G++)u.add(P[G])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=$S(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((A,P)=>{const G=wS+g++;p.set(P,G),A.forEach(se=>Zt(se,G))});const m=[],v=new Set,_=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const P=this.collectedLeaveElements[A],G=P[hn];G&&G.setForRemoval&&(m.push(P),v.add(P),G.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(se=>v.add(se)):_.add(P))}const M=new Map,W=$S(h,Array.from(v));W.forEach((A,P)=>{const G=og+g++;M.set(P,G),A.forEach(se=>Zt(se,G))}),t.push(()=>{f.forEach((A,P)=>{const G=p.get(P);A.forEach(se=>Io(se,G))}),W.forEach((A,P)=>{const G=M.get(P);A.forEach(se=>Io(se,G))}),m.forEach(A=>{this.processLeaveNode(A)})});const z=[],ke=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(n).forEach(G=>{const se=G.player,st=G.element;if(z.push(se),this.collectedEnterElements.length){const vt=st[hn];if(vt&&vt.setForMove){if(vt.previousTriggersValues&&vt.previousTriggersValues.has(G.triggerName)){const Ei=vt.previousTriggersValues.get(G.triggerName),tn=this.statesByElement.get(G.element);if(tn&&tn.has(G.triggerName)){const zu=tn.get(G.triggerName);zu.value=Ei,tn.set(G.triggerName,zu)}}return void se.destroy()}}const Nn=!d||!this.driver.containsElement(d,st),zt=M.get(st),wr=p.get(st),Re=this._buildInstruction(G,r,wr,zt,Nn);if(Re.errors&&Re.errors.length)return void ke.push(Re);if(Nn)return se.onStart(()=>gi(st,Re.fromStyles)),se.onDestroy(()=>Mn(st,Re.toStyles)),void i.push(se);if(G.isFallbackTransition)return se.onStart(()=>gi(st,Re.fromStyles)),se.onDestroy(()=>Mn(st,Re.toStyles)),void i.push(se);const RT=[];Re.timelines.forEach(vt=>{vt.stretchStartingKeyframe=!0,this.disabledNodes.has(vt.element)||RT.push(vt)}),Re.timelines=RT,r.append(st,Re.timelines),s.push({instruction:Re,player:se,element:st}),Re.queriedElements.forEach(vt=>Ht(a,vt,[]).push(se)),Re.preStyleProps.forEach((vt,Ei)=>{if(vt.size){let tn=c.get(Ei);tn||c.set(Ei,tn=new Set),vt.forEach((zu,j0)=>tn.add(j0))}}),Re.postStyleProps.forEach((vt,Ei)=>{let tn=l.get(Ei);tn||l.set(Ei,tn=new Set),vt.forEach((zu,j0)=>tn.add(j0))})});if(ke.length){const A=[];ke.forEach(P=>{A.push(function K$(){return new y(3505,!1)}())}),z.forEach(P=>P.destroy()),this.reportError(A)}const xe=new Map,Ue=new Map;s.forEach(A=>{const P=A.element;r.has(P)&&(Ue.set(P,P),this._beforeAnimationBuild(A.player.namespaceId,A.instruction,xe))}),i.forEach(A=>{const P=A.element;this._getPreviousPlayers(P,!1,A.namespaceId,A.triggerName,null).forEach(se=>{Ht(xe,P,[]).push(se),se.destroy()})});const Sr=m.filter(A=>zS(A,c,l)),Po=new Map;HS(Po,this.driver,_,l,Kn).forEach(A=>{zS(A,c,l)&&Sr.push(A)});const xi=new Map;f.forEach((A,P)=>{HS(xi,this.driver,new Set(A),c,"!")}),Sr.forEach(A=>{const P=Po.get(A),G=xi.get(A);Po.set(A,new Map([...P?.entries()??[],...G?.entries()??[]]))});const B0=[],AT=[],NT={};s.forEach(A=>{const{element:P,player:G,instruction:se}=A;if(r.has(P)){if(u.has(P))return G.onDestroy(()=>Mn(P,se.toStyles)),G.disabled=!0,G.overrideTotalTime(se.totalTime),void i.push(G);let st=NT;if(Ue.size>1){let zt=P;const wr=[];for(;zt=zt.parentNode;){const Re=Ue.get(zt);if(Re){st=Re;break}wr.push(zt)}wr.forEach(Re=>Ue.set(Re,st))}const Nn=this._buildAnimation(G.namespaceId,se,xe,o,xi,Po);if(G.setRealPlayer(Nn),st===NT)B0.push(G);else{const zt=this.playersByElement.get(st);zt&&zt.length&&(G.parentPlayer=Dr(zt)),i.push(G)}}else gi(P,se.fromStyles),G.onDestroy(()=>Mn(P,se.toStyles)),AT.push(G),u.has(P)&&i.push(G)}),AT.forEach(A=>{const P=o.get(A.element);if(P&&P.length){const G=Dr(P);A.setRealPlayer(G)}}),i.forEach(A=>{A.parentPlayer?A.syncPlayerEvents(A.parentPlayer):A.destroy()});for(let A=0;A<m.length;A++){const P=m[A],G=P[hn];if(Io(P,og),G&&G.hasAnimation)continue;let se=[];if(a.size){let Nn=a.get(P);Nn&&Nn.length&&se.push(...Nn);let zt=this.driver.query(P,sg,!0);for(let wr=0;wr<zt.length;wr++){let Re=a.get(zt[wr]);Re&&Re.length&&se.push(...Re)}}const st=se.filter(Nn=>!Nn.destroyed);st.length?WU(this,P,st):this.processLeaveNode(P)}return m.length=0,B0.forEach(A=>{this.players.push(A),A.onDone(()=>{A.destroy();const P=this.players.indexOf(A);this.players.splice(P,1)}),A.play()}),B0}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,r,i,o){let s=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==ra;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,n,r){const o=n.element,s=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const c of n.timelines){const l=c.element,u=l!==o,d=Ht(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}gi(o,n.fromStyles)}_buildAnimation(t,n,r,i,o,s){const a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(p=>{const g=p.element;u.add(g);const m=g[hn];if(m&&m.removedBeforeQueried)return new ea(p.duration,p.delay);const v=g!==c,_=function KU(e){const t=[];return US(e,t),t}((r.get(g)||jU).map(xe=>xe.getRealPlayer())).filter(xe=>!!xe.element&&xe.element===g),M=o.get(g),W=s.get(g),z=DS(this._normalizer,p.keyframes,M,W),ke=this._buildPlayer(p,z,_);if(p.subTimeline&&i&&d.add(g),v){const xe=new Cg(t,a,g);xe.setRealPlayer(ke),l.push(xe)}return ke});l.forEach(p=>{Ht(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function zU(e,t,n){let r=e.get(t);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Zt(p,IS));const f=Dr(h);return f.onDestroy(()=>{u.forEach(p=>Io(p,IS)),Mn(c,n.toStyles)}),d.forEach(p=>{Ht(i,p,[]).push(f)}),f}_buildPlayer(t,n,r){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,r):new ea(t.duration,t.delay)}}class Cg{namespaceId;triggerName;element;_player=new ea;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,n,r){this.namespaceId=t,this.triggerName=n,this.element=r}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>tg(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){Ht(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function ru(e){return e&&1===e.nodeType}function jS(e,t){const n=e.style.display;return e.style.display=t??"none",n}function HS(e,t,n,r,i){const o=[];n.forEach(c=>o.push(jS(c)));const s=[];r.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=t.computeStyle(l,d,i);u.set(d,h),(!h||0==h.length)&&(l[hn]=HU,s.push(l))}),e.set(l,u)});let a=0;return n.forEach(c=>jS(c,o[a++])),s}function $S(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const i=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=n.has(l)?l:i.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&n.get(c).push(a)}),n}function Zt(e,t){e.classList?.add(t)}function Io(e,t){e.classList?.remove(t)}function WU(e,t,n){Dr(n).onDone(()=>e.processLeaveNode(t))}function US(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof yS?US(r.players,t):t.push(r)}}function zS(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(o=>i.add(o)):t.set(e,r),n.delete(e),!0}class ia{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,n)=>{};constructor(t,n,r){this._driver=n,this._normalizer=r,this._transitionEngine=new UU(t.body,n,r),this._timelineEngine=new PU(t.body,n,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,n,r,i,o){const s=t+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],u=gg(this._driver,o,c,[]);if(c.length)throw function L$(){return new y(3404,!1)}();a=function AU(e,t,n){return new NU(e,t,n)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,r,i){this._transitionEngine.insertNode(t,n,r,i)}onRemove(t,n,r){this._transitionEngine.removeNode(t,n,r)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,r,i){if("@"==r.charAt(0)){const[o,s]=xS(r);this._timelineEngine.command(o,n,s,i)}else this._transitionEngine.trigger(t,n,r,i)}listen(t,n,r,i,o){if("@"==r.charAt(0)){const[s,a]=xS(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(t,n,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let ZU=(()=>{class e{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i;let o=e.initialStylesByElement.get(n);o||e.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Mn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mn(this._element,this._initialStyles),this._endStyles&&(Mn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(gi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gi(this._element,this._endStyles),this._endStyles=null),Mn(this._element,this._initialStyles),this._state=3)}}return e})();function Sg(e){let t=null;return e.forEach((n,r)=>{(function XU(e){return"display"===e||"position"===e})(r)&&(t=t||new Map,t.set(r,n))}),t}class GS{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,n,r,i){this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;const t=this.keyframes,n=this._triggerWebAnimation(this.element,t,this.options);if(!n)return this._onFinish(),null;this.domPlayer=n,this._finalKeyframe=t.length?t[t.length-1]:new Map;const r=()=>this._onFinish();return n.addEventListener("finish",r),this.onDestroy(()=>{n.removeEventListener("finish",r)}),n}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(t,n,r){const i=this._convertKeyframesToObject(n);try{return t.animate(i,r)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){const t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:ug(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class qS{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,n){return bS(t,n)}getParentElement(t){return ig(t)}query(t,n,r){return CS(t,n,r)}computeStyle(t,n,r){return ug(t,n)}animate(t,n,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(f=>f instanceof GS);(function aU(e,t){return 0===e||0===t})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function iU(e){return e.length?e[0]instanceof Map?e:e.map(t=>new Map(Object.entries(t))):[]}(n).map(f=>new Map(f));d=function cU(e,t,n){if(n.size&&t.length){let r=t[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,ug(e,a)))}}return t}(t,d,l);const h=function QU(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=Sg(t[0]),t.length>1&&(r=Sg(t[t.length-1]))):t instanceof Map&&(n=Sg(t)),n||r?new ZU(e,n,r):null}(t,d);return new GS(t,d,c,h)}}const WS="@.disabled";class KS{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,n,r,i){this.namespaceId=t,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,r,i=!0){this.delegate.insertBefore(t,n,r),this.engine.onInsert(this.namespaceId,n,t,i)}removeChild(t,n,r,i){i?this.delegate.removeChild(t,n,r,i):this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){"@"==n.charAt(0)&&n==WS?this.disableAnimations(t,!!r):this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r,i){return this.delegate.listen(t,n,r,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class JU extends KS{factory;constructor(t,n,r,i,o){super(n,r,i,o),this.factory=t,this.namespaceId=n}setProperty(t,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==WS?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,n.slice(1),r):this.delegate.setProperty(t,n,r)}listen(t,n,r,i){if("@"==n.charAt(0)){const o=function e8(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=n.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function t8(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{this.factory.scheduleListenerCallback(c._data||-1,r,c)})}return this.delegate.listen(t,n,r,i)}}class n8{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,n,r){this.delegate=t,this.engine=n,this._zone=r,n.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(t,n){const i=this.delegate.createRenderer(t,n);if(!t||!n?.data?.animation){const l=this._rendererCache;let u=l.get(i);return u||(u=new KS("",i,this.engine,()=>l.delete(i)),l.set(i,u)),u}const o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,t,l.name,l)};return n.data.animation.forEach(a),new JU(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,r){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>n(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}}const a8=[{provide:fg,useFactory:()=>new qS},{provide:xy,useFactory:()=>"BrowserAnimations"},...[{provide:hg,useFactory:function i8(){return new MS}},{provide:ia,useClass:(()=>{class e extends ia{constructor(n,r,i){super(n,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||e)(te(Ct),te(fg),te(hg))};static \u0275prov=B({token:e,factory:e.\u0275fac})}return e})()},{provide:fr,useFactory:function o8(){return new n8(x(Qp),x(ia),x(le))}}]];var ou=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(ou||{});function Xt(e,t){const n=It(e),r=n[Me.NumberSymbols][t];if(typeof r>"u"){if(12===t)return n[Me.NumberSymbols][0];if(13===t)return n[Me.NumberSymbols][1]}return r}const P8=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Rg(e){const t=parseInt(e);if(isNaN(t))throw new y(2305,!1);return t}class Y8{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fg=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Y8(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),ow(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{ow(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(C(dn),C(un),C(Hp))};static \u0275dir=L({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function ow(e,t){e.context.$implicit=t.item}let sa=(()=>{class e{_viewContainer;_context=new Q8;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){sw(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){sw(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(C(dn),C(un))};static \u0275dir=L({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})();class Q8{$implicit=null;ngIf=null}function sw(e,t){if(e&&!e.createEmbeddedView)throw new y(2020,!1)}let lw=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!function Bg(e){return!(null==e||""===e||e!=e)}(n))return null;i||=this._locale;try{return function H8(e,t,n){return function Ag(e,t,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(e)){let l=function U8(e){let r,i,o,s,a,t=Math.abs(e)+"",n=0;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;"0"===t.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(e);s&&(l=function $8(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(l));let u=t.minInt,d=t.minFrac,h=t.maxFrac;if(o){const _=o.match(P8);if(null===_)throw new y(2306,!1);const M=_[1],W=_[3],z=_[5];null!=M&&(u=Rg(M)),null!=W&&(d=Rg(W)),null!=z?h=Rg(z):null!=W&&d>h&&(h=d)}!function z8(e,t,n){if(t>n)throw new y(2307,!1);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const l=t+e.integerLen,u=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,c&&(0===p[f]&&f>=l?p.pop():c=!1),h>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}(l,d,h);let f=l.digits,p=l.integerLen;const g=l.exponent;let m=[];for(c=f.every(_=>!_);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const v=[];for(f.length>=t.lgSize&&v.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)v.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),a=v.join(Xt(n,r)),m.length&&(a+=Xt(n,i)+m.join("")),g&&(a+=Xt(n,6)+"+"+g)}else a=Xt(n,9);return a=e<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(e,function Ng(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const u=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function wg(e,t){return It(e)[Me.NumberFormats][t]}(t,ou.Decimal),Xt(t,5)),t,1,0,n)}(function jg(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new y(2309,!1);return e}(n),i,r)}catch(o){throw function gn(e,t){return new y(2100,!1)}()}}static \u0275fac=function(r){return new(r||e)(C(vr,16))};static \u0275pipe=Rt({name:"number",type:e,pure:!0})}return e})();let _i=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ni({type:e});static \u0275inj=er({})}return e})();function Ke(e,t){return function BT(e,t){const n=Object.create(jT);n.computation=e,void 0!==t&&(n.equal=t);const r=()=>{if(Lo(n),Ea(n),n.value===Xn)throw n.error;return n.value};return r[Je]=n,r}(e,t?.equal)}Error,Error;const N3=window.location.toString().includes("debug");function Ye(...e){N3&&console.debug(...e)}var b=function(e){return e[e.AMP=5]="AMP",e[e.STOMP=6]="STOMP",e[e.MOD=7]="MOD",e[e.DELAY=8]="DELAY",e[e.REVERB=9]="REVERB",e}(b||{});const R=(e,t,n,r)=>({id:e,name:t,type:n,knobs:r}),$e={F57_DELUXE:R(26368,"'57 Deluxe",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),F59_BASSMAN:R(25600,"'59 Bassman",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),F57_CHAMP:R(31744,"'57 Champ",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),F65_DELUXE:R(21248,"'65 Deluxe Reverb",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),F65_PRINCETON:R(27136,"'65 Princeton",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),F65_TWIN:R(29952,"'65 Twin Reverb",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),SUPER_SONIC:R(29184,"Super-Sonic",b.AMP,["Vol","Gain","Gain2","Master","Treb","Mid","Bass","Pres"]),BRIT_60S:R(24832,"British '60s",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),BRIT_70S:R(30976,"British '70s",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),BRIT_80S:R(24064,"British '80s",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),US_90S:R(23808,"American '90s",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),METAL_2000:R(27904,"Metal 2000",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),STUDIO_PREAMP:R(61696,"Studio Preamp",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),F57_TWIN:R(62976,"'57 Twin",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),THRIFT_60S:R(63744,"'60s Thrift",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),BRIT_WATTS:R(65280,"British Watts",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"]),BRIT_COLOUR:R(64512,"British Colour",b.AMP,["Vol","Gain","","Master","Treb","Mid","Bass","Pres"])},Ie={OVERDRIVE:R(15360,"Overdrive",b.STOMP,["Level","Gain","Low","Mid","High",""]),WAH:R(18688,"Fixed Wah",b.STOMP,["Level","Freq","Min","Max","Q",""]),TOUCH_WAH:R(18944,"Touch Wah",b.STOMP,["Level","Sens","Min","Max","Q",""]),FUZZ:R(6656,"Fuzz",b.STOMP,["Level","Gain","Octave","Low","High",""]),FUZZ_TOUCH_WAH:R(7168,"Fuzz Touch Wah",b.STOMP,["Level","Gain","Sens","Octave","Peak",""]),SIMPLE_COMP:R(34816,"Simple Comp",b.STOMP,["Type","","","","",""]),COMPRESSOR:R(1792,"Compressor",b.STOMP,["Level","Thresh","Ratio","Attack","Release",""]),RANGER_BOOST:R(769,"Ranger Boost",b.STOMP,["Level","Gain","Tone","","",""]),GREEN_BOX:R(47616,"Green Box",b.STOMP,["Level","Gain","Tone","Blend","",""]),ORANGE_BOX:R(257,"Orange Box",b.STOMP,["Level","Gain","Tone","","",""]),BLACK_BOX:R(4353,"Black Box",b.STOMP,["Level","Gain","Tone","","",""]),BIG_FUZZ:R(3841,"Big Fuzz",b.STOMP,["Level","Tone","Sustain","","",""]),SINE_CHORUS:R(4608,"Sine Chorus",b.MOD,["Level","Rate","Depth","Avg Dly","LR Phase",""]),TRIANGLE_CHORUS:R(4864,"Triangle Chorus",b.MOD,["Level","Rate","Depth","Avg Dly","LR Phase",""]),SINE_FLANGER:R(6144,"Sine Flanger",b.MOD,["Level","Rate","Depth","Fdbk","LR Phase",""]),TRIANGLE_FLANGER:R(6400,"Triangle Flanger",b.MOD,["Level","Rate","Depth","Fdbk","LR Phase",""]),VIBRATONE:R(11520,"Vibratone",b.MOD,["Level","Rotor","Depth","Fdbk","LR Phase",""]),VINTAGE_TREMOLO:R(16384,"Vintage Tremolo",b.MOD,["Level","Rate","Duty","Attack","Release",""]),SINE_TREMOLO:R(16640,"Sine Tremolo",b.MOD,["Level","Rate","Duty","LFO Clip","Tri Shape",""]),RING_MODULATOR:R(8704,"Ring Modulator",b.MOD,["Level","Freq","Depth","Shape","Phase",""]),STEP_FILTER:R(10496,"Step Filter",b.MOD,["Level","Rate","Res","Min Freq","Max Freq",""]),PHASER:R(20224,"Phaser",b.MOD,["Level","Rate","Depth","Fdbk","Shape",""]),PITCH_SHIFTER:R(7936,"Pitch Shifter",b.MOD,["Level","Pitch","Detune","Fdbk","PreDly",""]),MONO_DELAY:R(5632,"Mono Delay",b.DELAY,["Level","Time","Fdbk","Bright","Atten",""]),MONO_ECHO_FILTER:R(17152,"Mono Echo Filter",b.DELAY,["Level","Time","Fdbk","Freq","Res","Input"]),STEREO_ECHO_FILTER:R(18432,"Stereo Echo Filter",b.DELAY,["Level","Time","Fdbk","Freq","Res","Input"]),TAPE_DELAY:R(11008,"Tape Delay",b.DELAY,["Level","Time","Fdbk","Flutter","Bright","Stereo"]),STEREO_TAPE_DELAY:R(10752,"Stereo Tape Delay",b.DELAY,["Level","Time","Fdbk","Flutter","Sep","Bright"]),DUCKING_DELAY:R(5376,"Ducking Delay",b.DELAY,["Level","Time","Fdbk","Release","Thresh",""]),REVERSE_DELAY:R(17920,"Reverse Delay",b.DELAY,["Level","Time","Fdbk","Bright","Atten",""]),MULTITAP_DELAY:R(17408,"Multitap Delay",b.DELAY,["Level","Time","Fdbk","Bright","Atten",""]),PING_PONG_DELAY:R(17664,"Ping Pong Delay",b.DELAY,["Level","Time","Fdbk","Bright","Atten",""]),SMALL_HALL:R(9216,"Small Hall",b.REVERB,["Level","Decay","Dwell","Diff","Tone",""]),LARGE_HALL:R(14848,"Large Hall",b.REVERB,["Level","Decay","Dwell","Diff","Tone",""]),SMALL_ROOM:R(9728,"Small Room",b.REVERB,["Level","Decay","Dwell","Diff","Tone",""]),LARGE_ROOM:R(15104,"Large Room",b.REVERB,["Level","Decay","Dwell","Diff","Tone",""]),SMALL_PLATE:R(19968,"Small Plate",b.REVERB,["Level","Decay","Dwell","Diff","Tone",""]),LARGE_PLATE:R(19200,"Large Plate",b.REVERB,["Level","Decay","Dwell","Diff","Tone",""]),AMBIENT:R(19456,"Ambient",b.REVERB,["Level","Decay","Dwell","Diff","Tone",""]),ARENA:R(19712,"Arena",b.REVERB,["Level","Decay","Dwell","Diff","Tone",""]),SPRING_63:R(8448,"'63 Spring",b.REVERB,["Level","Decay","Dwell","Diff","Tone",""]),SPRING_65:R(2816,"'65 Spring",b.REVERB,["Level","Decay","Dwell","Diff","Tone",""])},$g=[{id:0,name:"Off"},{id:1,name:"1x12 '57 Deluxe"},{id:2,name:"4x10 '59 Bassman"},{id:3,name:"1x8 '57 Champ"},{id:4,name:"1x12 '65 Deluxe"},{id:5,name:"1x10 '65 Princeton"},{id:6,name:"4x12 Metal 2000"},{id:7,name:"2x12 British '60s"},{id:8,name:"4x12 British '70s"},{id:9,name:"2x12 '65 Twin"},{id:10,name:"4x12 British '80s"},{id:11,name:"2x12 Super-Sonic"},{id:12,name:"1x12 Super-Sonic"},{id:13,name:"2x12 '57 Twin"},{id:14,name:"2x12 '60s Thrift"},{id:15,name:"4x12 British Watts"},{id:16,name:"4x12 British Colour"}];class Ne{buffer;constructor(){this.buffer=new Uint8Array(64)}setCommand(t){return this.buffer[0]=t,this}setSubCommand(t){return this.buffer[1]=t,this}setType(t){return this.buffer[2]=t,this}setByte(t,n){return t>=0&&t<64&&(this.buffer[t]=n),this}addBytes(t,n){for(let r=0;r<n.length;r++)t+r<64&&(this.buffer[t+r]=n[r]);return this}setSequenceId(t){return this.buffer[6]=t,this.buffer[7]=1,this}static dspWrite(t,n){return(new Ne).setCommand(28).setSubCommand(3).setType(t).setSequenceId(n)}static applyChange(t,n){const r=(new Ne).setCommand(28).setSubCommand(3).setType(0).setSequenceId(n);return r.setByte(4,t===b.MOD?1:2),r}static bypass(t,n,r){const i=r-3;return(new Ne).setCommand(25).setSubCommand(195).setByte(2,i).setByte(3,n?0:1).setByte(4,t)}static savePreset(t,n){const r=(new Ne).setCommand(28).setSubCommand(1).setType(3).setByte(3,0).setByte(4,t).setByte(5,0).setByte(6,1).setByte(7,1),i=(new TextEncoder).encode(n.substring(0,32));return r.addBytes(16,i),r}static loadPreset(t){return(new Ne).setCommand(28).setSubCommand(1).setType(1).setByte(3,0).setByte(4,t).setByte(5,0).setByte(6,1)}static fromAmpState(t,n){const r=Ne.dspWrite(b.AMP,n);return r.setByte(16,t.modelId>>8&255),r.setByte(17,255&t.modelId),r.setByte(49,t.cabinetId),r.addBytes(32,t.knobs),r}static fromEffectState(t,n){const r=Ne.dspWrite(t.type,n);return r.setByte(16,t.modelId>>8&255),r.setByte(17,255&t.modelId),r.setByte(18,t.slot),r.setByte(22,t.enabled?0:1),r.addBytes(32,t.knobs),r}static handshake1(){return new Uint8Array([195])}static handshake2(){return new Uint8Array([26,3])}static requestState(){return new Uint8Array([255,193])}static requestBypassStates(){return new Uint8Array([25,0])}build(){return this.buffer}}class O3{device=null;sequenceId=0;listeners=new Map;get isConnected(){return!!this.device}get isSupported(){return!!navigator.hid}connect(){var t=this;return Q(function*(){if(!t.isSupported)return console.error("Connection failed: WebHID is not supported"),!1;try{const n=yield navigator.hid.requestDevice({filters:[{vendorId:7896}]});if(0===n.length)return!1;const r=n[0];return yield r.open(),t.device=r,Ye(`Connected: ${t.device?.productName}`),yield t.sendPacket(Ne.handshake1()),yield t.sendPacket(Ne.handshake2()),!0}catch(n){return console.error("Connection failed",n),t.device=null,!1}})()}disconnect(){var t=this;return Q(function*(){t.device&&(yield t.device.close(),t.device=null)})()}addEventListener(t){if(!this.device||this.listeners.has(t))return;const n=r=>{const o=new Uint8Array(r.data.buffer);Ye(`HID RECV [raw]: [${Array.from(o).map(s=>"0x"+s.toString(16).padStart(2,"0")).join(", ")}]`),t(o)};this.listeners.set(t,n),this.device.addEventListener("inputreport",n)}removeEventListener(t){if(!this.device)return;const n=this.listeners.get(t);n&&(this.device.removeEventListener("inputreport",n),this.listeners.delete(t))}getNextSequenceId(){return this.sequenceId=this.sequenceId+1&255,this.sequenceId}sendPacket(t){var n=this;return Q(function*(){if(!n.device)throw new Error("Not connected");try{Ye(`HID SEND [raw]: [${Array.from(t).map(r=>"0x"+r.toString(16).padStart(2,"0")).join(", ")}]`),yield n.device.sendReport(0,t)}catch(r){throw console.error("HID Send Error:",r),r}})()}}class P3{state;listeners=new Set;constructor(){this.state={amp:{modelId:0,enabled:!0,cabinetId:0,knobs:new Array(32).fill(0)},slots:new Array(8).fill(null),currentPresetSlot:null,presets:new Map,connected:!1,refreshing:!1}}getState(){return this.state}subscribe(t){return this.listeners.add(t),t(this.state),()=>this.listeners.delete(t)}notify(){this.listeners.forEach(t=>t(this.state))}setConnected(t){this.state.connected!==t&&(this.state={...this.state,connected:t},this.notify())}setRefreshing(t){this.state.refreshing!==t&&(this.state={...this.state,refreshing:t},this.notify())}setPresetActive(t,n){const r=new Map(this.state.presets);n&&r.set(t,{slot:t,name:n}),this.state={...this.state,currentPresetSlot:this.state.refreshing&&null!==this.state.currentPresetSlot?this.state.currentPresetSlot:t,presets:r},this.notify()}setPresetMetadata(t,n){if(!n)return;const r=new Map(this.state.presets);r.set(t,{slot:t,name:n}),this.state={...this.state,presets:r},this.notify()}updateAmpState(t){this.state={...this.state,amp:t},this.notify()}updateSlotState(t,n){if(t>=0&&t<8){const r=[...this.state.slots];r[t]=n,this.state={...this.state,slots:r},this.notify()}}setEffectBypass(t,n){if(t>=0&&t<8){const r=this.state.slots[t],i=[...this.state.slots];r&&(i[t]={...r,enabled:n}),this.state={...this.state,slots:i},this.notify()}}clearSlot(t){if(t>=0&&t<8){const n=[...this.state.slots];n[t]=null,this.state={...this.state,slots:n},this.notify()}}}class Ug{store;protocol;constructor(t,n){this.store=t,this.protocol=n}}const F3={[$e.F57_DELUXE.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,153,128,128,190,128,128,128,128,128,128,128,1,1,1,0,0,1,1,1,0,1,83,0,0,0,0,0,0,0,0,0],[$e.F59_BASSMAN.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,162,128,128,128,122,162,145,128,128,128,128,2,2,2,0,0,2,2,1,0,1,103,0,0,0,0,0,0,0,0,0],[$e.F57_CHAMP.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,179,0,255,128,128,128,128,128,128,128,128,12,12,12,0,0,5,12,1,0,1,241,0,0,0,0,0,0,0,0,0],[$e.F65_DELUXE.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,113,0,255,145,207,56,0,0,0,128,0,3,3,3,0,0,3,3,1,0,1,106,0,0,0,0,0,0,0,0,0],[$e.F65_PRINCETON.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,106,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,85,0,255,153,204,76,128,128,128,128,128,4,4,4,0,0,4,4,1,0,1,97,0,0,0,0,0,0,0,0,0],[$e.F65_TWIN.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,117,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,85,128,99,179,187,170,128,128,128,128,128,5,5,5,0,0,9,5,1,0,1,114,0,0,0,0,0,0,0,0,0],[$e.SUPER_SONIC.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,114,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,187,130,85,153,162,153,128,128,128,128,128,6,6,6,2,0,12,6,1,0,1,121,0,0,0,0,0,0,0,0,0],[$e.BRIT_60S.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,97,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,162,128,99,153,128,176,0,128,128,128,128,7,7,7,0,0,7,7,1,0,1,94,0,0,0,0,0,0,0,0,0],[$e.BRIT_70S.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,255,128,125,170,91,196,128,128,128,128,128,11,11,11,1,0,8,11,1,0,1,124,0,0,0,0,0,0,0,0,0],[$e.BRIT_80S.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,94,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,255,128,125,170,91,196,128,128,128,128,128,9,9,9,1,0,6,9,1,0,1,93,0,0,0,0,0,0,0,0,0],[$e.US_90S.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,93,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,142,128,102,164,25,199,113,128,128,128,128,10,10,10,3,0,10,10,1,0,1,109,0,0,0,0,0,0,0,0,0],[$e.METAL_2000.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,109,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,164,128,85,153,76,145,142,128,128,128,128,8,8,8,2,0,8,8,1,0,1,117,0,0,0,0,0,0,0,0,0],[$e.STUDIO_PREAMP.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,241,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,129,129,129,129,129,129,129,129,129,129,129,13,13,13,0,0,0,13,1,0,1,246,0,0,0,0,0,0,0,0,0],[$e.THRIFT_60S.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,249,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,129,129,129,172,129,157,129,129,129,129,129,15,15,15,0,0,1,15,1,0,1,252,0,0,0,0,0,0,0,0,0],[$e.BRIT_WATTS.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,186,157,129,255,186,152,166,135,129,129,129,129,17,17,17,0,0,10,17,1,0,1,0,0,0,0,0,0,0,0,0,0],[$e.BRIT_COLOUR.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,252,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,140,129,129,157,100,129,129,129,129,129,129,16,16,16,1,0,8,16,0,0,1,255,0,0,0,0,0,0,0,0,0],[$e.F57_TWIN.id]:[28,3,5,0,0,0,1,1,0,0,0,0,0,0,0,0,246,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,78,129,129,172,123,157,189,129,129,129,129,14,14,14,0,0,9,14,1,0,1,249,0,0,0,0,0,0,0,0,0],[Ie.OVERDRIVE.id]:[28,3,6,0,0,0,1,1,0,0,0,0,0,0,0,0,60,0,0,0,8,1,0,0,0,0,0,0,0,0,0,0,128,128,128,128,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.WAH.id]:[28,3,6,0,0,0,1,1,0,0,0,0,0,0,0,0,73,0,0,1,8,1,0,0,0,0,0,0,0,0,0,0,255,128,0,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.FUZZ.id]:[28,3,6,0,0,0,1,1,0,0,0,0,0,0,0,0,26,0,0,0,8,1,0,0,0,0,0,0,0,0,0,0,128,128,128,128,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.SIMPLE_COMP.id]:[28,3,6,0,0,0,1,1,0,0,0,0,0,0,0,0,136,0,0,8,8,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.COMPRESSOR.id]:[28,3,6,0,0,0,1,1,0,0,0,0,0,0,0,0,7,0,0,0,8,1,0,0,0,0,0,0,0,0,0,0,141,15,79,127,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.RANGER_BOOST.id]:[28,3,6,0,0,0,1,1,0,0,0,0,0,0,0,0,3,1,0,0,8,1,0,0,0,0,0,0,0,0,0,0,100,186,1,155,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.GREEN_BOX.id]:[28,3,6,0,0,0,1,1,0,0,0,0,0,0,0,0,186,0,0,0,8,1,0,0,0,0,0,0,0,0,0,0,129,177,140,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.ORANGE_BOX.id]:[28,3,6,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,8,1,0,0,0,0,0,0,0,0,0,0,129,129,129,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.BLACK_BOX.id]:[28,3,6,0,0,0,1,1,0,0,0,0,0,0,0,0,17,1,0,0,8,1,0,0,0,0,0,0,0,0,0,0,129,129,86,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.BIG_FUZZ.id]:[28,3,6,0,0,0,1,1,0,0,0,0,0,0,0,0,15,1,0,0,8,1,0,0,0,0,0,0,0,0,0,0,172,172,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.SMALL_HALL.id]:[28,3,9,0,0,0,1,1,0,0,0,0,0,0,0,0,36,0,5,0,8,1,0,0,0,0,0,0,0,0,0,0,110,93,110,128,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.LARGE_HALL.id]:[28,3,9,0,0,0,1,1,0,0,0,0,0,0,0,0,58,0,5,0,8,1,0,0,0,0,0,0,0,0,0,0,79,62,128,5,176,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.SMALL_ROOM.id]:[28,3,9,0,0,0,1,1,0,0,0,0,0,0,0,0,38,0,5,0,8,1,0,0,0,0,0,0,0,0,0,0,128,128,128,128,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.LARGE_PLATE.id]:[28,3,9,0,0,0,1,1,0,0,0,0,0,0,0,0,75,0,5,0,8,1,0,0,0,0,0,0,0,0,0,0,56,128,145,128,182,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.SPRING_65.id]:[28,3,9,0,0,0,1,1,0,0,0,0,0,0,0,0,11,0,5,0,8,1,0,0,0,0,0,0,0,0,0,0,128,139,73,255,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.SINE_CHORUS.id]:[28,3,7,0,0,0,1,1,0,0,0,0,0,0,0,0,18,0,4,0,1,1,0,0,0,0,0,0,0,0,0,0,255,14,25,25,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.SINE_FLANGER.id]:[28,3,7,0,0,0,1,1,0,0,0,0,0,0,0,0,24,0,4,0,1,1,0,0,0,0,0,0,0,0,0,0,255,14,128,128,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.VINTAGE_TREMOLO.id]:[28,3,7,0,0,0,1,1,0,0,0,0,0,0,0,0,64,0,4,1,1,1,0,0,0,0,0,0,0,0,0,0,219,173,99,244,241,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.PHASER.id]:[28,3,7,0,0,0,1,1,0,0,0,0,0,0,0,0,79,0,4,1,1,1,0,0,0,0,0,0,0,0,0,0,253,0,253,184,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.MONO_DELAY.id]:[28,3,8,0,0,0,1,1,0,0,0,0,0,0,0,0,22,0,6,2,1,1,0,0,0,0,0,0,0,0,0,0,255,128,128,128,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.TAPE_DELAY.id]:[28,3,8,0,0,0,1,1,0,0,0,0,0,0,0,0,43,0,6,2,1,1,0,0,0,0,0,0,0,0,0,0,125,28,0,99,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[Ie.STEREO_TAPE_DELAY.id]:[28,3,8,0,0,0,1,1,0,0,0,0,0,0,0,0,42,0,6,2,1,1,0,0,0,0,0,0,0,0,0,0,125,136,28,99,255,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};function gw(e){const t=F3[e];return t?new Uint8Array(t):null}class L3 extends Ug{handleKnobChange(t){const{dspType:n,knobIndex:r,value:i}=t;if(n===b.AMP){const o=this.store.getState().amp,s={...o,knobs:[...o.knobs]};return s.knobs[r]=i,this.store.updateAmpState(s),!0}return!1}handleAmpUpdate(t){const{modelId:n,cabinetId:r,knobs:i}=t;return this.store.updateAmpState({modelId:n,enabled:!0,cabinetId:r,knobs:i}),!0}setAmpModelById(t){var n=this;return Q(function*(){if(Ye(`[AmpController] setAmpModelById(modelId: 0x${t.toString(16)})`),!Object.values($e).find(s=>s.id===t))throw new Error(`Unknown amp model ID: 0x${t.toString(16).padStart(4,"0")}`);const i=gw(t)||new Uint8Array(64),o={modelId:t,enabled:!0,cabinetId:i[49],knobs:Array.from(i.slice(32,64))};n.store.updateAmpState(o),yield n.sendAmpState(o)})()}setAmpKnob(t,n){var r=this;return Q(function*(){Ye(`[AmpController] setAmpKnob(index: ${t}, value: ${n})`);const i=r.store.getState().amp,o={...i,knobs:[...i.knobs]};o.knobs[t]=n,r.store.updateAmpState(o),yield r.sendAmpState(o)})()}getAmpModel(){const t=this.store.getState().amp;return Object.values($e).find(n=>n.id===t.modelId)||null}getAmpKnobs(){const t=this.getAmpModel();if(!t)return[];const n=this.store.getState().amp,r=[];return t.knobs.forEach((i,o)=>{i&&r.push({name:i,value:n.knobs[o],index:o})}),r}getSettings(){const t=this.getAmpModel();if(!t)return null;const n=this.store.getState().amp,r=n.knobs;return{model:t.name,modelId:t.id,volume:r[0],gain:r[1],gain2:r[2],master:r[3],treble:r[4],mid:r[5],bass:r[6],presence:r[7],depth:r[9],bias:r[10],noiseGate:r[15],threshold:r[16],cabinetId:n.cabinetId,sag:r[19],brightness:r[20],knobs:this.getAmpKnobs()}}setCabinetById(t){var n=this;return Q(function*(){if(Ye(`[AmpController] setCabinetById(id: 0x${t.toString(16)})`),!$g.find(s=>s.id===t))throw new Error(`Unknown cabinet ID: 0x${t.toString(16).padStart(2,"0")}`);const o={...n.store.getState().amp,cabinetId:t};n.store.updateAmpState(o),yield n.sendAmpState(o)})()}getCabinet(){const t=this.store.getState().amp.cabinetId;return $g.find(n=>n.id===t)||null}sendAmpState(t){var n=this;return Q(function*(){const r=n.protocol.getNextSequenceId(),i=Ne.fromAmpState(t,r).build();yield n.protocol.sendPacket(i);const o=Ne.applyChange(b.AMP,n.protocol.getNextSequenceId()).build();yield n.protocol.sendPacket(o)})()}}class V3 extends Ug{handleKnobChange(t){const{slot:n,knobIndex:r,value:i}=t;if(n>=0&&n<8){const o=this.store.getState().slots[n];if(o){const s={...o,knobs:[...o.knobs]};return s.knobs[r]=i,this.store.updateSlotState(n,s),!0}}return!1}handleEffectUpdate(t){const{slot:n,dspType:r,modelId:i,enabled:o,knobs:s}=t;if(n>=0&&n<8){for(let c=0;c<8;c++){if(c===n)continue;const l=this.store.getState().slots[c];l&&l.type===r&&(Ye(`[EffectController] Singleton migration: Clearing slot ${c} because ${b[r]} moved to ${n}`),this.store.clearSlot(c))}return 0===i?(this.store.clearSlot(n),!0):(this.store.updateSlotState(n,{slot:n,type:r,modelId:i,enabled:o,knobs:s}),!0)}return!1}handleBypassState(t){const{slot:n,enabled:r}=t;return n>=0&&n<8&&(this.store.setEffectBypass(n,r),!0)}getBufferKnobs(t){const n=this.getEffectModel(t);if(!n)return[];const r=this.store.getState().slots[t];if(!r)return[];const i=[];return n.knobs.forEach((o,s)=>{o&&i.push({name:o,value:r.knobs[s],index:s})}),i}getEffectKnobs(t){return this.getBufferKnobs(t)}getEffectModelId(t){return this.getEffectModel(t)?.id||0}getSettings(t){const n=this.getEffectModel(t),r=this.store.getState().slots[t];if(!r)return null;const i=n||{id:r.modelId,name:`Unknown (0x${r.modelId.toString(16)})`,type:r.type,knobs:[]};return{slot:t,type:r.type,model:i.name,modelId:i.id,enabled:r.enabled,knobs:this.getBufferKnobs(t)}}setEffectById(t,n){var r=this;return Q(function*(){Ye(`[EffectController] setEffectById(slot: ${t}, modelId: 0x${n.toString(16)})`);const i=Object.values(Ie).find(a=>a.id===n);if(!i)throw new Error(`Unknown effect model ID: 0x${n.toString(16).padStart(4,"0")}`);if(t<0||t>7)throw new Error(`Invalid slot: ${t}`);for(let a=0;a<8;a++){if(a===t)continue;const c=r.store.getState().slots[a];c&&c.type===i.type&&(Ye(`[EffectController] Auto-removing existing ${b[i.type]} effect from slot ${a}`),yield r.clearEffect(a))}const o=gw(n)||new Uint8Array(64),s={type:i.type,modelId:n,slot:t,enabled:!0,knobs:Array.from(o.slice(32,64))};r.store.updateSlotState(t,s),yield r.sendEffectState(s)})()}setEffectEnabled(t,n){var r=this;return Q(function*(){Ye(`[EffectController] setEffectEnabled(slot: ${t}, enabled: ${n})`);const i=r.store.getState().slots[t];if(!i)return;r.store.setEffectBypass(t,n);const o=Ne.bypass(t,n,i.type).build();yield r.protocol.sendPacket(o)})()}moveEffect(t,n){var r=this;return Q(function*(){if(t<0||t>7||n<0||n>7)throw new Error(`Invalid slot indices: ${t}, ${n}`);if(t===n)return;const i=r.store.getState(),o=[...i.slots],s=t<4?"pre":"post",a=n<4?"pre":"post";if(s===a){const c="pre"===s?0:4,u=o.slice(c,"pre"===s?4:8),d=t-c,h=n-c,[f]=u.splice(d,1);u.splice(h,0,f);for(let p=0;p<4;p++)o[c+p]=u[p]}else{const c="pre"===s?0:4,l=o.slice(c,c+4),u=t-c,[d]=l.splice(u,1);l.push(null);const h="pre"===a?0:4,f=o.slice(h,h+4);f.splice(n-h,0,d),f.pop();for(let g=0;g<4;g++)o[c+g]=l[g],o[h+g]=f[g]}for(let c=0;c<8;c++){const l=i.slots[c],u=o[c];if(u!==l||u&&u.slot!==c)if(u){const d={...u,slot:c};r.store.updateSlotState(c,d),yield r.sendEffectState(d)}else l&&(r.store.updateSlotState(c,null),yield r.clearEffectOnHardware(c))}})()}swapEffects(t,n){var r=this;return Q(function*(){if(t<0||t>7||n<0||n>7)throw new Error(`Invalid slot indices: ${t}, ${n}`);if(t===n)return;const i=r.store.getState(),o=i.slots[t],s=i.slots[n];if(r.store.updateSlotState(t,null),r.store.updateSlotState(n,null),o){const a={...o,slot:n};r.store.updateSlotState(n,a),yield r.sendEffectState(a)}else yield r.clearEffectOnHardware(n);if(s){const a={...s,slot:t};r.store.updateSlotState(t,a),yield r.sendEffectState(a)}else yield r.clearEffectOnHardware(t)})()}clearEffect(t){var n=this;return Q(function*(){if(t<0||t>7)throw new Error(`Invalid slot: ${t}`);const r=n.store.getState().slots[t],i=r?r.type:b.STOMP;n.store.clearSlot(t),yield n.sendClearPacket(t,i)})()}clearEffectOnHardware(t){var n=this;return Q(function*(){yield n.sendClearPacket(t,b.STOMP)})()}sendClearPacket(t,n){var r=this;return Q(function*(){const i=r.protocol.getNextSequenceId(),o=Ne.dspWrite(n,i);o.setByte(18,t),o.setByte(22,1),yield r.protocol.sendPacket(o.build()),yield r.protocol.sendPacket(Ne.applyChange(n,r.protocol.getNextSequenceId()).build())})()}getEffectModel(t){const n=this.store.getState().slots[t];return n&&Object.values(Ie).find(r=>r.id===n.modelId)||null}setEffectKnob(t,n,r){var i=this;return Q(function*(){const o=i.store.getState().slots[t];if(!o)throw new Error(`No effect in slot ${t}`);const s={...o,knobs:[...o.knobs]};s.knobs[n]=r,i.store.updateSlotState(t,s),yield i.sendEffectState(s)})()}sendEffectState(t){var n=this;return Q(function*(){const r=n.protocol.getNextSequenceId(),i=Ne.fromEffectState(t,r).build();yield n.protocol.sendPacket(i);const o=Ne.applyChange(t.type,n.protocol.getNextSequenceId()).build();yield n.protocol.sendPacket(o)})()}}const mw={0:26368,1:25600,2:31744,3:21248,4:27136,5:29952,6:29184,7:24832,8:30976,9:24064,10:23808,11:27904,100:61696,101:62976,102:63744,103:65280,104:64512,105:21248,106:27136,107:29952,108:29184,19:15360,20:18688,21:18944,22:6656,23:7168,24:1792,25:34816,109:769,110:47616,111:4097,112:4353,113:3841,26:4608,27:4864,28:6144,29:6400,30:11520,31:16384,32:16640,33:8704,34:10496,35:20224,36:7936,37:5632,38:11008,39:5376,40:17920,41:18432,42:9216,43:14848,44:9728,45:15104,46:19968,47:19200,48:19456,49:19712,50:8448,51:2816};class B3{protocol;constructor(t){this.protocol=t}loadXml(t){var n=this;return Q(function*(){Ye(`[PresetImporter] loadXml (Length: ${t.length})`);const i=(new DOMParser).parseFromString(t,"text/xml");yield n.processModule(i,"Amplifier",b.AMP),yield n.processModule(i,"FX Stompbox",b.STOMP),yield n.processModule(i,"FX Modulation",b.MOD),yield n.processModule(i,"FX Delay",b.DELAY),yield n.processModule(i,"FX Reverb",b.REVERB)})()}processModule(t,n,r){var i=this;return Q(function*(){const o=t.querySelector(n);if(!o)return;const s=o.querySelectorAll("Module");for(let a=0;a<8;a++){const c=s[a];if(!c)continue;const l=parseInt(c.getAttribute("ID")||"0"),u=parseInt(c.getAttribute("POS")||"0"),d=parseInt(c.getAttribute("BypassState")||"0");let h=0;if(0!==l&&(h=i.resolveId(l,r),!h))continue;const f=new Uint8Array(64);f[16]=h>>8&255,f[17]=255&h,f[18]=u,f[22]=d;const p=c.querySelectorAll("Param");for(let v=0;v<p.length;v++){const _=p[v],M=parseInt(_.getAttribute("ControlIndex")||"0"),z=parseInt(_.textContent||"0")>>8;32+M<64&&(f[32+M]=z)}const g=Ne.dspWrite(r,i.protocol.getNextSequenceId());g.addBytes(16,f.slice(16,64)),yield i.protocol.sendPacket(g.build());const m=Ne.applyChange(r,i.protocol.getNextSequenceId()).build();yield i.protocol.sendPacket(m)}})()}resolveId(t,n){if(mw[t])return mw[t];const r=t<<8,i=n===b.AMP?$e:Ie;if(Object.values(i).some(c=>c.id===r))return r;const a=(255&t)<<8|t>>8&255;return Object.values(i).some(c=>c.id===a)?a:null}}class j3 extends Ug{onLoad;importer;constructor(t,n){super(t,n),this.importer=new B3(n)}handlePresetChange(t){const{slot:n,name:r}=t;return Ye(`[DEBUG] PresetController PRESET_CHANGE: ${n} ${r}`),this.store.setPresetActive(n,r),this.onLoad?.({slot:n,name:r}),!0}handlePresetInfo(t){const{slot:n,name:r}=t;return Ye(`[DEBUG] PresetController PRESET_INFO: ${n} ${r}`),this.store.setPresetMetadata(n,r),!0}loadPreset(t){var n=this;return Q(function*(){Ye(`[PresetController] loadPreset(slot: ${t})`);const r=Ne.loadPreset(t).build();yield n.protocol.sendPacket(r)})()}savePreset(t,n){var r=this;return Q(function*(){Ye(`[PresetController] savePreset(slot: ${t}, name: "${n}")`);const i=Ne.savePreset(t,n).build();yield r.protocol.sendPacket(i),r.store.setPresetActive(t,n),r.onLoad?.({slot:t,name:n})})()}loadXml(t){var n=this;return Q(function*(){yield n.importer.loadXml(t),n.onLoad?.({slot:n.store.getState().currentPresetSlot||0,name:"Imported Preset"})})()}getPresets(){return Array.from(this.store.getState().presets.values()).sort((t,n)=>t.slot-n.slot)}getPreset(t){return this.store.getState().presets.get(t)}}class _w{static decode(t){const n=t[0],r=t[1];if(n>=b.AMP&&n<=b.REVERB&&0===r)return{type:"KNOB_CHANGE",dspType:n,slot:t[13]||0,knobIndex:t[5],value:t[10]};if(28===n&&1===r){const i=t[2];if(4===i||0===i){if(0!==t[3])return{type:"UNKNOWN",raw:t};const o=t[4],s=t.slice(16,48),a=s.indexOf(0),c=-1!==a?s.slice(0,a):s,l=new TextDecoder("utf-8").decode(c);return 0===i?{type:"PRESET_CHANGE",slot:o,name:l}:{type:"PRESET_INFO",slot:o,name:l}}if(i===b.AMP)return 0!==t[3]?{type:"UNKNOWN",raw:t}:{type:"AMP_UPDATE",modelId:t[16]<<8|t[17],cabinetId:t[49],knobs:Array.from(t.slice(32,64))};if(i>=b.STOMP&&i<=b.REVERB&&0===t[3])return{type:"EFFECT_UPDATE",slot:t[18],dspType:i,modelId:t[16]<<8|t[17],enabled:!(1===t[22]),knobs:Array.from(t.slice(32,64))}}return 25===n&&195===r?{type:"BYPASS_STATE",slot:t[4],enabled:0===t[3]}:{type:"UNKNOWN",raw:t}}}class H3{protocol;store;amp;effects;presets;isRefreshing=!1;monitoringListener;constructor(){this.protocol=new O3,this.store=new P3,this.amp=new L3(this.store,this.protocol),this.effects=new V3(this.store,this.protocol),this.presets=new j3(this.store,this.protocol)}get state(){return this.store.getState()}get isSupported(){return this.protocol.isSupported}get isConnected(){return this.protocol.isConnected}connect(){var t=this;return Q(function*(){if(Ye("[API CALL] connect()"),!(yield t.protocol.connect()))return Ye("[API] Connection failed"),!1;Ye("[API] Connected. Initiating state sync..."),t.store.setConnected(!0),t.store.setRefreshing(!0),t.isRefreshing=!0,t.startMonitoring();try{yield t.refreshState(),yield t.refreshBypassStates(),yield new Promise(r=>setTimeout(r,500))}finally{t.isRefreshing=!1,t.store.setRefreshing(!1)}return!0})()}disconnect(){var t=this;return Q(function*(){Ye("[API CALL] disconnect()"),t.monitoringListener&&(t.protocol.removeEventListener(t.monitoringListener),t.monitoringListener=void 0),yield t.protocol.disconnect(),t.store.setConnected(!1)})()}startMonitoring(){this.monitoringListener||(this.monitoringListener=t=>{const n=_w.decode(t);switch(n.type){case"KNOB_CHANGE":this.amp.handleKnobChange(n)||this.effects.handleKnobChange(n);break;case"AMP_UPDATE":this.amp.handleAmpUpdate(n);break;case"EFFECT_UPDATE":this.effects.handleEffectUpdate(n);break;case"BYPASS_STATE":this.effects.handleBypassState(n);break;case"PRESET_CHANGE":this.presets.handlePresetChange(n);break;case"PRESET_INFO":this.presets.handlePresetInfo(n)}},this.protocol.addEventListener(this.monitoringListener),this.presets.onLoad=t=>{Ye(`[API DEBUG] Preset loaded event received: ${JSON.stringify(t)}`)})}refreshState(){var t=this;return Q(function*(){yield t.protocol.sendPacket(Ne.requestState())})()}refreshBypassStates(){var t=this;return Q(function*(){return new Promise(n=>{const r=new Set([0,1,2,3,4,5,6,7]),i=o=>{const s=_w.decode(o);"BYPASS_STATE"===s.type&&(r.delete(s.slot),0===r.size&&(t.protocol.removeEventListener(i),n()))};t.protocol.addEventListener(i),t.protocol.sendPacket(Ne.requestBypassStates()),setTimeout(()=>{t.protocol.removeEventListener(i),n()},1e3)})})()}}let yi=(()=>{class e{api=new H3;state=an(this.api.store.getState());connected=Ke(()=>this.state().connected);amp=Ke(()=>this.state().amp);effects=Ke(()=>this.state().slots);presets=Ke(()=>this.state().presets);currentPresetSlot=Ke(()=>this.state().currentPresetSlot);constructor(){this.api.store.subscribe(n=>{this.state.set({...n})})}connect(){return this.api.connect()}disconnect(){return this.api.disconnect()}isSupported(){return this.api.isSupported}loadPresetFile(n){return this.api.presets.loadXml(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$3=(()=>{class e{fuse;constructor(n){this.fuse=n}get controller(){return this.fuse.api.presets}loadPreset(n){return this.controller.loadPreset(n)}savePreset(n,r){return this.controller.savePreset(n,r)}loadXml(n){return this.controller.loadXml(n)}getPresets(){return this.controller.getPresets()}getPreset(n){return this.controller.getPreset(n)}static \u0275fac=function(r){return new(r||e)(te(yi))};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function U3(e,t){if(1&e){const n=wt();w(0,"button",9),ie("click",function(){return be(n),Ce(oe().service.connect())}),N(1,"Connect Amp"),I()}}function z3(e,t){if(1&e){const n=wt();w(0,"button",10),ie("click",function(){return be(n),Ce(oe().service.disconnect())}),N(1,"Disconnect"),I()}}function G3(e,t){if(1&e){const n=wt();w(0,"li")(1,"button",11),ie("click",function(){const i=be(n).$implicit;return Ce(oe().changePreset(i))}),w(2,"span",12),N(3),function tC(e,t){const n=U();let r;const i=e+F;n.firstCreatePass?(r=function ij(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Pr(r.type)),a=kt(C);try{const c=oc(!1),l=o();return oc(c),function Nd(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,D(),i,l),l}finally{kt(a)}}(4,"number"),I(),w(5,"span"),N(6),I()()()}if(2&e){let n;const r=t.$implicit,i=oe();k(),Tn("active",i.service.currentPresetSlot()===r),k(2),_r("",function nC(e,t,n,r){const i=e+F,o=D(),s=jr(o,i);return function Ks(e,t){return e[1].data[t].pure}(o,i)?Zb(o,bt(),t,s.transform,n,r,s):s.transform(n,r)}(4,4,r+1,"2.0"),":"),k(3),Ge((null==(n=i.service.presets().get(r))?null:n.name)||"Preset "+(r+1))}}let q3=(()=>{class e{service=x(yi);presetService=x($3);presetSaveName=Ke(()=>{const n=this.service.currentPresetSlot();return null===n?"":this.service.presets().get(n)?.name||""});changePreset(n){var r=this;return Q(function*(){yield r.presetService.loadPreset(n)})()}savePreset(){var n=this;return Q(function*(){const r=n.service.currentPresetSlot();if(null==r)return;const i=n.presetSaveName(),o=window.prompt("Enter a name for your preset",i);o&&(yield n.presetService.savePreset(r,o))})()}importFusePreset(n){var r=this;return Q(function*(){const i=n.target.files?.[0];if(!i)return;const o=yield i.text();yield r.presetService.loadXml(o)})()}range(n){return Array.from({length:n},(r,i)=>i)}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Cn({type:e,selectors:[["fuse-sidebar"]],decls:18,vars:3,consts:[["fileInput",""],[1,"connection"],["class","success",3,"click",4,"ngIf"],["class","danger",3,"click",4,"ngIf"],[1,"presets"],[4,"ngFor","ngForOf"],[1,"preset-controls"],[1,"secondary",3,"click"],["type","file",2,"display","none",3,"change"],[1,"success",3,"click"],[1,"danger",3,"click"],[3,"click"],[1,"slot-num"]],template:function(r,i){if(1&r){const o=wt();w(0,"header")(1,"h1"),N(2,"ReFUSE"),I(),w(3,"div",1),mt(4,U3,2,0,"button",2)(5,z3,2,0,"button",3),I()(),w(6,"div",4)(7,"h3"),N(8,"Presets"),I(),w(9,"ul"),mt(10,G3,7,7,"li",5),I()(),w(11,"div",6)(12,"button",7),ie("click",function(){return be(o),Ce(i.savePreset())}),N(13,"Save preset"),I(),w(14,"button",7),ie("click",function(){return be(o),Ce(di(17).click())}),N(15,"Import preset"),I(),w(16,"input",8,0),ie("change",function(a){return be(o),Ce(i.importFusePreset(a))}),I()()}2&r&&(k(4),J("ngIf",!i.service.connected()),k(),J("ngIf",i.service.connected()),k(5),J("ngForOf",i.range(24)))},dependencies:[_i,Fg,sa,lw],encapsulation:2})}return e})();function xr(e){return this instanceof xr?(this.v=e,this):new xr(e)}function xw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Wg(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ew=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function bw(e){return Be(e?.then)}function Cw(e){return Be(e[rd])}function Sw(e){return Symbol.asyncIterator&&Be(e?.[Symbol.asyncIterator])}function ww(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Iw=function vz(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Tw(e){return Be(e?.[Iw])}function Mw(e){return function Dw(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(f){return function(p){return Promise.resolve(p).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,p){r[f]&&(i[f]=function(g){return new Promise(function(m,v){o.push([f,g,m,v])>1||c(f,g)})},p&&(i[f]=p(i[f])))}function c(f,p){try{!function l(f){f.value instanceof xr?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}(r[f](p))}catch(g){h(o[0][3],g)}}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield xr(n.read());if(i)return yield xr(void 0);yield yield xr(r)}}finally{n.releaseLock()}})}function kw(e){return Be(e?.getReader)}function kn(e){if(e instanceof et)return e;if(null!=e){if(Cw(e))return function Dz(e){return new et(t=>{const n=e[rd]();if(Be(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ew(e))return function xz(e){return new et(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(bw(e))return function Ez(e){return new et(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,X0)})}(e);if(Sw(e))return Aw(e);if(Tw(e))return function bz(e){return new et(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(kw(e))return function Cz(e){return Aw(Mw(e))}(e)}throw ww(e)}function Aw(e){return new et(t=>{(function Sz(e,t){var n,r,i,o;return function yw(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=xw(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Er(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Nw(e,t,n=1/0){return Be(t)?Nw((r,i)=>ts((o,s)=>t(r,o,i,s))(kn(e(r,i))),n):("number"==typeof t&&(n=t),cn((r,i)=>function wz(e,t,n,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&t.complete()},f=g=>l<r?p(g):c.push(g),p=g=>{o&&t.next(g),l++;let m=!1;kn(n(g,u++)).subscribe(jt(t,v=>{i?.(v),o?f(v):t.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){const v=c.shift();s?Er(t,s,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return e.subscribe(jt(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,e,n)))}function Rw(e=1/0){return Nw(id,e)}const Yg=new et(e=>e.complete());function Ow(e){return e&&Be(e.schedule)}function Qg(e){return e[e.length-1]}function mu(e){return Ow(Qg(e))?e.pop():void 0}function Pw(e,t=0){return cn((n,r)=>{n.subscribe(jt(r,i=>Er(r,e,()=>r.next(i),t),()=>Er(r,e,()=>r.complete(),t),i=>Er(r,e,()=>r.error(i),t)))})}function Fw(e,t=0){return cn((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Lw(e,t){if(!e)throw new Error("Iterable cannot be null");return new et(n=>{Er(n,t,()=>{const r=e[Symbol.asyncIterator]();Er(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function _u(e,t){return t?function Pz(e,t){if(null!=e){if(Cw(e))return function kz(e,t){return kn(e).pipe(Fw(t),Pw(t))}(e,t);if(Ew(e))return function Nz(e,t){return new et(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(bw(e))return function Az(e,t){return kn(e).pipe(Fw(t),Pw(t))}(e,t);if(Sw(e))return Lw(e,t);if(Tw(e))return function Rz(e,t){return new et(n=>{let r;return Er(n,t,()=>{r=e[Iw](),Er(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Be(r?.return)&&r.return()})}(e,t);if(kw(e))return function Oz(e,t){return Lw(Mw(e),t)}(e,t)}throw ww(e)}(e,t):kn(e)}function Zg(...e){const t=mu(e),n=function Mz(e,t){return"number"==typeof Qg(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?kn(r[0]):Rw(n)(_u(r,t)):Yg}class Fz extends Ze{constructor(t,n){super()}schedule(t,n=0){return this}}const yu={setInterval(e,t,...n){const{delegate:r}=yu;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=yu;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class Xg extends Fz{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return yu.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&yu.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,wa(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const Vw={now:()=>(Vw.delegate||Date).now(),delegate:void 0};class aa{constructor(t,n=aa.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}aa.now=Vw.now;class Jg extends aa{constructor(t,n=aa.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const e0=new Jg(Xg),Lz=e0;function Bw(e=0,t,n=Lz){let r=-1;return null!=t&&(Ow(t)?n=t:r=t),new et(i=>{let o=function Vz(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}const ca={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=ca;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=t(o=>{n=void 0,e(o)});return new Ze(()=>n?.(i))},requestAnimationFrame(...e){const{delegate:t}=ca;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=ca;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},jw=new class Hz extends Jg{flush(t){let n;this._active=!0,t?n=t.id:(n=this._scheduled,this._scheduled=void 0);const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}}(class jz extends Xg{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=ca.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);const{actions:o}=t;null!=n&&n===t._scheduled&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==n&&(ca.cancelAnimationFrame(n),t._scheduled=void 0)}});let t0;function n0(e){if(function $z(){if(null==t0){const e=typeof document<"u"?document.head:null;t0=!(!e||!e.createShadowRoot&&!e.attachShadow)}return t0}()){const t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function vu(e){return e.composedPath?e.composedPath()[0]:e.target}const Du=new WeakMap;let r0,Uz=(()=>{class e{_appRef;_injector=x(gt);_environmentInjector=x(Vt);load(n){const r=this._appRef=this._appRef||this._injector.get(qn);let i=Du.get(r);i||(i={loaders:new Set,refs:[]},Du.set(r,i),r.onDestroy(()=>{Du.get(r)?.refs.forEach(o=>o.destroy()),Du.delete(r)})),i.loaders.has(n)||(i.loaders.add(n),i.refs.push(function qH(e,t){const n=ae(e),r=t.elementInjector||$a();return new ol(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wz=1;const xu={};function Hw(e){return e in xu&&(delete xu[e],!0)}const Kz={setImmediate(e){const t=Wz++;return xu[t]=!0,r0||(r0=Promise.resolve()),r0.then(()=>Hw(t)&&e()),t},clearImmediate(e){Hw(e)}},{setImmediate:Yz,clearImmediate:Qz}=Kz,Eu={setImmediate(...e){const{delegate:t}=Eu;return(t?.setImmediate||Yz)(...e)},clearImmediate(e){const{delegate:t}=Eu;return(t?.clearImmediate||Qz)(e)},delegate:void 0};new class Xz extends Jg{flush(t){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}}(class Zz extends Xg{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=Eu.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);const{actions:o}=t;null!=n&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==n&&(Eu.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))}});function $w(e,t=e0){return function eG(e){return cn((t,n)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};t.subscribe(jt(n,l=>{r=!0,i=l,o||kn(e(l)).subscribe(o=jt(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}(()=>Bw(e,t))}function Uw(e,t=0){return function nG(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):2===arguments.length?t:0}function Zn(e){return e instanceof St?e.nativeElement:e}let o0;try{o0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{o0=!1}let zw=(()=>{class e{_platformId=x(vf);isBrowser=this._platformId?function Nk(e){return e===m_}(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!o0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iG=(()=>{class e{_ngZone=x(le);_platform=x(zw);_renderer=x(fr).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new pe;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new et(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const i=n>0?this._scrolled.pipe($w(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):function qz(...e){return _u(e,mu(e))}()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){const i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(function tG(e,t){return cn((n,r)=>{let i=0;n.subscribe(jt(r,o=>e.call(t,o,i++)&&r.next(o)))})}(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_scrollableContainsElement(n,r){let i=Zn(r),o=n.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gw=(()=>{class e{_platform=x(zw);_listeners;_viewportSize;_change=new pe;_document=x(Ct);constructor(){const n=x(le),r=x(fr).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){const i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect();return{top:-o.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(n=20){return n>0?this._change.pipe($w(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sG=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ni({type:e});static \u0275inj=er({})}return e})();function bu(e){return cn((t,n)=>{kn(e).subscribe(jt(n,()=>n.complete(),Zu)),!n.closed&&t.subscribe(n)})}function qw(...e){return function uG(){return Rw(1)}()(_u(e,mu(e)))}function Ww(...e){const t=mu(e);return cn((n,r)=>{(t?qw(e,n,t):qw(e,n)).subscribe(r)})}const dG=new S("cdk-dir-doc",{providedIn:"root",factory:()=>x(Ct)}),fG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Kw=(()=>{class e{get value(){return this.valueSignal()}valueSignal=an("ltr");change=new ee;constructor(){const n=x(dG,{optional:!0});n&&this.valueSignal.set(function hG(e){const t=e?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?fG.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const s0={};class ko{_appId=x(Gr);static _infix=`a${Math.floor(1e5*Math.random()).toString()}`;getId(t,n=!1){return"ng"!==this._appId&&(t+=this._appId),s0.hasOwnProperty(t)||(s0[t]=0),`${t}${n?ko._infix+"-":""}${s0[t]++}`}static \u0275fac=function(n){return new(n||ko)};static \u0275prov=B({token:ko,factory:ko.\u0275fac,providedIn:"root"})}function a0(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();t.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?Zw(e,t):("input"===r||"select"===r||"textarea"===r)&&Qw(e,t),Yw("canvas",e,t,Zw),Yw("input, textarea, select",e,t,Qw),t}function Yw(e,t,n,r){const i=t.querySelectorAll(e);if(i.length){const o=n.querySelectorAll(e);for(let s=0;s<i.length;s++)r(i[s],o[s])}}let gG=0;function Qw(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${gG++}`)}function Zw(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch{}}function c0(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function l0(e,t,n){const{top:r,bottom:i,left:o,right:s}=e;return n>=r&&n<=i&&t>=o&&t<=s}function la(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function Xw(e,t,n,r){const{top:i,right:o,bottom:s,left:a,width:c,height:l}=e,u=c*t,d=l*t;return r>i-d&&r<s+d&&n>a-u&&n<o+u}class Jw{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:c0(n)})})}handleScroll(t){const n=vu(t),r=this.positions.get(n);if(!r)return null;const i=r.scrollPosition;let o,s;if(n===this._document){const l=this.getViewportScrollPosition();o=l.top,s=l.left}else o=n.scrollTop,s=n.scrollLeft;const a=i.top-o,c=i.left-s;return this.positions.forEach((l,u)=>{l.clientRect&&n!==u&&n.contains(u)&&la(l.clientRect,a,c)}),i.top=o,i.left=s,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function eI(e,t){const n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];const r=t.createElement("div");return n.forEach(i=>r.appendChild(i)),r}function u0(e,t,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];i?e.setProperty(r,i,n?.has(r)?"important":""):e.removeProperty(r)}return e}function Ao(e,t){const n=t?"":"none";u0(e.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function tI(e,t,n){u0(e.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},n)}function Cu(e,t){return t&&"none"!=t?e+" "+t:e}function nI(e,t){e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform=ua(t.left,t.top)}function ua(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}const da={capture:!0},d0={passive:!1,capture:!0};let _G=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Cn({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})}return e})(),Su=(()=>{class e{_ngZone=x(le);_document=x(Ct);_styleLoader=x(Uz);_renderer=x(fr).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new pe;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=an([]);_globalListeners;_draggingPredicate=n=>n.isDragging();_domNodesToDirectives=null;pointerMove=new pe;pointerUp=new pe;constructor(){}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,d0)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),0===this._dragInstances.size&&this._cleanupDocumentTouchmove?.()}startDragging(n,r){if(!(this._activeDragInstances().indexOf(n)>-1)&&(this._styleLoader.load(_G),this._activeDragInstances.update(i=>[...i,n]),1===this._activeDragInstances().length)){const i=r.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this._scroll.next(a),da],["selectstart",this._preventDefaultWhileDragging,d0]];i?s.push(["touchend",o,da],["touchcancel",o,da]):s.push(["mouseup",o,da]),i||s.push(["mousemove",a=>this.pointerMove.next(a),d0]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,c,l])=>this._renderer.listen(this._document,a,c,l))})}}stopDragging(n){this._activeDragInstances.update(r=>{const i=r.indexOf(n);return i>-1?(r.splice(i,1),[...r]):r}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(n){return this._activeDragInstances().indexOf(n)>-1}scrolled(n){const r=[this._scroll];return n&&n!==this._document&&r.push(new et(i=>this._ngZone.runOutsideAngular(()=>{const o=this._renderer.listen(n,"scroll",s=>{this._activeDragInstances().length&&i.next(s)},da);return()=>{o()}}))),Zg(...r)}registerDirectiveNode(n,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(n,r)}removeDirectiveNode(n){this._domNodesToDirectives?.delete(n)}getDragDirectiveForNode(n){return this._domNodesToDirectives?.get(n)||null}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=n=>{this._activeDragInstances().length>0&&n.preventDefault()};_persistentTouchmoveListener=n=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&n.preventDefault(),this.pointerMove.next(n))};_clearGlobalListeners(){this._globalListeners?.forEach(n=>n()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rI(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function f0(e,t){return e.getPropertyValue(t).split(",").map(r=>r.trim())}const vG=new Set(["position"]);class DG{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,n,r,i,o,s,a,c,l,u){this._document=t,this._rootElement=n,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=c,this._zIndex=l,this._renderer=u}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),iI(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return function yG(e){const t=getComputedStyle(e),n=f0(t,"transition-property"),r=n.find(a=>"transform"===a||"all"===a);if(!r)return 0;const i=n.indexOf(r),o=f0(t,"transition-duration"),s=f0(t,"transition-delay");return rI(o[i])+rI(s[i])}(this._preview)}addEventListener(t,n){return this._renderer.listen(this._preview,t,n)}_createPreview(){const t=this._previewTemplate,n=this._previewClass,r=t?t.template:null;let i;if(r&&t){const o=t.matchSize?this._initialDomRect:null,s=t.viewContainer.createEmbeddedView(r,t.context);s.detectChanges(),i=eI(s,this._document),this._previewEmbeddedView=s,t.matchSize?nI(i,o):i.style.transform=ua(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=a0(this._rootElement),nI(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return u0(i.style,{"pointer-events":"none",margin:iI(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},vG),Ao(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(o=>i.classList.add(o)):i.classList.add(n)),i}}function iI(e){return"showPopover"in e}const xG={passive:!0},oI={passive:!1},EG={passive:!1,capture:!0},sI="cdk-drag-placeholder",aI=new Set(["position"]);function cI(e,t,n={dragStartThreshold:5,pointerDirectionChangeThreshold:5}){const r=e.get(hr,null,{optional:!0})||e.get(fr).createRenderer(null,null);return new CG(t,n,e.get(Ct),e.get(le),e.get(Gw),e.get(Su),r)}class CG{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=an(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new pe;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Ze.EMPTY;_pointerUpSubscription=Ze.EMPTY;_scrollSubscription=Ze.EMPTY;_resizeSubscription=Ze.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(n=>Ao(n,t)))}_disabled=!1;beforeStarted=new pe;started=new pe;released=new pe;ended=new pe;entered=new pe;exited=new pe;dropped=new pe;moved=this._moveEvents;data;constrainPosition;constructor(t,n,r,i,o,s,a){this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(t).withParent(n.parentDragRef||null),this._parentPositions=new Jw(r),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(r=>Zn(r)),this._handles.forEach(r=>Ao(r,this.disabled)),this._toggleNativeDragInteractions();const n=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&n.add(r)}),this._disabledHandles=n,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const n=Zn(t);if(n!==this._rootElement){this._removeRootElementListeners();const r=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(n,"mousedown",this._pointerDown,oI),r.listen(n,"touchstart",this._pointerDown,xG),r.listen(n,"dragstart",this._nativeDragStart,oI)]),this._initialTransform=void 0,this._rootElement=n}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Zn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&function mG(e,t){return t.left<e.left||t.left+t.width>e.right||t.top<e.top||t.top+t.height>e.bottom}(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){const t=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect();let r=0,i=0;n.left<t.left?r=t.left-n.left:n.right>t.right&&(r=t.right-n.right),n.top<t.top?i=t.top-n.top:n.bottom>t.bottom&&(i=t.bottom-n.bottom);let a=this._activeTransform.x+r,c=this._activeTransform.y+i;this._rootElement.style.transform=ua(a,c),this._activeTransform={x:a,y:c},this._passiveTransform={x:a,y:c}}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Ao(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Ao(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const n=this._getTargetHandle(t);n&&!this._disabledHandles.has(n)&&!this.disabled&&this._initializeDragSequence(n,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{const n=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){if(Math.abs(n.x-this._pickupPositionOnPage.x)+Math.abs(n.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const a=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),c=this._dropContainer;if(!a)return void this._endDragSequence(t);(!c||!c.isDragging()&&!c.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();const r=this._getConstrainedPointerPosition(n);if(this._hasMoved=!0,this._lastKnownPointerPosition=n,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,n);else{const i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:t,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const n=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){fa(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const n=this._getShadowRoot(),r=this._dropContainer;if(n&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(n,"selectstart",SG,EG)}),r){const i=this._rootElement,o=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._marker=this._marker||this._document.createComment("");o.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=new DG(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,n)),tI(i,!1,aI),this._document.body.appendChild(o.replaceChild(s,i)),this.started.next({source:this,event:t}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(t,n){this._parentDragRef&&n.stopPropagation();const r=this.isDragging(),i=fa(n),o=!i&&0!==n.button,s=this._rootElement,a=vu(n),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),l=i?function Gz(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(n):function zz(e){return 0===e.buttons||0===e.detail}(n);if(a&&a.draggable&&"mousedown"===n.type&&n.preventDefault(),r||o||c||l)return;if(this._handles.length){const h=s.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=c0(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,n);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(t){tI(this._rootElement,!0,aI),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const n=this._dropContainer,r=n.getItemIndex(this),i=this._getPointerPositionOnPage(t),o=this._getDragDistance(i),s=n._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:t}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:i,event:t}),n.drop(this,r,this._initialIndex,this._initialContainer,s,o,i,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:n},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,n);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,n)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{const s=this._dropContainer.getItemIndex(this),a=this._dropContainer.getItemAtIndex(s+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,a),this._dropContainer=o,this._dropContainer.enter(this,t,n,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,t,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,n):this._applyPreviewTransform(t-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const n=this._preview.getTransitionDuration();return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=a=>{(!a||this._preview&&vu(a)===this._preview.element&&"transform"===a.propertyName)&&(s(),r(),clearTimeout(o))},o=setTimeout(i,1.5*n),s=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,n=t?t.template:null;let r;return n?(this._placeholderRef=t.viewContainer.createEmbeddedView(n,t.context),this._placeholderRef.detectChanges(),r=eI(this._placeholderRef,this._document)):r=a0(this._rootElement),r.style.pointerEvents="none",r.classList.add(sI),r}_getPointerPositionInElement(t,n,r){const i=n===this._rootElement?null:n,o=i?i.getBoundingClientRect():t,s=fa(r)?r.targetTouches[0]:r,a=this._getViewportScrollPosition();return{x:o.left-t.left+(s.pageX-o.left-a.left),y:o.top-t.top+(s.pageY-o.top-a.top)}}_getPointerPositionOnPage(t){const n=this._getViewportScrollPosition(),r=fa(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=r.pageX-n.left,o=r.pageY-n.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=o,a.matrixTransform(s.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(t){const n=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===n?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===n)&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:l}=this._getPreviewRect(),u=a.top+s,d=a.bottom-(l-s);r=lI(r,a.left+o,a.right-(c-o)),i=lI(i,u,d)}return{x:r,y:i}}_updatePointerDirectionDelta(t){const{x:n,y:r}=t,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(n-o.x),a=Math.abs(r-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=n>o.x?1:-1,o.x=n),a>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Ao(this._rootElement,t))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(t=>t()),this._rootElementCleanups=void 0}_applyRootElementTransform(t,n){const r=1/this.scale,i=ua(t*r,n*r),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=Cu(i,this._initialTransform)}_applyPreviewTransform(t,n){const r=this._previewTemplate?.template?void 0:this._initialTransform,i=ua(t,n);this._preview.setTransform(Cu(i,r))}_getDragDistance(t){const n=this._pickupPositionOnPage;return n?{x:t.x-n.x,y:t.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:n}=this._passiveTransform;if(0===t&&0===n||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const o=i.left-r.left,s=r.right-i.right,a=i.top-r.top,c=r.bottom-i.bottom;i.width>r.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,i.height>r.height?(a>0&&(n+=a),c>0&&(n-=c)):n=0,(t!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:t})}_getDragStartDelay(t){const n=this.dragStartDelay;return"number"==typeof n?n:fa(t)?n.touch:n?n.mouse:0}_updateOnScroll(t){const n=this._parentPositions.handleScroll(t);if(n){const r=vu(t);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&la(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=n0(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,n){const r=this._previewContainer||"global";if("parent"===r)return t;if("global"===r){const i=this._document;return n||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Zn(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){const n=this._getTargetHandle(t);n&&!this._disabledHandles.has(n)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(n=>t.target&&(t.target===n||n.contains(t.target)))}_conditionallyInsertAnchor(t,n,r){if(t===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(n===this._initialContainer&&n.hasAnchor){const i=this._anchor??=a0(this._placeholder);i.classList.remove(sI),i.classList.add("cdk-drag-anchor"),i.style.transform="",r?r.before(i):Zn(n.element).appendChild(i)}}}function lI(e,t,n){return Math.max(t,Math.min(n,e))}function fa(e){return"t"===e.type[0]}function SG(e){e.preventDefault()}function uI(e,t,n){const r=ha(t,e.length-1),i=ha(n,e.length-1);if(r===i)return;const o=e[r],s=i<r?-1:1;for(let a=r;a!==i;a+=s)e[a]=e[a+s];e[i]=o}function ha(e,t){return Math.max(0,Math.min(t,e))}class dI{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,n,r,i){const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,n,r,i);if(-1===s&&o.length>0)return null;const a="horizontal"===this.orientation,c=o.findIndex(m=>m.drag===t),l=o[s],d=l.clientRect,h=c>s?1:-1,f=this._getItemOffsetPx(o[c].clientRect,d,h),p=this._getSiblingOffsetPx(c,o,h),g=o.slice();return uI(o,c,s),o.forEach((m,v)=>{if(g[v]===m)return;const _=m.drag===t,M=_?f:p,W=_?t.getPlaceholderElement():m.drag.getRootElement();m.offset+=M;const z=Math.round(m.offset*(1/m.drag.scale));a?(W.style.transform=Cu(`translate3d(${z}px, 0, 0)`,m.initialTransform),la(m.clientRect,0,M)):(W.style.transform=Cu(`translate3d(0, ${z}px, 0)`,m.initialTransform),la(m.clientRect,M,0))}),this._previousSwap.overlaps=l0(d,n,r),this._previousSwap.drag=l.drag,this._previousSwap.delta=a?i.x:i.y,{previousIndex:c,currentIndex:s}}enter(t,n,r,i){const o=null==i||i<0?this._getItemIndexFromPointerPosition(t,n,r):i,s=this._activeDraggables,a=s.indexOf(t),c=t.getPlaceholderElement();let l=s[o];if(l===t&&(l=s[o+1]),!l&&(null==o||-1===o||o<s.length-1)&&this._shouldEnterAsFirstChild(n,r)&&(l=s[0]),a>-1&&s.splice(a,1),l&&!this._dragDropRegistry.isDragging(l)){const u=l.getRootElement();u.parentElement.insertBefore(c,u),s.splice(o,0,t)}else this._element.appendChild(c),s.push(t);c.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{const n=t.getRootElement();if(n){const r=this._itemPositions.find(i=>i.drag===t)?.initialTransform;n.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return this._getVisualItemPositions().findIndex(n=>n.drag===t)}getItemAtIndex(t){return this._getVisualItemPositions()[t]?.drag||null}updateOnScroll(t,n){this._itemPositions.forEach(({clientRect:r})=>{la(r,t,n)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(n=>{const r=n.getVisibleElement();return{drag:n,offset:0,initialTransform:r.style.transform||"",clientRect:c0(r)}}).sort((n,r)=>t?n.clientRect.left-r.clientRect.left:n.clientRect.top-r.clientRect.top)}_getVisualItemPositions(){return"horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(t,n,r){const i="horizontal"===this.orientation;let o=i?n.left-t.left:n.top-t.top;return-1===r&&(o+=i?n.width-t.width:n.height-t.height),o}_getSiblingOffsetPx(t,n,r){const i="horizontal"===this.orientation,o=n[t].clientRect,s=n[t+-1*r];let a=o[i?"width":"height"]*r;if(s){const c=i?"left":"top",l=i?"right":"bottom";-1===r?a-=s.clientRect[c]-o[l]:a+=o[c]-s.clientRect[l]}return a}_shouldEnterAsFirstChild(t,n){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const s=r[r.length-1].clientRect;return i?t>=s.right:n>=s.bottom}{const s=r[0].clientRect;return i?t<=s.left:n<=s.top}}_getItemIndexFromPointerPosition(t,n,r,i){const o="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:a,clientRect:c})=>a!==t&&((!i||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?i.x:i.y)!==this._previousSwap.delta)&&(o?n>=Math.floor(c.left)&&n<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom))));return-1!==s&&this._sortPredicate(s,t)?s:-1}}class wG{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,n){this._document=t,this._dragDropRegistry=n}start(t){const n=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<n.length;r++){const i=n[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(t)}sort(t,n,r,i){const o=this._getItemIndexFromPointerPosition(t,n,r),s=this._previousSwap;if(-1===o||this._activeItems[o]===t)return null;const a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===i.x&&s.deltaY===i.y)return null;const c=this.getItemIndex(t),l=t.getPlaceholderElement(),u=a.getRootElement();o>c?u.after(l):u.before(l),uI(this._activeItems,c,o);const d=this._getRootNode().elementFromPoint(n,r);return s.deltaX=i.x,s.deltaY=i.y,s.drag=a,s.overlaps=u===d||u.contains(d),{previousIndex:c,currentIndex:o}}enter(t,n,r,i){const o=this._activeItems.indexOf(t);o>-1&&this._activeItems.splice(o,1);let s=null==i||i<0?this._getItemIndexFromPointerPosition(t,n,r):i;-1===s&&(s=this._getClosestItemIndexToPointer(t,n,r));const a=this._activeItems[s];a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(s,0,t),a.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){const t=this._element,n=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){const[i,o]=this._relatedNodes[r];i.parentNode===t&&i.nextSibling!==o&&(null===o?t.appendChild(i):o.parentNode===t&&t.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],n.drag=null,n.deltaX=n.deltaY=0,n.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}getItemAtIndex(t){return this._activeItems[t]||null}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,n,r){const i=this._getRootNode().elementFromPoint(Math.floor(n),Math.floor(r)),o=i?this._activeItems.findIndex(s=>{const a=s.getRootElement();return i===a||a.contains(i)}):-1;return-1!==o&&this._sortPredicate(o,t)?o:-1}_getRootNode(){return this._rootNode||(this._rootNode=n0(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,n,r){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let i=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){const a=this._activeItems[s];if(a!==t){const{x:c,y:l}=a.getRootElement().getBoundingClientRect(),u=Math.hypot(n-c,r-l);u<i&&(i=u,o=s)}}return o}}var en=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e}(en||{}),Mt=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(Mt||{});function pI(e,t){return new IG(t,e.get(Su),e.get(Ct),e.get(le),e.get(Gw))}class IG{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new pe;entered=new pe;exited=new pe;dropped=new pe;sorted=new pe;receivingStarted=new pe;receivingStopped=new pe;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Ze.EMPTY;_verticalScrollDirection=en.NONE;_horizontalScrollDirection=Mt.NONE;_scrollNode;_stopScrollTimers=new pe;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,n,r,i,o){this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o;const s=this.element=Zn(t);this._document=r,this.withOrientation("vertical").withElementContainer(s),n.registerDropContainer(this),this._parentPositions=new Jw(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,n,r,i){this._draggingStarted(),null==i&&this.sortingDisabled&&(i=this._draggables.indexOf(t)),this._sortStrategy.enter(t,n,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,n,r,i,o,s,a,c={}){this._reset(),this.dropped.next({item:t,currentIndex:n,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:s,dropPoint:a,event:c})}withItems(t){const n=this._draggables;return this._draggables=t,t.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(n.filter(i=>i.isDragging()).every(i=>-1===t.indexOf(i))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof dI&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if("mixed"===t)this._sortStrategy=new wG(this._document,this._dragDropRegistry);else{const n=new dI(this._dragDropRegistry);n.direction=this._direction,n.orientation=t,this._sortStrategy=n}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((n,r)=>this.sortPredicate(n,r,this)),this}withScrollableParents(t){const n=this._container;return this._scrollableElements=-1===t.indexOf(n)?[n,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;Zn(this.element);const r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(t);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}getItemAtIndex(t){return this._isDragging?this._sortStrategy.getItemAtIndex(t):this._draggables[t]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,n,r,i){if(this.sortingDisabled||!this._domRect||!Xw(this._domRect,.05,n,r))return;const o=this._sortStrategy.sort(t,n,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,n){if(this.autoScrollDisabled)return;let r,i=en.NONE,o=Mt.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||r||Xw(s.clientRect,.05,t,n)&&([i,o]=function TG(e,t,n,r,i){const o=gI(t,i),s=mI(t,r);let a=en.NONE,c=Mt.NONE;if(o){const l=e.scrollTop;o===en.UP?l>0&&(a=en.UP):e.scrollHeight-l>e.clientHeight&&(a=en.DOWN)}if(s){const l=e.scrollLeft;"rtl"===n?s===Mt.RIGHT?l<0&&(c=Mt.RIGHT):e.scrollWidth+l>e.clientWidth&&(c=Mt.LEFT):s===Mt.LEFT?l>0&&(c=Mt.LEFT):e.scrollWidth-l>e.clientWidth&&(c=Mt.RIGHT)}return[a,c]}(a,s.clientRect,this._direction,t,n),(i||o)&&(r=a))}),!i&&!o){const{width:s,height:a}=this._viewportRuler.getViewportSize(),c={width:s,height:a,top:0,right:s,bottom:a,left:0};i=gI(c,n),o=mI(c,t),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),function Bz(e=0,t=e0){return e<0&&(e=0),Bw(e,e,t)}(0,jw).pipe(bu(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,n=this.autoScrollStep;this._verticalScrollDirection===en.UP?t.scrollBy(0,-n):this._verticalScrollDirection===en.DOWN&&t.scrollBy(0,n),this._horizontalScrollDirection===Mt.LEFT?t.scrollBy(-n,0):this._horizontalScrollDirection===Mt.RIGHT&&t.scrollBy(n,0)})};_isOverContainer(t,n){return null!=this._domRect&&l0(this._domRect,t,n)}_getSiblingContainerFromPosition(t,n,r){return this._siblings.find(i=>i._canReceive(t,n,r))}_canReceive(t,n,r){if(!this._domRect||!l0(this._domRect,n,r)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(n,r);return!!i&&(i===this._container||this._container.contains(i))}_startReceiving(t,n){const r=this._activeSiblings;!r.has(t)&&n.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:n}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const n=this._parentPositions.handleScroll(t);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=n0(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,t))}}function gI(e,t){const{top:n,bottom:r,height:i}=e,o=.05*i;return t>=n-o&&t<=n+o?en.UP:t>=r-o&&t<=r+o?en.DOWN:en.NONE}function mI(e,t){const{left:n,right:r,width:i}=e,o=.05*i;return t>=n-o&&t<=n+o?Mt.LEFT:t>=r-o&&t<=r+o?Mt.RIGHT:Mt.NONE}let MG=(()=>{class e{_injector=x(gt);constructor(){}createDrag(n,r){return cI(this._injector,n,r)}createDropList(n){return pI(this._injector,n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pa=new S("CDK_DRAG_PARENT"),_I=new S("CdkDragHandle"),yI=new S("CDK_DRAG_CONFIG"),vI=new S("CdkDropList");let DI=(()=>{class e{element=x(St);dropContainer=x(vI,{optional:!0,skipSelf:!0});_ngZone=x(le);_viewContainerRef=x(dn);_dir=x(Kw,{optional:!0});_changeDetectorRef=x(Zs);_selfHandle=x(_I,{optional:!0,self:!0});_parentDrag=x(pa,{optional:!0,skipSelf:!0});_dragDropRegistry=x(Su);_destroyed=new pe;_handles=new nm([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new ee;released=new ee;ended=new ee;entered=new ee;exited=new ee;dropped=new ee;moved=new et(n=>{const r=this._dragRef.moved.pipe(ts(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(n);return()=>{r.unsubscribe()}});_injector=x(gt);constructor(){const n=this.dropContainer,r=x(yI,{optional:!0});this._dragRef=cI(this._injector,this.element,{dragStartThreshold:r&&null!=r.dragStartThreshold?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&null!=r.pointerDirectionChangeThreshold?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),n&&(n.addItem(this),n._dropListRef.beforeStarted.pipe(bu(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){Nc(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(n){const r=n.rootElementSelector,i=n.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){const r=this._handles.getValue();r.push(n),this._handles.next(r)}_removeHandle(n){const r=this._handles.getValue(),i=r.indexOf(n);i>-1&&(r.splice(i,1),this._handles.next(r))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const n=this.element.nativeElement;let r=n;this.rootElementSelector&&(r=void 0!==n.closest?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||n)}_getBoundaryElement(){const n=this.boundaryElement;return n?"string"==typeof n?this.element.nativeElement.closest(n):Zn(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){const r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.scale=this.scale,n.dragStartDelay="object"==typeof i&&i?i:Uw(i),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),r&&n.withDirection(r.value)}}),n.beforeStarted.pipe(function aG(e){return e<=0?()=>Yg:cn((t,n)=>{let r=0;t.subscribe(jt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}(1)).subscribe(()=>{if(this._parentDrag)return void n.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){const i=this._dragDropRegistry.getDragDirectiveForNode(r);if(i){n.withParent(i._dragRef);break}r=r.parentElement}})}_handleEvents(n){n.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),n.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(n){const{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:c,rootElementSelector:l,previewContainer:u}=n;this.disabled=c??!1,this.dragStartDelay=i||0,this.lockAxis=r||null,o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),l&&(this.rootElementSelector=l),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.pipe(function cG(e,t,n){const r=Be(e)||t||n?{next:e,error:t,complete:n}:e;return r?cn((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(jt(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):id}(n=>{const r=n.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),function lG(e,t){return cn((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(jt(r,c=>{i?.unsubscribe();let l=0;const u=o++;kn(e(c,u)).subscribe(i=jt(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}(n=>Zg(...n.map(r=>r._stateChanges.pipe(Ww(r))))),bu(this._destroyed)).subscribe(n=>{const r=this._dragRef,i=n.element.nativeElement;n.disabled?r.disableHandle(i):r.enableHandle(i)})}static \u0275fac=function(r){return new(r||e)};static \u0275dir=L({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){2&r&&Tn("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",fn],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",jH]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[he([{provide:pa,useExisting:e}]),$n]})}return e})();const h0=new S("CdkDropListGroup");let xI=(()=>{class e{_items=new Set;disabled=!1;ngOnDestroy(){this._items.clear()}static \u0275fac=function(r){return new(r||e)};static \u0275dir=L({type:e,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:[2,"cdkDropListGroupDisabled","disabled",fn]},exportAs:["cdkDropListGroup"],features:[he([{provide:h0,useExisting:e}])]})}return e})(),EI=(()=>{class e{element=x(St);_changeDetectorRef=x(Zs);_scrollDispatcher=x(iG);_dir=x(Kw,{optional:!0});_group=x(h0,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new pe;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=x(ko).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(n){this._dropListRef.disabled=this._disabled=n}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new ee;entered=new ee;exited=new ee;sorted=new ee;_unsortedItems=new Set;constructor(){const n=x(yI,{optional:!0}),r=x(gt);this._dropListRef=pI(r,this.element),this._dropListRef.data=this,n&&this._assignDefaults(n),this._dropListRef.enterPredicate=(i,o)=>this.enterPredicate(i.data,o.data),this._dropListRef.sortPredicate=(i,o,s)=>this.sortPredicate(i,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(n){this._unsortedItems.add(n),n._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef))}removeItem(n){if(this._unsortedItems.delete(n),this._latestSortedRefs){const r=this._latestSortedRefs.indexOf(n._dragRef);r>-1&&(this._latestSortedRefs.splice(r,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((n,r)=>n._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const n=e._dropLists.indexOf(this);n>-1&&e._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(n){this._dir&&this._dir.change.pipe(Ww(this._dir.value),bu(this._destroyed)).subscribe(r=>n.withDirection(r)),n.beforeStarted.subscribe(()=>{const r=function pG(e){return Array.isArray(e)?e:[e]}(this.connectedTo).map(i=>"string"==typeof i?e._dropLists.find(s=>s.id===i):i);if(this._group&&this._group._items.forEach(i=>{-1===r.indexOf(i)&&r.push(i)}),!this._scrollableParentsResolved){const i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const i=this.element.nativeElement.querySelector(this.elementContainerSelector);n.withElementContainer(i)}n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.sortingDisabled=this.sortingDisabled,n.autoScrollDisabled=this.autoScrollDisabled,n.autoScrollStep=Uw(this.autoScrollStep,2),n.hasAnchor=this.hasAnchor,n.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(n){n.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef)),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),n.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),Zg(n.receivingStarted,n.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(n){const{lockAxis:r,draggingDisabled:i,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=n;this.disabled=i??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",this.lockAxis=r||null}_syncItemsWithRef(n){this._latestSortedRefs=n,this._dropListRef.withItems(n)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=L({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,i){2&r&&(Sn("id",i.id),Tn("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",fn],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",fn],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",fn],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",fn]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[he([{provide:h0,useValue:void 0},{provide:vI,useExisting:e}])]})}return e})();const RG=new S("CdkDragPlaceholder");let bI=(()=>{class e{templateRef=x(un);_drag=x(pa,{optional:!0});data;constructor(){this._drag?._setPlaceholderTemplate(this)}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=L({type:e,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[he([{provide:RG,useExisting:e}])]})}return e})(),OG=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ni({type:e});static \u0275inj=er({providers:[MG],imports:[sG]})}return e})();const CI=()=>[0,1,2,3];function PG(e,t){1&e&&(w(0,"div",10)(1,"div",11),N(2,"Empty"),I()())}function FG(e,t){if(1&e&&(w(0,"div")(1,"div",15),N(2),I(),w(3,"div",16),N(4),I(),w(5,"div",17),N(6),I()()),2&e){const n=t.ngIf,r=oe(2);k(),Ol("background",r.getFamilyColor(n.type)),k(),_r(" ",r.getFamilyLabel(n.type)," "),k(2),Ge(n.model),k(2),Ge(n.enabled?"\u25cf":"\u25cb")}}function LG(e,t){1&e&&(w(0,"div",11),N(1,"Empty"),I())}function VG(e,t){1&e&&vo(0,"div",18)}function BG(e,t){if(1&e){const n=wt();w(0,"div",12),ie("click",function(){const i=be(n).$implicit;return Ce(oe().selectSlot(i))}),w(1,"span",13),N(2),I(),mt(3,FG,7,5,"div",9)(4,LG,2,0,"ng-template",null,1,bo)(6,VG,1,0,"div",14),I()}if(2&e){const n=t.$implicit,r=di(5),i=oe();Tn("active",i.activeSlot===n)("empty",!i.effects[n]),J("cdkDragData",n),k(2),Ge(n+1),k(),J("ngIf",i.effects[n])("ngIfElse",r)}}function jG(e,t){if(1&e&&(Il(0),w(1,"div",19),N(2,"AMP"),I(),w(3,"div",16),N(4),I(),w(5,"div",20),N(6),I(),Bs()),2&e){const n=oe();k(4),Ge(n.ampSettings.model),k(2),Ge(n.getCabinetName(n.ampSettings.cabinetId))}}function HG(e,t){1&e&&(w(0,"span",21),N(1,"AMP"),I(),w(2,"div",22),N(3,"\u26a1"),I())}function $G(e,t){1&e&&(w(0,"div",10)(1,"div",11),N(2,"Empty"),I()())}function UG(e,t){if(1&e&&(w(0,"div")(1,"div",15),N(2),I(),w(3,"div",16),N(4),I(),w(5,"div",17),N(6),I()()),2&e){const n=t.ngIf,r=oe(2);k(),Ol("background",r.getFamilyColor(n.type)),k(),_r(" ",r.getFamilyLabel(n.type)," "),k(2),Ge(n.model),k(2),Ge(n.enabled?"\u25cf":"\u25cb")}}function zG(e,t){1&e&&(w(0,"div",11),N(1,"Empty"),I())}function GG(e,t){1&e&&vo(0,"div",18)}function qG(e,t){if(1&e){const n=wt();w(0,"div",12),ie("click",function(){const i=be(n).$implicit;return Ce(oe().selectSlot(i))}),w(1,"span",13),N(2),I(),mt(3,UG,7,5,"div",9)(4,zG,2,0,"ng-template",null,1,bo)(6,GG,1,0,"div",14),I()}if(2&e){const n=t.$implicit,r=di(5),i=oe();Tn("active",i.activeSlot===n)("empty",!i.effects[n]),J("cdkDragData",n),k(2),Ge(n+1),k(),J("ngIf",i.effects[n])("ngIfElse",r)}}let WG=(()=>{class e{activeSlot=null;effects=[];ampSettings=null;cabinetModels=[];activeSlotChange=new ee;move=new ee;preAmpSlots=this.range(0,4);postAmpSlots=this.range(4,8);selectSlot(n){this.activeSlotChange.emit(n)}selectAmp(){this.activeSlotChange.emit("amp")}drop(n){if(n.previousContainer===n.container){if(n.previousIndex!==n.currentIndex){const r=n.item.data,i=Math.min(n.currentIndex,n.container.data.length-1),o=n.container.data[i];void 0!==r&&void 0!==o&&this.move.emit({fromSlot:r,toSlot:o})}}else{const r=n.item.data,i=Math.min(n.currentIndex,n.container.data.length-1),o=n.container.data[i];void 0!==r&&void 0!==o&&this.move.emit({fromSlot:r,toSlot:o})}}range(n,r){const i=[];for(let o=n;o<r;o++)i.push(o);return i}trackByFn(n,r){return r}getCabinetName(n){const r=this.cabinetModels.find(i=>i.id===n);return r?r.name:`Cab ${n}`}getFamilyLabel(n){switch(n){case b.STOMP:return"Stomp";case b.MOD:return"Mod";case b.DELAY:return"Delay";case b.REVERB:return"Reverb";default:return"?"}}getFamilyColor(n){switch(n){case b.STOMP:return"#e74c3c";case b.MOD:return"#3498db";case b.DELAY:return"#f1c40f";case b.REVERB:return"#2ecc71";default:return"#444"}}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Cn({type:e,selectors:[["fuse-signal-chain"]],inputs:{activeSlot:"activeSlot",effects:"effects",ampSettings:"ampSettings",cabinetModels:"cabinetModels"},outputs:{activeSlotChange:"activeSlotChange",move:"move"},decls:15,vars:14,consts:[["emptyAmp",""],["emptySlot",""],["cdkDropListGroup","",1,"signal-chain-strip"],[1,"group-container"],[1,"background-layer"],["class","slot empty placeholder",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListOrientation","horizontal","cdkDropListLockAxis","x",1,"slot-group",3,"cdkDropListDropped","cdkDropListData"],["class","slot","cdkDrag","",3,"cdkDragData","active","empty","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"slot","amplifier",3,"click"],[4,"ngIf","ngIfElse"],[1,"slot","empty","placeholder"],[1,"empty-label"],["cdkDrag","",1,"slot",3,"click","cdkDragData"],[1,"slot-num"],["class","slot-placeholder",4,"cdkDragPlaceholder"],[1,"badge"],[1,"model-name"],[1,"status"],[1,"slot-placeholder"],[1,"badge",2,"background","#e67e22","color","#fff","margin-bottom","4px"],[1,"cabinet-name"],[1,"slot-label"],[1,"amp-icon"]],template:function(r,i){if(1&r){const o=wt();w(0,"div",2)(1,"div",3)(2,"div",4),mt(3,PG,3,0,"div",5),I(),w(4,"div",6),ie("cdkDropListDropped",function(a){return be(o),Ce(i.drop(a))}),mt(5,BG,7,8,"div",7),I()(),w(6,"div",8),ie("click",function(){return be(o),Ce(i.selectAmp())}),mt(7,jG,7,2,"ng-container",9)(8,HG,4,0,"ng-template",null,0,bo),I(),w(10,"div",3)(11,"div",4),mt(12,$G,3,0,"div",5),I(),w(13,"div",6),ie("cdkDropListDropped",function(a){return be(o),Ce(i.drop(a))}),mt(14,qG,7,8,"div",7),I()()()}if(2&r){const o=di(9);k(3),J("ngForOf",Ap(12,CI)),k(),J("cdkDropListData",i.preAmpSlots),k(),J("ngForOf",i.preAmpSlots)("ngForTrackBy",i.trackByFn),k(),Tn("active","amp"===i.activeSlot),k(),J("ngIf",i.ampSettings)("ngIfElse",o),k(5),J("ngForOf",Ap(13,CI)),k(),J("cdkDropListData",i.postAmpSlots),k(),J("ngForOf",i.postAmpSlots)("ngForTrackBy",i.trackByFn)}},dependencies:[_i,Fg,sa,OG,EI,xI,DI,bI],styles:[".signal-chain-strip[_ngcontent-%COMP%]{display:flex;gap:8px;overflow-x:auto;padding:15px;background:#1a1a1a;border-bottom:1px solid #333;align-items:center;justify-content:center;min-height:110px}.group-container[_ngcontent-%COMP%]{position:relative;min-width:424px;height:100px}.background-layer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;gap:8px;z-index:0}.slot-group[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;gap:8px;min-height:100px}.slot-group[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]:nth-child(n+5){display:none!important}.slot-placeholder[_ngcontent-%COMP%], .slot[_ngcontent-%COMP%]{background:#2a2a2a;border:2px solid #333;padding:8px;width:100px;height:100px;cursor:grab;position:relative;border-radius:6px;display:flex;flex-direction:column;gap:4px;flex-shrink:0}.slot[_ngcontent-%COMP%]:active{cursor:grabbing}.slot[_ngcontent-%COMP%]:hover{background:#333;border-color:#555;transform:translateY(-2px)}.slot.active[_ngcontent-%COMP%]{border-color:#3498db;background:#2c3e50;box-shadow:0 0 10px #3498db4d}.slot.empty[_ngcontent-%COMP%]{opacity:.5;border-style:dashed}.amplifier[_ngcontent-%COMP%]{background:#333;border-color:#555;align-items:center;justify-content:center;width:110px;height:110px;z-index:10;cursor:pointer;display:flex;flex-direction:column}.amplifier.active[_ngcontent-%COMP%]{border-color:#e67e22;background:#5d4037;box-shadow:0 0 15px #e67e2266}.slot-num[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;font-size:.7rem;color:#666;font-weight:700}.slot-label[_ngcontent-%COMP%]{font-weight:700;color:#aaa;letter-spacing:1px}.amp-icon[_ngcontent-%COMP%]{font-size:2rem;margin-top:5px}.badge[_ngcontent-%COMP%]{display:inline-block;padding:2px 4px;border-radius:3px;font-size:.6rem;font-weight:700;color:#fff;text-transform:uppercase;align-self:flex-start}.model-name[_ngcontent-%COMP%]{font-size:.75rem;line-height:1.1;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-weight:500;margin-top:2px;flex-grow:1}.cabinet-name[_ngcontent-%COMP%]{font-size:.65rem;color:#aaa;margin-top:auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.status[_ngcontent-%COMP%]{font-size:.7rem;color:#aaa;margin-top:auto}.empty-label[_ngcontent-%COMP%]{color:#555;font-style:italic;margin:auto;font-size:.9rem}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:6px;box-shadow:0 5px 15px #00000080;background:#2a2a2a;opacity:.9;width:100px;height:100px;display:flex;flex-direction:column;padding:8px;border:2px solid #3498db}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3;background:#444;border:2px dashed #777}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.slot-group.cdk-drop-list-dragging[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}return e})();const{isArray:KG}=Array,{getPrototypeOf:YG,prototype:QG,keys:ZG}=Object;const{isArray:e4}=Array;function r4(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function i4(...e){const t=function Tz(e){return Be(Qg(e))?e.pop():void 0}(e),{args:n,keys:r}=function XG(e){if(1===e.length){const t=e[0];if(KG(t))return{args:t,keys:null};if(function JG(e){return e&&"object"==typeof e&&YG(e)===QG}(t)){const n=ZG(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e),i=new et(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;kn(n[u]).subscribe(jt(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?r4(r,a):a),o.complete())}))}});return t?i.pipe(function n4(e){return ts(t=>function t4(e,t){return e4(t)?e(...t):e(t)}(e,t))}(t)):i}let SI=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(C(hr),C(St))};static \u0275dir=L({type:e})}return e})(),vi=(()=>{class e extends SI{static \u0275fac=(()=>{let n;return function(i){return(n||(n=rt(e)))(i||e)}})();static \u0275dir=L({type:e,features:[fe]})}return e})();const An=new S(""),o4={provide:An,useExisting:ye(()=>p0),multi:!0};let p0=(()=>{class e extends vi{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=rt(e)))(i||e)}})();static \u0275dir=L({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&ie("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[he([o4]),fe]})}return e})();const s4={provide:An,useExisting:ye(()=>g0),multi:!0},c4=new S("");let g0=(()=>{class e extends SI{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,null==this._compositionMode&&(this._compositionMode=!function a4(){const e=Zo()?Zo().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(C(hr),C(St),C(c4,8))};static \u0275dir=L({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[he([s4]),fe]})}return e})();const _t=new S(""),br=new S("");function OI(e){return null!=e}function PI(e){return pl(e)?_u(e):e}function FI(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function LI(e,t){return t.map(n=>n(e))}function VI(e){return e.map(t=>function u4(e){return!e.validate}(t)?t:n=>t.validate(n))}function y0(e){return null!=e?function BI(e){if(!e)return null;const t=e.filter(OI);return 0==t.length?null:function(n){return FI(LI(n,t))}}(VI(e)):null}function v0(e){return null!=e?function jI(e){if(!e)return null;const t=e.filter(OI);return 0==t.length?null:function(n){return i4(LI(n,t).map(PI)).pipe(ts(FI))}}(VI(e)):null}function HI(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function D0(e){return e?Array.isArray(e)?e:[e]:[]}function Iu(e,t){return Array.isArray(e)?e.includes(t):e===t}function zI(e,t){const n=D0(t);return D0(e).forEach(i=>{Iu(n,i)||n.push(i)}),n}function GI(e,t){return D0(t).filter(n=>!Iu(e,n))}class qI{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=y0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=v0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class yt extends qI{name;get formDirective(){return null}get path(){return null}}class Cr extends qI{_parent=null;name=null;valueAccessor=null}class WI{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let x0=(()=>{class e extends WI{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(C(Cr,2))};static \u0275dir=L({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Tn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[fe]})}return e})();const ga="VALID",Mu="INVALID",No="PENDING",ma="DISABLED";class Ro{}class QI extends Ro{value;source;constructor(t,n){super(),this.value=t,this.source=n}}class C0 extends Ro{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}}class S0 extends Ro{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}}class ku extends Ro{status;source;constructor(t,n){super(),this.status=t,this.source=n}}class w0 extends Ro{source;constructor(t){super(),this.source=t}}function Au(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class M0{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Fe(this.statusReactive)}set status(t){Fe(()=>this.statusReactive.set(t))}_status=Ke(()=>this.statusReactive());statusReactive=an(void 0);get valid(){return this.status===ga}get invalid(){return this.status===Mu}get pending(){return this.status==No}get disabled(){return this.status===ma}get enabled(){return this.status!==ma}errors;get pristine(){return Fe(this.pristineReactive)}set pristine(t){Fe(()=>this.pristineReactive.set(t))}_pristine=Ke(()=>this.pristineReactive());pristineReactive=an(!0);get dirty(){return!this.pristine}get touched(){return Fe(this.touchedReactive)}set touched(t){Fe(()=>this.touchedReactive.set(t))}_touched=Ke(()=>this.touchedReactive());touchedReactive=an(!1);get untouched(){return!this.touched}_events=new pe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(zI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(GI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(GI(t,this._rawAsyncValidators))}hasValidator(t){return Iu(this._rawValidators,t)}hasAsyncValidator(t){return Iu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const n=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new S0(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&!1!==t.emitEvent&&this._events.next(new S0(!1,r))}markAsDirty(t={}){const n=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new C0(!1,r))}markAsPristine(t={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&!1!==t.emitEvent&&this._events.next(new C0(!0,r))}markAsPending(t={}){this.status=No;const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new ku(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:n})}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ma,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new QI(this.value,r)),this._events.next(new ku(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ga,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ga||this.status===No)&&this._runAsyncValidator(r,t.emitEvent)}const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new QI(this.value,n)),this._events.next(new ku(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:n})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ma:ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=No,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n,shouldHaveEmitted:!1!==t};const r=PI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ku(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new ee,this.statusChanges=new ee}_calculateStatus(){return this._allControlsDisabled()?ma:this.errors?Mu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(No)?No:this._anyControlsHaveStatus(Mu)?Mu:ga}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new C0(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new S0(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Au(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function y4(e){return Array.isArray(e)?y0(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function v4(e){return Array.isArray(e)?v0(e):e||null}(this._rawAsyncValidators)}}const Oo=new S("",{factory:()=>Nu}),Nu="always";function _a(e,t,n=Nu){(function A0(e,t){const n=function $I(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(HI(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function UI(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(HI(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Pu(t._rawValidators,i),Pu(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function E4(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&eT(e,t)})}(e,t),function C4(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function b4(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&eT(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function x4(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Pu(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function eT(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function rT(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function iT(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const oT=class extends M0{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(function I0(e){return(Au(e)?e.validators:e)||null}(n),function T0(e,t){return(Au(t)?t.asyncValidators:e)||null}(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Au(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=iT(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,!1!==n?.emitEvent&&this._events.next(new w0(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){rT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){rT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){iT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},O4={provide:Cr,useExisting:ye(()=>ju)},sT=Promise.resolve();let ju=(()=>{class e extends Cr{_changeDetectorRef;callSetDisabledState;control=new oT;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ee;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function O0(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===g0?n=o:function I4(e){return Object.getPrototypeOf(e.constructor)===vi}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function R0(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_a(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){sT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&fn(r);sT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Ru(e,t){return[...t.path,e]}(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(C(yt,9),C(_t,10),C(br,10),C(An,10),C(Zs,8),C(Oo,8))};static \u0275dir=L({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[he([O4]),fe,$n]})}return e})();const W4={provide:An,useExisting:ye(()=>Da),multi:!0};function mT(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Da=(()=>{class e extends vi{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=x(qn).injector;destroyRef=x(jn);cdr=x(Zs);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Nc({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;const i=mT(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function K4(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=rt(e)))(i||e)}})();static \u0275dir=L({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[he([W4]),fe]})}return e})(),P0=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(mT(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(C(St),C(hr),C(Da,9))};static \u0275dir=L({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();const Y4={provide:An,useExisting:ye(()=>F0),multi:!0};function _T(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let F0=(()=>{class e extends vi{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);i.push(l)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Q4(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=rt(e)))(i||e)}})();static \u0275dir=L({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[he([Y4]),fe]})}return e})(),L0=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(_T(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(_T(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(C(St),C(hr),C(F0,9))};static \u0275dir=L({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),o5=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ni({type:e});static \u0275inj=er({})}return e})(),IT=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Oo,useValue:n.callSetDisabledState??Nu}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ni({type:e});static \u0275inj=er({imports:[o5]})}return e})(),TT=(()=>{class e{name;value;valueChange=new ee;toPercent(n){return Math.round(n/2.55)}onInput=function s5(e,t){let n;return function(r){n||(e(r),n=!0,setTimeout(()=>{n=!1},t))}}(this.emitValueChange.bind(this),50);emitValueChange(n){this.valueChange.emit(Number(n.target.value))}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Cn({type:e,selectors:[["fuse-knob"]],inputs:{name:"name",value:"value"},outputs:{valueChange:"valueChange"},decls:6,vars:3,consts:[[1,"name"],[1,"value"],["type","range","min","0","max","255",3,"input","value"]],template:function(r,i){1&r&&(it(0,"label")(1,"span",0),N(2),ot(),it(3,"span",1),N(4),ot()(),it(5,"input",2),Nl("input",function(s){return i.onInput(s)}),ot()),2&r&&(k(2),Ge(i.name),k(2),Ge(i.toPercent(i.value)),k(),Dp("value",i.value))},encapsulation:2})}return e})();const MT=(e,t)=>t.id,a5=(e,t)=>t.name,c5=(e,t)=>t.key;function l5(e,t){if(1&e&&(w(0,"option",2),N(1),I()),2&e){const n=t.$implicit;J("value",n.id),k(),Ge(n.name)}}function u5(e,t){if(1&e){const n=wt();w(0,"div",4)(1,"fuse-knob",5),ie("valueChange",function(i){const o=be(n).$implicit;return Ce(oe().onKnobChange(o.index,i))}),I()()}if(2&e){const n=t.$implicit;k(),J("name",n.name)("value",n.value)}}function d5(e,t){if(1&e&&(w(0,"option",2),N(1),I()),2&e){const n=t.$implicit;J("value",n.id),k(),Ge(n.name)}}function f5(e,t){if(1&e){const n=wt();w(0,"div",4)(1,"fuse-knob",5),ie("valueChange",function(i){const o=be(n).$implicit;return Ce(oe().onAdvancedSettingChange(o.key,i))}),I()()}if(2&e){const n=t.$implicit,r=oe();k(),J("name",n.label)("value",r.getAmpSettingNumberValue(n.key))}}let h5=(()=>{class e{settings=null;knobs=[];ampModels=[];cabModels=[];ampChange=new ee;cabinetChange=new ee;knobChange=new ee;advancedSettingChange=new ee;advancedSettingsDefinition=[{key:"bias",label:"Bias"},{key:"noiseGate",label:"Noise Gate"},{key:"threshold",label:"Gate Thresh"},{key:"sag",label:"Sag"},{key:"brightness",label:"Brightness"},{key:"depth",label:"Depth"}];onAmpChange(n){this.ampChange.emit(Number(n))}onCabinetChange(n){this.cabinetChange.emit(Number(n))}onKnobChange(n,r){this.knobChange.emit({index:n,value:r})}onAdvancedSettingChange(n,r){this.advancedSettingChange.emit({key:n,value:r})}getAmpSetting(n){return this.settings?this.settings[n]:0}getAmpSettingNumberValue(n){return Number(this.getAmpSetting(n))}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Cn({type:e,selectors:[["fuse-amp-editor"]],inputs:{settings:"settings",knobs:"knobs",ampModels:"ampModels",cabModels:"cabModels"},outputs:{ampChange:"ampChange",cabinetChange:"cabinetChange",knobChange:"knobChange",advancedSettingChange:"advancedSettingChange"},decls:22,vars:2,consts:[[1,"card"],[3,"ngModelChange","ngModel"],[3,"value"],[1,"knob-grid"],[1,"knob-control"],[3,"valueChange","name","value"]],template:function(r,i){1&r&&(w(0,"section",0)(1,"header")(2,"h3"),N(3,"Amplifier"),I(),w(4,"select",1),ie("ngModelChange",function(s){return i.onAmpChange(s)}),wn(5,l5,2,2,"option",2,MT),I()(),w(7,"div",3),wn(8,u5,2,2,"div",4,a5),I(),w(10,"div")(11,"label"),N(12,"Cabinet"),I(),w(13,"select",1),ie("ngModelChange",function(s){return i.onCabinetChange(s)}),wn(14,d5,2,2,"option",2,MT),I()(),w(16,"details")(17,"summary"),N(18,"Advanced parameters"),I(),w(19,"div",3),wn(20,f5,2,2,"div",4,c5),I()()()),2&r&&(k(4),J("ngModel",null==i.settings?null:i.settings.modelId),k(),In(i.ampModels),k(3),In(i.knobs),k(5),J("ngModel",null==i.settings?null:i.settings.cabinetId),k(),In(i.cabModels),k(6),In(i.advancedSettingsDefinition))},dependencies:[_i,IT,P0,L0,Da,x0,ju,TT],styles:[".card[_ngcontent-%COMP%]{background:#2b2b2b;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000004d}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border-bottom:1px solid #444;padding-bottom:10px}h3[_ngcontent-%COMP%]{margin:0;color:#eee}.knob-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:15px;margin-bottom:20px}.knob-control[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}select[_ngcontent-%COMP%]{background:#444;color:#fff;border:1px solid #555;padding:5px 10px;border-radius:4px}details[_ngcontent-%COMP%]{margin-top:20px;border-top:1px solid #444;padding-top:10px}summary[_ngcontent-%COMP%]{cursor:pointer;color:#aaa;margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#ddd}"]})}return e})();const Uu=(e,t)=>t.id,p5=(e,t)=>t.index;function g5(e,t){if(1&e&&(w(0,"option",6),N(1),I()),2&e){const n=t.$implicit;J("value",n.id),k(),Ge(n.name)}}function m5(e,t){if(1&e&&(w(0,"option",6),N(1),I()),2&e){const n=t.$implicit;J("value",n.id),k(),Ge(n.name)}}function _5(e,t){if(1&e&&(w(0,"option",6),N(1),I()),2&e){const n=t.$implicit;J("value",n.id),k(),Ge(n.name)}}function y5(e,t){if(1&e&&(w(0,"option",6),N(1),I()),2&e){const n=t.$implicit;J("value",n.id),k(),Ge(n.name)}}function v5(e,t){if(1&e){const n=wt();w(0,"div")(1,"select",5),ie("ngModelChange",function(i){return be(n),Ce(oe().onAssignEffect(i))}),w(2,"option",6),N(3,"-- Empty --"),I(),w(4,"optgroup",7),wn(5,g5,2,2,"option",6,Uu),I(),w(7,"optgroup",8),wn(8,m5,2,2,"option",6,Uu),I(),w(10,"optgroup",9),wn(11,_5,2,2,"option",6,Uu),I(),w(13,"optgroup",10),wn(14,y5,2,2,"option",6,Uu),I()()()}if(2&e){const n=oe();k(),J("ngModel",(null==n.effect?null:n.effect.modelId)||0),k(),J("value",0),k(3),In(n.getModelsForFamily(n.DspType.STOMP)),k(3),In(n.getModelsForFamily(n.DspType.MOD)),k(3),In(n.getModelsForFamily(n.DspType.DELAY)),k(3),In(n.getModelsForFamily(n.DspType.REVERB))}}function D5(e,t){if(1&e){const n=wt();w(0,"div",13)(1,"fuse-knob",14),ie("valueChange",function(i){const o=be(n).$implicit;return Ce(oe(3).onKnobChange(o.index,i))}),I()()}if(2&e){const n=t.$implicit;k(),J("name",n.name)("value",n.value)}}function x5(e,t){if(1&e){const n=wt();w(0,"div")(1,"div")(2,"label")(3,"input",11),ie("ngModelChange",function(i){return be(n),Ce(oe(2).onToggleEffect(i))}),I(),w(4,"span"),N(5),I()(),w(6,"div"),N(7),I()(),w(8,"div",12),wn(9,D5,2,2,"div",13,p5),I()()}if(2&e){const n=oe(2);k(3),J("ngModel",n.effect.enabled),k(2),Ge(n.effect.enabled?"Active":"Bypassed"),k(2),_r("Type: 0x",n.effect.type.toString(16)),k(2),In(n.effect.knobs)}}function E5(e,t){1&e&&(w(0,"div")(1,"p"),N(2,"Select an effect model above to assign to this slot."),I(),w(3,"p"),N(4,"Note, an effect can only be assigned to one slot at a time."),I()())}function b5(e,t){1&e&&mt(0,E5,5,0,"div",3),2&e&&J("ngIf",!oe(2).effect)}function C5(e,t){if(1&e&&(w(0,"div"),mt(1,x5,11,3,"div",4)(2,b5,1,1,"ng-template",null,1,bo),I()),2&e){const n=di(3),r=oe();k(),J("ngIf",r.effect)("ngIfElse",n)}}function S5(e,t){1&e&&(w(0,"div"),N(1,"Click a slot in the signal chain above to view and edit its settings."),I())}let w5=(()=>{class e{activeSlot=null;effect=null;effectModels=[];assignChange=new ee;toggleChange=new ee;knobChange=new ee;swapRequests=new ee;clearRequest=new ee;DspType=b;onAssignEffect(n){this.assignChange.emit(Number(n))}onToggleEffect(n){this.toggleChange.emit(n)}onKnobChange(n,r){this.knobChange.emit({index:n,value:r})}onSwapSlots(n,r){this.swapRequests.emit({slotA:n,slotB:r})}onClearSlot(){this.clearRequest.emit()}getModelsForFamily(n){return this.effectModels.filter(r=>r.type===n)}range(n){return Array.from({length:n},(r,i)=>i)}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Cn({type:e,selectors:[["fuse-effect-editor"]],inputs:{activeSlot:"activeSlot",effect:"effect",effectModels:"effectModels"},outputs:{assignChange:"assignChange",toggleChange:"toggleChange",knobChange:"knobChange",swapRequests:"swapRequests",clearRequest:"clearRequest"},decls:8,vars:4,consts:[["noActiveSlot",""],["emptySlot",""],[1,"card"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngModelChange","ngModel"],[3,"value"],["label","Stompbox"],["label","Modulation"],["label","Delay"],["label","Reverb"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"knob-grid"],[1,"knob-control"],[3,"valueChange","name","value"]],template:function(r,i){if(1&r&&(w(0,"section",2)(1,"header")(2,"h3"),N(3),I(),mt(4,v5,16,2,"div",3),I(),mt(5,C5,4,2,"div",4)(6,S5,2,0,"ng-template",null,0,bo),I()),2&r){const o=di(7);k(3),_r("Slot ",null!==i.activeSlot?i.activeSlot:""),k(),J("ngIf",null!==i.activeSlot),k(),J("ngIf",null!==i.activeSlot)("ngIfElse",o)}},dependencies:[_i,sa,IT,P0,L0,p0,Da,x0,ju,TT],styles:[".card[_ngcontent-%COMP%]{background:#2b2b2b;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000004d}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border-bottom:1px solid #444;padding-bottom:10px}h3[_ngcontent-%COMP%]{margin:0;color:#eee}.knob-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:15px;margin-bottom:20px}.knob-control[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}select[_ngcontent-%COMP%]{background:#444;color:#fff;border:1px solid #555;padding:5px 10px;border-radius:4px}label[_ngcontent-%COMP%]{color:#ddd}.secondary[_ngcontent-%COMP%]{background:#444;color:#fff;border:1px solid #555;border-radius:4px;cursor:pointer}.secondary[_ngcontent-%COMP%]:hover{background:#555}.secondary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}"]})}return e})(),I5=(()=>{class e{fuse;constructor(n){this.fuse=n}get controller(){return this.fuse.api.amp}setAmpModelById(n){return this.controller.setAmpModelById(n)}setAmpKnob(n,r){return this.controller.setAmpKnob(n,r)}setCabinetById(n){return this.controller.setCabinetById(n)}getAmpModel(){return this.controller.getAmpModel()}getAmpKnobs(){return this.controller.getAmpKnobs()}getSettings(){return this.controller.getSettings()}getCabinet(){return this.controller.getCabinet()}static \u0275fac=function(r){return new(r||e)(te(yi))};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),T5=(()=>{class e{fuse;constructor(n){this.fuse=n}get controller(){return this.fuse.api.effects}setEffectById(n,r){return this.controller.setEffectById(n,r)}setEffectEnabled(n,r){return this.controller.setEffectEnabled(n,r)}moveEffect(n,r){return this.controller.moveEffect(n,r)}swapEffects(n,r){return this.controller.swapEffects(n,r)}clearEffect(n){return this.controller.clearEffect(n)}setEffectKnob(n,r,i){return this.controller.setEffectKnob(n,r,i)}getEffectModel(n){return this.controller.getEffectModel(n)}getSettings(n){return this.controller.getSettings(n)}getEffectKnobs(n){return this.controller.getEffectKnobs(n)}getEffectModelId(n){return this.controller.getEffectModelId(n)}static \u0275fac=function(r){return new(r||e)(te(yi))};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function M5(e,t){if(1&e){const n=wt();w(0,"fuse-amp-editor",5),ie("ampChange",function(i){return be(n),Ce(oe().changeAmp(i))})("cabinetChange",function(i){return be(n),Ce(oe().changeCabinet(i))})("knobChange",function(i){return be(n),Ce(oe().changeAmpKnob(i.index,i.value))})("advancedSettingChange",function(i){return be(n),Ce(oe().changeAdvancedSetting(i.key,i.value))}),I()}if(2&e){const n=oe();J("settings",n.ampSettings())("knobs",n.ampKnobs())("ampModels",n.ampModels)("cabModels",n.cabModels)}}function k5(e,t){if(1&e){const n=wt();w(0,"fuse-effect-editor",6),ie("assignChange",function(i){be(n);const o=oe();return Ce(o.assignEffect(o.asNumber(o.activeSlot),i))})("toggleChange",function(i){be(n);const o=oe();return Ce(o.toggleEffect(o.asNumber(o.activeSlot),i))})("knobChange",function(i){be(n);const o=oe();return Ce(o.changeEffectKnob(o.asNumber(o.activeSlot),i.index,i.value))})("swapRequests",function(i){return be(n),Ce(oe().swapSlots(i.slotA,i.slotB))})("clearRequest",function(){be(n);const i=oe();return Ce(i.clearSlot(i.asNumber(i.activeSlot)))}),I()}if(2&e){const n=oe();J("activeSlot",n.asNumber(n.activeSlot))("effect",null!==n.asNumber(n.activeSlot)?n.allEffectSettings()[n.asNumber(n.activeSlot)]:null)("effectModels",n.effectModels)}}function A5(e,t){1&e&&(w(0,"div",7)(1,"p"),N(2,"Select an item in the signal chain to edit its settings."),I()())}let N5=(()=>{class e{service=x(yi);ampService=x(I5);effectService=x(T5);activeSlot=null;ampModels=Object.values($e);cabModels=$g;effectModels=Object.values(Ie);ampSettings=Ke(()=>(this.service.amp(),this.ampService.getSettings()));ampKnobs=Ke(()=>(this.service.amp(),this.ampService.getAmpKnobs()));allEffectSettings=Ke(()=>(this.service.effects(),Array.from({length:8},(n,r)=>r).map(n=>this.effectService.getSettings(n))));clearSlot(n){var r=this;return Q(function*(){yield r.effectService.clearEffect(n)})()}changeAmp(n){var r=this;return Q(function*(){yield r.ampService.setAmpModelById(n)})()}changeCabinet(n){var r=this;return Q(function*(){yield r.ampService.setCabinetById(n)})()}changeAmpKnob(n,r){var i=this;return Q(function*(){yield i.ampService.setAmpKnob(n,r)})()}changeAdvancedSetting(n,r){var i=this;return Q(function*(){const s={bias:42,noiseGate:47,threshold:48,sag:51,brightness:52,depth:41}[n];if(s){const a=s-32;yield i.ampService.setAmpKnob(a,r)}})()}assignEffect(n,r){var i=this;return Q(function*(){0===r?yield i.effectService.clearEffect(n):yield i.effectService.setEffectById(n,r)})()}toggleEffect(n,r){var i=this;return Q(function*(){yield i.effectService.setEffectEnabled(n,r)})()}changeEffectKnob(n,r,i){var o=this;return Q(function*(){yield o.effectService.setEffectKnob(n,r,i)})()}swapSlots(n,r){var i=this;return Q(function*(){yield i.effectService.swapEffects(n,r),i.activeSlot=r})()}moveEffect(n,r){var i=this;return Q(function*(){i.activeSlot=r,yield i.effectService.moveEffect(n,r)})()}isEffectSlot(n){return"number"==typeof n}asNumber(n){return"number"==typeof n?n:null}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Cn({type:e,selectors:[["fuse-dashboard"]],decls:5,vars:7,consts:[[3,"activeSlotChange","move","activeSlot","effects","ampSettings","cabinetModels"],[1,"editor-container"],[3,"settings","knobs","ampModels","cabModels","ampChange","cabinetChange","knobChange","advancedSettingChange",4,"ngIf"],[3,"activeSlot","effect","effectModels","assignChange","toggleChange","knobChange","swapRequests","clearRequest",4,"ngIf"],["class","empty-state",4,"ngIf"],[3,"ampChange","cabinetChange","knobChange","advancedSettingChange","settings","knobs","ampModels","cabModels"],[3,"assignChange","toggleChange","knobChange","swapRequests","clearRequest","activeSlot","effect","effectModels"],[1,"empty-state"]],template:function(r,i){1&r&&(w(0,"fuse-signal-chain",0),ie("activeSlotChange",function(s){return i.activeSlot=s})("move",function(s){return i.moveEffect(s.fromSlot,s.toSlot)}),I(),w(1,"div",1),mt(2,M5,1,4,"fuse-amp-editor",2)(3,k5,1,3,"fuse-effect-editor",3)(4,A5,3,0,"div",4),I()),2&r&&(J("activeSlot",i.activeSlot)("effects",i.allEffectSettings())("ampSettings",i.ampSettings())("cabinetModels",i.cabModels),k(2),J("ngIf","amp"===i.activeSlot),k(),J("ngIf",i.isEffectSlot(i.activeSlot)),k(),J("ngIf",null===i.activeSlot))},dependencies:[_i,sa,WG,h5,w5],styles:[".editor-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:50px;color:#666;font-style:italic}"]})}return e})();function R5(e,t){1&e&&(it(0,"p",7),N(1," \u26a0\ufe0f WebHID not detected. This application requires a browser with WebHID support ("),it(2,"a",10),N(3,"like Chrome, Edge or Opera"),ot(),N(4,"). "),ot())}let O5=(()=>{class e{service=x(yi);static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Cn({type:e,selectors:[["fuse-welcome"]],decls:27,vars:1,consts:[[1,"illustration"],["src","assets/mustang-intro.webp"],[1,"message"],["href","https://support.fender.com/en-us/knowledgebase/article/KA-01924","target","_blank"],[1,"connect"],[1,"success",3,"click"],[1,"icon"],[1,"unsupported"],[1,"disclaimer"],["href","https://github.com/jtangelder/mustang","target","_blank"],["href","https://caniuse.com/webhid","target","_blank"]],template:function(r,i){1&r&&(it(0,"div",0),mp(1,"img",1),ot(),it(2,"div",2)(3,"h1"),N(4,"Unofficial Fender FUSE replacement"),ot(),it(5,"p"),N(6," This tool restores the editing functionality lost when Fender "),it(7,"a",3),N(8,"discontinued"),ot(),N(9," their FUSE application. "),ot(),it(10,"p"),N(11,' It provides a simple interface to manage your presets, configure signal chains, and access the "hidden" amp models that require software control. No installation is needed; it runs entirely via your browser\'s USB connection. '),ot(),it(12,"p")(13,"strong"),N(14,"Get started by connecting your amplifier to your computer via USB."),ot()(),it(15,"div",4)(16,"button",5),Nl("click",function(){return i.service.connect()}),it(17,"span",6),N(18,"usb"),ot(),N(19," Connect your amp "),ot()(),dp(20,R5,5,0,"p",7),it(21,"p",8)(22,"em"),N(23,"This is a hobby project, not affiliated with Fender in any way. Please "),it(24,"a",9),N(25,"contribute on GitHub"),ot(),N(26," if you find it useful."),ot()()()),2&r&&(k(20),hp(i.service.isSupported()?-1:20))},dependencies:[_i],encapsulation:2})}return e})();function P5(e,t){1&e&&(w(0,"div",0),vo(1,"fuse-sidebar")(2,"fuse-dashboard"),I())}function F5(e,t){1&e&&vo(0,"fuse-welcome")}(function u$(e,t,n){return yH({rootComponent:e,platformRef:n?.platformRef,...mS(t)})})((()=>{class e{service=x(yi);static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Cn({type:e,selectors:[["fuse-root"]],decls:2,vars:1,consts:[[1,"container"]],template:function(r,i){1&r&&dp(0,P5,3,0,"div",0)(1,F5,1,0,"fuse-welcome"),2&r&&hp(i.service.connected()?0:1)},dependencies:[_i,q3,N5,O5],encapsulation:2})}return e})(),{providers:[function c8(){return ct("NgEagerAnimations"),[...a8]}()]}).catch(e=>console.error(e))}},Qe=>{Qe(Qe.s=978)}]);